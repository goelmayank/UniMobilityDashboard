"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var moment = require("moment-mini");
exports.DateMapService = (function () {
    var instance;
    return {
        getInstance: function () {
            if (!instance) {
                instance = {
                    today_end: moment().endOf('day').toISOString(),
                    today_start: moment().startOf('day').toISOString(),
                    yesterday_start: moment().subtract(1, 'days').toISOString(),
                    yesterday_end: moment().subtract(1, 'days').endOf('day').toISOString(),
                    day_7_start: moment().subtract(6, 'days').toISOString(),
                    month_start: moment().startOf('month').toISOString(),
                    day_30_start: moment().subtract(29, 'days').toISOString(),
                };
            }
            return instance;
        }
    };
})();
exports.DateRangeMap = {
    "today": {
        start: exports.DateMapService.getInstance().today_start,
        end: exports.DateMapService.getInstance().today_end
    },
    "yesterday": {
        start: exports.DateMapService.getInstance().yesterday_start,
        end: exports.DateMapService.getInstance().yesterday_end,
    },
    "last_7_days": {
        start: exports.DateMapService.getInstance().day_7_start,
        end: exports.DateMapService.getInstance().today_end
    },
    "this_month": {
        start: exports.DateMapService.getInstance().month_start,
        end: exports.DateMapService.getInstance().today_end
    },
    "last_30_days": {
        start: exports.DateMapService.getInstance().day_30_start,
        end: exports.DateMapService.getInstance().today_end
    }
};
exports.DateRangeLabelMap = [
    {
        label: "Today",
        range: exports.DateRangeMap.today,
        isSingleDay: true,
        hasToday: true
    },
    {
        label: "Yesterday",
        range: exports.DateRangeMap.yesterday,
        isSingleDay: true,
        hasToday: false
    },
    {
        label: "Last 7 days",
        range: exports.DateRangeMap.last_7_days,
        isSingleDay: false,
        hasToday: true
    },
    {
        label: "This month",
        range: exports.DateRangeMap.this_month,
        isSingleDay: false,
        hasToday: true
    },
    {
        label: "Last 30 days",
        range: exports.DateRangeMap.last_30_days,
        isSingleDay: false,
        hasToday: true
    }
];
exports.isSameDateRange = function (range1, range2) {
    function nearTime(t1, t2) {
        return Math.abs(new Date(t1).getTime() - new Date(t2).getTime()) < 1000;
    }
    return (nearTime(range1.start, range2.start) && nearTime(range1.end, range2.end));
};
//# sourceMappingURL=date-range.js.map