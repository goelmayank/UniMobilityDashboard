{"remainingRequest":"/Github/UniDashboard/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--3-1!/Github/UniDashboard/node_modules/ht-utility/dist/ht-utility.es5.js","dependencies":[{"path":"/Github/UniDashboard/node_modules/ht-utility/dist/ht-utility.es5.js","mtime":0},{"path":"/Github/UniDashboard/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Github/UniDashboard/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["import { isToday, isTomorrow, isValid, isYesterday, format, startOfMinute, addMilliseconds, isSameMinute, addDays, endOfToday, endOfYesterday, isSameDay, startOfDay, startOfMonth, startOfToday, startOfYesterday } from 'date-fns';\nimport { determine } from 'jstz';\nvar AuthLessReqOptions = function () {\n    var headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: null\n    };\n    var options = { headers: headers };\n    return options;\n};\nfunction ArrayHumanize(array) {\n    return array.reduce(function (acc, string, i) {\n        var connector = \", \";\n        if (i == 0)\n            connector = \"\";\n        if (i == array.length - 1)\n            connector = \" and \";\n        return acc + connector + string;\n    }, \"\");\n}\nvar __assign = (undefined && undefined.__assign) || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n    }\n    return t;\n};\n/**\n * Works similar to underscore indexBy, converts array to object\n * @param array : this is convereted to object\n * @param key(default = 'id') : indexBy prop name\n */\nvar indexBy = function (array, key) {\n    if (key === void 0) {\n        key = 'id';\n    }\n    return array.reduce(function (acc, item) {\n        return __assign({}, acc, (_a = {}, _a[item[key]] = item, _a));\n        var _a;\n    }, {});\n};\nvar Color = {\n    green: \"#85C487\",\n    greenLight: \"#94dc96\",\n    greenDark: \"#6bb564\",\n    red: \"#E6413E\",\n    redDark: \"#ac3532\",\n    redLight: \"#f06f49\",\n    grey2: \"#C9D6DE\",\n    grey3: \"#A9BAC4\",\n    grey4: \"#798E9B\",\n    grey5: \"#52616A\",\n    black: \"#000000\",\n    blue: \"#5496F8\",\n    blueLight: \"#77b1f8\",\n    blueDark: \"#497cd0\",\n    mapBg: \"#d7d5d5\",\n    stop: \"#FFBB44\",\n    stopDark: \"#ef9040\"\n};\nvar COUNTRIES = [\n    \"Afghanistan\",\n    \"Albania\",\n    \"Algeria\",\n    \"American Samoa\",\n    \"Andorra\",\n    \"Angola\",\n    \"Anguilla\",\n    \"Antartica\",\n    \"Antigua and Barbuda\",\n    \"Argentina\",\n    \"Armenia\",\n    \"Aruba\",\n    \"Australia\",\n    \"Austria\",\n    \"Azerbaijan\",\n    \"Bahamas\",\n    \"Bahrain\",\n    \"Bangladesh\",\n    \"Barbados\",\n    \"Belarus\",\n    \"Belgium\",\n    \"Belize\",\n    \"Benin\",\n    \"Bermuda\",\n    \"Bhutan\",\n    \"Bolivia\",\n    \"Bosnia and Herzegowina\",\n    \"Botswana\",\n    \"Bouvet Island\",\n    \"Brazil\",\n    \"British Indian Ocean Territory\",\n    \"Brunei Darussalam\",\n    \"Bulgaria\",\n    \"Burkina Faso\",\n    \"Burundi\",\n    \"Cambodia\",\n    \"Cameroon\",\n    \"Canada\",\n    \"Cape Verde\",\n    \"Cayman Islands\",\n    \"Central African Republic\",\n    \"Chad\",\n    \"Chile\",\n    \"China\",\n    \"Christmas Island\",\n    \"Cocos Islands\",\n    \"Colombia\",\n    \"Comoros\",\n    \"Congo\",\n    \"Congo\",\n    \"Cook Islands\",\n    \"Costa Rica\",\n    \"Cota D'Ivoire\",\n    \"Croatia\",\n    \"Cuba\",\n    \"Cyprus\",\n    \"Czech Republic\",\n    \"Denmark\",\n    \"Djibouti\",\n    \"Dominica\",\n    \"Dominican Republic\",\n    \"East Timor\",\n    \"Ecuador\",\n    \"Egypt\",\n    \"El Salvador\",\n    \"Equatorial Guinea\",\n    \"Eritrea\",\n    \"Estonia\",\n    \"Ethiopia\",\n    \"Falkland Islands\",\n    \"Faroe Islands\",\n    \"Fiji\",\n    \"Finland\",\n    \"France\",\n    \"France Metropolitan\",\n    \"French Guiana\",\n    \"French Polynesia\",\n    \"French Southern Territories\",\n    \"Gabon\",\n    \"Gambia\",\n    \"Georgia\",\n    \"Germany\",\n    \"Ghana\",\n    \"Gibraltar\",\n    \"Greece\",\n    \"Greenland\",\n    \"Grenada\",\n    \"Guadeloupe\",\n    \"Guam\",\n    \"Guatemala\",\n    \"Guinea\",\n    \"Guinea-Bissau\",\n    \"Guyana\",\n    \"Haiti\",\n    \"Heard and McDonald Islands\",\n    \"Holy See\",\n    \"Honduras\",\n    \"Hong Kong\",\n    \"Hungary\",\n    \"Iceland\",\n    \"India\",\n    \"Indonesia\",\n    \"Iran\",\n    \"Iraq\",\n    \"Ireland\",\n    \"Israel\",\n    \"Italy\",\n    \"Jamaica\",\n    \"Japan\",\n    \"Jordan\",\n    \"Kazakhstan\",\n    \"Kenya\",\n    \"Kiribati\",\n    \"Democratic People's Republic of Korea\",\n    \"Korea\",\n    \"Kuwait\",\n    \"Kyrgyzstan\",\n    \"Lao\",\n    \"Latvia\",\n    \"Lebanon\",\n    \"Lesotho\",\n    \"Liberia\",\n    \"Libyan Arab Jamahiriya\",\n    \"Liechtenstein\",\n    \"Lithuania\",\n    \"Luxembourg\",\n    \"Macau\",\n    \"Macedonia\",\n    \"Madagascar\",\n    \"Malawi\",\n    \"Malaysia\",\n    \"Maldives\",\n    \"Mali\",\n    \"Malta\",\n    \"Marshall Islands\",\n    \"Martinique\",\n    \"Mauritania\",\n    \"Mauritius\",\n    \"Mayotte\",\n    \"Mexico\",\n    \"Micronesia\",\n    \"Moldova\",\n    \"Monaco\",\n    \"Mongolia\",\n    \"Montserrat\",\n    \"Morocco\",\n    \"Mozambique\",\n    \"Myanmar\",\n    \"Namibia\",\n    \"Nauru\",\n    \"Nepal\",\n    \"Netherlands\",\n    \"Netherlands Antilles\",\n    \"New Caledonia\",\n    \"New Zealand\",\n    \"Nicaragua\",\n    \"Niger\",\n    \"Nigeria\",\n    \"Niue\",\n    \"Norfolk Island\",\n    \"Northern Mariana Islands\",\n    \"Norway\",\n    \"Oman\",\n    \"Pakistan\",\n    \"Palau\",\n    \"Panama\",\n    \"Papua New Guinea\",\n    \"Paraguay\",\n    \"Peru\",\n    \"Philippines\",\n    \"Pitcairn\",\n    \"Poland\",\n    \"Portugal\",\n    \"Puerto Rico\",\n    \"Qatar\",\n    \"Reunion\",\n    \"Romania\",\n    \"Russia\",\n    \"Rwanda\",\n    \"Saint Kitts and Nevis\",\n    \"Saint LUCIA\",\n    \"Saint Vincent\",\n    \"Samoa\",\n    \"San Marino\",\n    \"Sao Tome and Principe\",\n    \"Saudi Arabia\",\n    \"Senegal\",\n    \"Seychelles\",\n    \"Sierra\",\n    \"Singapore\",\n    \"Slovakia\",\n    \"Slovenia\",\n    \"Solomon Islands\",\n    \"Somalia\",\n    \"South Africa\",\n    \"South Georgia\",\n    \"Span\",\n    \"SriLanka\",\n    \"St. Helena\",\n    \"St. Pierre and Miguelon\",\n    \"Sudan\",\n    \"Suriname\",\n    \"Svalbard\",\n    \"Swaziland\",\n    \"Sweden\",\n    \"Switzerland\",\n    \"Syria\",\n    \"Taiwan\",\n    \"Tajikistan\",\n    \"Tanzania\",\n    \"Thailand\",\n    \"Togo\",\n    \"Tokelau\",\n    \"Tonga\",\n    \"Trinidad and Tobago\",\n    \"Tunisia\",\n    \"Turkey\",\n    \"Turkmenistan\",\n    \"Turks and Caicos\",\n    \"Tuvalu\",\n    \"Uganda\",\n    \"Ukraine\",\n    \"United Arab Emirates\",\n    \"United Kingdom\",\n    \"United States\",\n    \"United States Minor Outlying Islands\",\n    \"Uruguay\",\n    \"Uzbekistan\",\n    \"Vanuatu\",\n    \"Venezuela\",\n    \"Vietnam\",\n    \"Virgin Islands (British)\",\n    \"Virgin Islands (U.S)\",\n    \"Wallis and Futana Islands\",\n    \"Western Sahara\",\n    \"Yemen\",\n    \"Yugoslavia\",\n    \"Zambia\",\n    \"Zimbabwe\"\n];\nfunction DateHumanize(value, arg) {\n    if (arg === void 0) {\n        arg = false;\n    }\n    if (typeof value == \"string\" && value.length > 4 && isValid(new Date(value))) {\n        var date = new Date(value);\n        if (isToday(date)) {\n            return \"Today\";\n        }\n        else if (isYesterday(date)) {\n            return \"Yesterday\";\n        }\n        else if (isTomorrow(date)) {\n            return \"Tomorrow\";\n        }\n        else {\n            return format(date, \"D MMM\");\n        }\n    }\n    else {\n        return value;\n    }\n}\nfunction DateString(item, args) {\n    if (typeof item == \"string\" && item.length > 4 && isValid(new Date(item))) {\n        var formatString = args == \"short\" ? \"MMM D\" : \"MMM D, YYYY\";\n        return format(new Date(item), formatString);\n    }\n    else {\n        return item;\n    }\n}\nfunction getTimezone() {\n    return determine().name();\n}\nfunction DistanceLocale(meters, timezone) {\n    if (timezone === void 0) {\n        timezone = \"_\";\n    }\n    timezone = timezone || getTimezone();\n    if (meters != undefined && typeof meters == \"number\" && meters >= 0) {\n        var america = timezone.indexOf(\"America\") > -1;\n        // console.log(config.timezone.indexOf('America'), america, config.timezone);\n        // let test = false;\n        if (america) {\n            var miles = Math.round(meters * 0.00621371) / 10;\n            var milesLocaleString = miles.toLocaleString(undefined, {\n                minimumFractionDigits: 1,\n                maximumFractionDigits: 1\n            });\n            return milesLocaleString + \" miles\";\n        }\n        else {\n            var km = Math.round(meters / 100) / 10;\n            var kmLocaleString = km.toLocaleString(undefined, {\n                minimumFractionDigits: 1,\n                maximumFractionDigits: 1\n            });\n            return kmLocaleString + \" km\";\n        }\n    }\n    else {\n        return \"-\";\n    }\n}\nfunction DotString(value, dot) {\n    if (dot === void 0) {\n        dot = \"--\";\n    }\n    return value || value === 0 || value === \"\" ? value : dot;\n}\nvar HMString = function (timeMinutes, scale) {\n    if (scale === void 0) {\n        scale = 1;\n    }\n    if (timeMinutes) {\n        var min = timeMinutes / scale;\n        var minutes = min % 60;\n        var hours = (min - minutes) / 60;\n        var minuteCeiling = Math.ceil(minutes);\n        var duration = minuteCeiling + \" min\";\n        if (min >= 60 && hours <= 24) {\n            duration = Math.floor(minutes) + \" min\";\n            duration = hours + \" hr \" + duration;\n        }\n        else if (hours > 24) {\n            var day = Math.floor(hours / 24);\n            var hour = Math.floor(hours % 24);\n            duration = day + \" d\";\n            if (hour > 0 && day < 3) {\n                duration = duration + \" \" + hour + \" hr\";\n            }\n        }\n        return duration;\n    }\n    else if (timeMinutes == 0) {\n        return \"1 min\";\n    }\n    else {\n        return \"\";\n    }\n};\nfunction HtShow(toShow, className) {\n    if (className === void 0) {\n        className = \"flex\";\n    }\n    return \"display: \" + (toShow ? className : \"none\") + \";\";\n}\nvar NameCase = function (name, split) {\n    if (split === void 0) {\n        split = \" \";\n    }\n    if (name && typeof name == \"string\") {\n        var words = name.split(split);\n        words = words.map(function (word) {\n            var uppercase = word.toUpperCase();\n            var lowercase = word.toLowerCase();\n            if (word == uppercase || word == lowercase) {\n                return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n            }\n            else {\n                return word;\n            }\n        });\n        var newName = words.reduce(function (string, word) {\n            return string + \" \" + word;\n        }, \"\");\n        return newName;\n    }\n    else {\n        return name;\n    }\n};\nvar getNearestMinute = function (date) {\n    // if (moment(date).seconds() > 30) {\n    //   let roundedDate = moment(date).add(1, \"minute\");\n    //   return moment(roundedDate).startOf('minute');\n    // }\n    return startOfMinute(date);\n};\nfunction TimeString(item, args) {\n    if (typeof item == \"string\" && item.length > 4) {\n        return format(getNearestMinute(item), \"h:mm a\");\n        // return getNearestMinute(item).format(\"h:mm a\");\n    }\n    else {\n        return item;\n    }\n}\n// export function DayAgoISO() {\n//   return subDays(new Date(), 1).toISOString();\n// }\nfunction OffsetIsoTime(time, offset) {\n    if (offset === void 0) {\n        offset = 10;\n    }\n    return addMilliseconds(time, offset).toISOString();\n}\nfunction GetMinute(time) {\n    var timeStamp = new Date(time).getTime();\n    return Math.round(timeStamp - timeStamp % 60000);\n}\nfunction HasSameMinute(time1, time2) {\n    return isSameMinute(time1, time2);\n}\nfunction humanizeDuration(second, scale) {\n    if (second) {\n        var min = second / (scale * 60);\n        var minutes = min % 60;\n        var hours = (min - minutes) / 60;\n        var minuteCeiling = Math.ceil(minutes);\n        var duration = minuteCeiling + \" min\";\n        if (min >= 60 && hours <= 24) {\n            duration = Math.floor(minutes) + \" min\";\n            duration = hours + \" hr \" + duration;\n        }\n        else if (hours > 24) {\n            var day = Math.floor(hours / 24);\n            var hour = Math.floor(hours % 24);\n            duration = day + \" d\";\n            if (hour > 0 && day < 3) {\n                duration = duration + \" \" + hour + \" hr\";\n            }\n        }\n        return duration;\n    }\n    else if (second == 0) {\n        return \"1 min\";\n    }\n    else {\n        return \"\";\n    }\n}\nvar __assign$1 = (undefined && undefined.__assign) || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n    }\n    return t;\n};\nvar DateMapService = (function () {\n    var instance;\n    return {\n        getInstance: function () {\n            if (!instance) {\n                instance = {\n                    today_end: endOfToday().toISOString(),\n                    today_start: startOfToday().toISOString(),\n                    yesterday_start: startOfYesterday().toISOString(),\n                    yesterday_end: endOfYesterday().toISOString(),\n                    day_7_start: startOfDay(addDays(new Date(), -6)).toISOString(),\n                    month_start: startOfMonth(new Date()).toISOString(),\n                    day_30_start: startOfDay(addDays(new Date(), -29)).toISOString(),\n                };\n            }\n            return instance;\n        }\n    };\n})();\nvar DateRangeMap = {\n    \"today\": {\n        start: DateMapService.getInstance().today_start,\n        end: DateMapService.getInstance().today_end\n    },\n    \"yesterday\": {\n        start: DateMapService.getInstance().yesterday_start,\n        end: DateMapService.getInstance().yesterday_end,\n    },\n    \"last_7_days\": {\n        start: DateMapService.getInstance().day_7_start,\n        end: DateMapService.getInstance().today_end\n    },\n    \"this_month\": {\n        start: DateMapService.getInstance().month_start,\n        end: DateMapService.getInstance().today_end\n    },\n    \"last_30_days\": {\n        start: DateMapService.getInstance().day_30_start,\n        end: DateMapService.getInstance().today_end\n    }\n};\nvar DateRangeLabelMap = [\n    {\n        label: \"Today\",\n        range: DateRangeMap.today,\n        isSingleDay: true,\n        hasToday: true\n    },\n    {\n        label: \"Yesterday\",\n        range: DateRangeMap.yesterday,\n        isSingleDay: true,\n        hasToday: false\n    },\n    {\n        label: \"Last 7 days\",\n        range: DateRangeMap.last_7_days,\n        isSingleDay: false,\n        hasToday: true\n    },\n    {\n        label: \"This month\",\n        range: DateRangeMap.this_month,\n        isSingleDay: false,\n        hasToday: true\n    },\n    {\n        label: \"Last 30 days\",\n        range: DateRangeMap.last_30_days,\n        isSingleDay: false,\n        hasToday: true\n    }\n];\nfunction isSameRange(range1, range2) {\n    var start1 = range1.start;\n    var start2 = range2.start;\n    return isSameDay(start1, start2) && isSameDay(range1.end, range2.end);\n}\nfunction IsRangeToday(range) {\n    if (range.start && range.end) {\n        return range.start == startOfToday().toISOString() && range.end == endOfToday().toISOString();\n    }\n    else if (!range.start && !range.end) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction GetDateRangeQuery(query, param) {\n    if (param === void 0) {\n        param = \"created_at\";\n    }\n    var start = query[\"start\"];\n    var end = query[\"end\"];\n    return __assign$1({}, query, (_a = {}, _a[\"min_\" + param] = start, _a[\"max_\" + param] = end, _a.start = null, _a.end = null, _a));\n    var _a;\n}\nfunction IsRangeADay(range) {\n    if (range.start && range.end) {\n        return isSameDay(range.end, range.start);\n        // return moment(range.end).diff(moment(range.start), \"days\") == 0;\n    }\n    else if (!range.start && !range.end) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction RangeHasToday(query) {\n    if (query.end) {\n        return query.end == endOfToday().toISOString();\n    }\n    else {\n        return true;\n    }\n}\nvar dateRangeDisplay = function (range) {\n    var rangeItem = DateRangeLabelMap.find(function (item) {\n        return isSameDateRange(item.range, range);\n    });\n    if (rangeItem)\n        return rangeItem.label;\n    // const matchKey = Object.keys(DateRangeMap).find((key) => {\n    //   return isSameDateRange(DateRangeMap[key], range)\n    // });\n    // return \"\";\n    var customDate = DateRangeLabelMap.find(function (data) {\n        var customRange = data.range;\n        return isSameRange(range, customRange);\n    });\n    if (customDate)\n        return customDate.label;\n    var isSingleDay = IsRangeADay(range);\n    if (isSingleDay) {\n        var isToday$$1 = IsRangeToday(range);\n        var suffix = isToday$$1 ? \"Today \" : \"\";\n        var string = suffix + DateString(range.start);\n        return string;\n    }\n    else {\n        // console.log(DateString(range.start), range.start);\n        return DateString(range.start) + \" - \" + DateString(range.end);\n    }\n};\nvar isSameDateRange = function (range1, range2) {\n    function nearTime(t1, t2) {\n        return isSameDay(t1, t2);\n    }\n    return (nearTime(range1.start, range2.start) && nearTime(range1.end, range2.end));\n};\nvar IsValidUrl = function (url) {\n    if (!url)\n        return false;\n    var urlRegex = /^https?\\:\\/\\/[^\\/\\s]+(\\/.*)?$/;\n    var urlExpression = new RegExp(urlRegex);\n    return urlExpression.test(url) || url == \"\";\n};\nvar HtQuerySerialize = function (obj) {\n    var str = [];\n    for (var p in obj)\n        if (obj.hasOwnProperty(p)) {\n            if (obj[p] || obj[p] == 0 || obj[p] == false)\n                str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n        }\n    return str.join(\"&\");\n};\nvar GetUrlParam = function (name, url) {\n    url = url || window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"), results = regex.exec(url);\n    if (!results)\n        return null;\n    if (!results[2])\n        return \"\";\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n};\nvar HtCustomEvent = /*@__PURE__*/ (function () {\n    function HtCustomEvent() {\n        this.topics = {};\n        this.hOP = this.topics.hasOwnProperty;\n    }\n    HtCustomEvent.prototype.next = function (topic, info) {\n        // If the topic doesn't exist, or there's no listeners in queue, just leave\n        if (!this.hOP.call(this.topics, topic))\n            return;\n        // Cycle through topics queue, fire!\n        this.topics[topic].forEach(function (item) {\n            item(info != undefined ? info : {});\n        });\n    };\n    HtCustomEvent.prototype.subscribe = function (topic, listener) {\n        // Create the topic's object if not yet created\n        if (!this.hOP.call(this.topics, topic))\n            this.topics[topic] = [];\n        // Add the listener to queue\n        var index = this.topics[topic].push(listener) - 1;\n        // Provide handle back for removal of topic\n        return {\n            unsubscribe: function () {\n                delete this.topics[topic][index];\n            }\n        };\n    };\n    return HtCustomEvent;\n}());\nexport { DateString, AuthLessReqOptions, ArrayHumanize, indexBy, Color, COUNTRIES, DateHumanize, DistanceLocale, DotString, HMString, HtShow, NameCase, TimeString, OffsetIsoTime, GetMinute, HasSameMinute, humanizeDuration, DateMapService, DateRangeMap, DateRangeLabelMap, isSameRange, IsRangeToday, GetDateRangeQuery, IsRangeADay, RangeHasToday, dateRangeDisplay, isSameDateRange, IsValidUrl, HtQuerySerialize, GetUrlParam, HtCustomEvent, getTimezone };\n//# sourceMappingURL=ht-utility.es5.js.map\n",null]}