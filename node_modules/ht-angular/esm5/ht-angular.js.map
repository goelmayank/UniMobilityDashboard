{
  "version": 3,
  "file": "ht-angular.js",
  "sources": [
    "ng://ht-angular/out/ht-angular/tracking/tracking.module.ts",
    "ng://ht-angular/out/ht-angular/infobox/infobox.module.ts",
    "ng://ht-angular/out/ht-angular/popper/popper.module.ts",
    "ng://ht-angular/out/ht-angular/popper/popper-directive.ts",
    "ng://ht-angular/out/ht-angular/infobox/infobox.component.ts",
    "ng://ht-angular/out/ht-angular/popper/popper-content.ts",
    "ng://ht-angular/out/ht-angular/popper/popper.service.ts",
    "ng://ht-angular/out/ht-angular/popper/popper.model.ts",
    "ng://ht-angular/out/ht-angular/tracking-map/tracking-map.module.ts",
    "ng://ht-angular/out/ht-angular/tracking-map/tracking-map.component.ts",
    "ng://ht-angular/out/ht-angular/start-popup/start-popup.module.ts",
    "ng://ht-angular/out/ht-angular/start-popup/start-popup.component.ts",
    "ng://ht-angular/out/ht-angular/action-status/action-status.module.ts",
    "ng://ht-angular/out/ht-angular/action-status/action-status.component.ts",
    "ng://ht-angular/out/ht-angular/user-popup/user-popup.module.ts",
    "ng://ht-angular/out/ht-angular/user-popup/user-popup.component.ts",
    "ng://ht-angular/out/ht-angular/destination-popup/destination-popup.module.ts",
    "ng://ht-angular/out/ht-angular/destination-popup/destination-popup.component.ts",
    "ng://ht-angular/out/ht-angular/action-summary/action-summary.module.ts",
    "ng://ht-angular/out/ht-angular/action-summary/action-summary.component.ts",
    "ng://ht-angular/out/ht-angular/tracking/tracking.component.ts",
    "ng://ht-angular/out/ht-angular/tracking-map/tracking-map.service.ts",
    "ng://ht-angular/out/ht-angular/tracking/tracking.service.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-container.module.ts",
    "ng://ht-angular/out/ht-angular/analytics-map-container/analytics-map-container.module.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-item-load/analytics-item-load.module.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-item-load/analytics-item-load.component.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-title/analytics-title.component.ts",
    "ng://ht-angular/out/ht-angular/actions-summary-chart/actions-summary-chart.module.ts",
    "ng://ht-angular/out/ht-angular/actions-analytics-list/actions-analytics-list.module.ts",
    "ng://ht-angular/out/ht-angular/action-table/action-table.module.ts",
    "ng://ht-angular/out/ht-angular/action-table/action-table.component.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-tags/analytics-tags.module.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-tags/analytics-tags.component.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-selector/analytics-selector.component.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-item/analytics-item.component.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-item/analytics-slot.directive.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-container.component.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-items.service.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-presets/actions-status-graph-preset.ts",
    "ng://ht-angular/out/ht-angular/actions-heatmap/actions-heatmap.service.ts",
    "ng://ht-angular/out/ht-angular/actions-summary-chart/actions-summary.service.ts",
    "ng://ht-angular/out/ht-angular/actions-summary-chart/actions-summary-chart.component.ts",
    "ng://ht-angular/out/ht-angular/actions-analytics-list/actions-analytics-list.service.ts",
    "ng://ht-angular/out/ht-angular/actions-analytics-list/actions-analytics-list.component.ts",
    "ng://ht-angular/out/ht-angular/actions-status-graph/actions-status-graph.service.ts",
    "ng://ht-angular/out/ht-angular/analytics-container/analytics-presets/users-list-preset.ts",
    "ng://ht-angular/out/ht-angular/stops-heatmap/stops-heatmap.service.ts",
    "ng://ht-angular/out/ht-angular/analytics-map-container/analytics-map-container.component.ts",
    "ng://ht-angular/out/ht-angular/users-summary-chart/users-summary.service.ts",
    "ng://ht-angular/out/ht-angular/users-analytics-list/users-analytics-list.service.ts",
    "ng://ht-angular/out/ht-angular/actions-status-graph/actions-status-graph.module.ts",
    "ng://ht-angular/out/ht-angular/actions-status-graph/actions-status-graph.component.ts",
    "ng://ht-angular/out/ht-angular/until-destroy.ts",
    "ng://ht-angular/out/ht-angular/placeline-map-container/placeline-map-container.module.ts",
    "ng://ht-angular/out/ht-angular/placeline-map-container/placeline-map-container.component.ts",
    "ng://ht-angular/out/ht-angular/groups-chart-container/groups-chart-container.module.ts",
    "ng://ht-angular/out/ht-angular/groups-chart-container/groups-chart-container.component.ts",
    "ng://ht-angular/out/ht-angular/groups-chart-container/groups-chart.service.ts",
    "ng://ht-angular/out/ht-angular/groups-container/groups-container.module.ts",
    "ng://ht-angular/out/ht-angular/groups-container/groups-container.component.ts",
    "ng://ht-angular/out/ht-angular/groups/groups.module.ts",
    "ng://ht-angular/out/ht-angular/groups/groups.component.ts",
    "ng://ht-angular/out/ht-angular/users-list-container/users-list-container.module.ts",
    "ng://ht-angular/out/ht-angular/users-list-container/users-list-container.component.ts",
    "ng://ht-angular/out/ht-angular/users-analytics-list/users-analytics-list.module.ts",
    "ng://ht-angular/out/ht-angular/user-table/user-table.module.ts",
    "ng://ht-angular/out/ht-angular/data-table/data-table.module.ts",
    "ng://ht-angular/out/ht-angular/data-table/data-table.component.ts",
    "ng://ht-angular/out/ht-angular/user-table/user-table.component.ts",
    "ng://ht-angular/out/ht-angular/users-analytics-list/users-analytics-list.component.ts",
    "ng://ht-angular/out/ht-angular/users-summary-chart/users-summary-chart.module.ts",
    "ng://ht-angular/out/ht-angular/users-summary-chart/users-summary-chart.component.ts",
    "ng://ht-angular/out/ht-angular/users-map-container/users-map-container.module.ts",
    "ng://ht-angular/out/ht-angular/filters/users-filter/users-filter.module.ts",
    "ng://ht-angular/out/ht-angular/filters/date-range/date-range.module.ts",
    "ng://ht-angular/out/ht-angular/date-range-picker/date-range-picker.module.ts",
    "ng://ht-angular/out/ht-angular/date-range-picker/date-range-picker.component.ts",
    "ng://ht-angular/out/ht-angular/filters/date-range/date-range.component.ts",
    "ng://ht-angular/out/ht-angular/filters/entity-search/entity-search.module.ts",
    "ng://ht-angular/out/ht-angular/filters/entity-search/entity-search.component.ts",
    "ng://ht-angular/out/ht-angular/filters/users-filter/users-filter.component.ts",
    "ng://ht-angular/out/ht-angular/map-container/map-container.module.ts",
    "ng://ht-angular/out/ht-angular/map/map.module.ts",
    "ng://ht-angular/out/ht-angular/map/map.component.ts",
    "ng://ht-angular/out/ht-angular/map-container/map-container.component.ts",
    "ng://ht-angular/out/ht-angular/users-map-container/users-map-container.component.ts",
    "ng://ht-angular/out/ht-angular/users-container/users-container.module.ts",
    "ng://ht-angular/out/ht-angular/pagination/pagination.module.ts",
    "ng://ht-angular/out/ht-angular/pagination/pagination.component.ts",
    "ng://ht-angular/out/ht-angular/placeline-container/placeline-container.module.ts",
    "ng://ht-angular/out/ht-angular/placeline-container/placeline-container.component.ts",
    "ng://ht-angular/out/ht-angular/placeline/placeline.module.ts",
    "ng://ht-angular/out/ht-angular/placeline/placeline.component.ts",
    "ng://ht-angular/out/ht-angular/users-container/users-container.component.ts",
    "ng://ht-angular/out/ht-angular/users/users.module.ts",
    "ng://ht-angular/out/ht-angular/users/users.component.ts",
    "ng://ht-angular/out/ht-angular/user-card/user-card.module.ts",
    "ng://ht-angular/out/ht-angular/user-card/user-card.component.ts",
    "ng://ht-angular/out/ht-angular/users-summary-container/users-summary-container.module.ts",
    "ng://ht-angular/out/ht-angular/users-summary/users-summary.module.ts",
    "ng://ht-angular/out/ht-angular/shared/shared.module.ts",
    "ng://ht-angular/out/ht-angular/shared/dropdown/dropdown.directive.ts",
    "ng://ht-angular/out/ht-angular/shared/loading-bar/loading-bar.component.ts",
    "ng://ht-angular/out/ht-angular/shared/button/button.component.ts",
    "ng://ht-angular/out/ht-angular/pipes/pluralize.pipe.ts",
    "ng://ht-angular/out/ht-angular/pipes/safe-url.pipe.ts",
    "ng://ht-angular/out/ht-angular/pipes/action-sorting-string.pipe.ts",
    "ng://ht-angular/out/ht-angular/pipes/user-sorting-string.pipe.ts",
    "ng://ht-angular/out/ht-angular/pipes/action-status-string.pipe.ts",
    "ng://ht-angular/out/ht-angular/pipes/users-status-string.pipe.ts",
    "ng://ht-angular/out/ht-angular/pipes/hm-string.pipe.ts",
    "ng://ht-angular/out/ht-angular/pipes/distance-locale.pipe.ts",
    "ng://ht-angular/out/ht-angular/pipes/date-humanize.pipe.ts",
    "ng://ht-angular/out/ht-angular/shared/loading-data/loading-data.component.ts",
    "ng://ht-angular/out/ht-angular/shared/loading-dots/loading-dots.component.ts",
    "ng://ht-angular/out/ht-angular/pipes/dot.pipe.ts",
    "ng://ht-angular/out/ht-angular/pipes/name-case.pipe.ts",
    "ng://ht-angular/out/ht-angular/pipes/date-string.pipe.ts",
    "ng://ht-angular/out/ht-angular/pipes/time-string.pipe.ts",
    "ng://ht-angular/out/ht-angular/shared/battery-icon/battery-icon.component.ts",
    "ng://ht-angular/out/ht-angular/shared/profile/profile.component.ts",
    "ng://ht-angular/out/ht-angular/users-summary/users-summary.component.ts",
    "ng://ht-angular/out/ht-angular/users-summary-container/users-summary-container.component.ts",
    "ng://ht-angular/out/ht-angular/ht/ht.module.ts",
    "ng://ht-angular/out/ht-angular/ht/ht-request.service.ts",
    "ng://ht-angular/out/ht-angular/ht/ht-actions.service.ts",
    "ng://ht-angular/out/ht-angular/ht/ht-account-users.service.ts",
    "ng://ht-angular/out/ht-angular/ht/ht-groups.service.ts",
    "ng://ht-angular/out/ht-angular/ht/ht-map.service.ts",
    "ng://ht-angular/out/ht-angular/ht/ht-users.service.ts",
    "ng://ht-angular/out/ht-angular/ht/ht-client.service.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TrackingComponent } from './tracking.component';\nimport { TrackingService } from './tracking.service';\nimport {ActionSummaryModule} from \"../action-summary/action-summary.module\";\nimport {DestinationPopupModule} from \"../destination-popup/destination-popup.module\";\nimport {UserPopupModule} from \"../user-popup/user-popup.module\";\nimport {ActionStatusModule} from \"../action-status/action-status.module\";\nimport {StartPopupModule} from \"../start-popup/start-popup.module\";\nimport {TrackingMapModule} from \"../tracking-map/tracking-map.module\";\nimport {InfoboxModule} from \"../infobox/infobox.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TrackingMapModule,\n    ActionSummaryModule,\n    DestinationPopupModule,\n    UserPopupModule,\n    ActionStatusModule,\n    StartPopupModule,\n    InfoboxModule\n  ],\n  declarations: [TrackingComponent],\n  exports: [TrackingComponent],\n  providers: [TrackingService],\n})\nexport class TrackingModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { InfoboxComponent } from './infobox.component';\nimport {PopperModule} from \"../popper/popper.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    PopperModule\n  ],\n  declarations: [InfoboxComponent],\n  exports: [InfoboxComponent]\n})\nexport class InfoboxModule { }\n",
    "import {CommonModule} from \"@angular/common\";\nimport {ModuleWithProviders, NgModule} from \"@angular/core\";\nimport {PopperController} from './popper-directive';\nimport {PopperContent} from './popper-content';\nimport {PopperContentOptions} from './popper.model';\nimport { PopperService } from './popper.service';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    PopperController,\n    PopperContent\n  ],\n  exports: [\n    PopperController,\n    PopperContent\n  ],\n  entryComponents: [\n    PopperContent\n  ],\n  providers: [\n    {\n      provide: 'popperDefaults', useValue: {}\n    },\n    PopperService\n    ]\n})\nexport class PopperModule {\n  ngDoBootstrap() {\n  }\n\n  public static forRoot(popperBaseOptions: PopperContentOptions = {}): ModuleWithProviders {\n    return {ngModule: PopperModule, providers: [{provide: 'popperDefaults', useValue: popperBaseOptions}]};\n  }\n}\n",
    "import {\n  Directive,\n  HostListener,\n  ComponentRef,\n  ViewContainerRef,\n  ComponentFactoryResolver,\n  Input,\n  OnChanges,\n  SimpleChange,\n  Output,\n  EventEmitter, OnInit, Renderer2, ChangeDetectorRef, Inject\n} from '@angular/core';\nimport {PopperContent} from './popper-content';\nimport {Placement, Placements, PopperContentOptions, Trigger, Triggers} from './popper.model';\n\n@Directive({\n  selector: '[popper]',\n  exportAs: 'popper'\n})\nexport class PopperController implements OnInit, OnChanges {\n  private popperContentClass = PopperContent;\n  private popperContentRef: ComponentRef<PopperContent>;\n  private shown: boolean = false;\n  private scheduledShowTimeout: any;\n  private scheduledHideTimeout: any;\n  private subscriptions: any[] = [];\n  private globalClick: any;\n  private globalScroll: any;\n\n  constructor(private viewContainerRef: ViewContainerRef,\n              private changeDetectorRef: ChangeDetectorRef,\n              private resolver: ComponentFactoryResolver,\n              private renderer: Renderer2,\n              @Inject('popperDefaults') private popperDefaults: PopperContentOptions = {}) {\n    PopperController.baseOptions = {...PopperController.baseOptions, ...this.popperDefaults}\n  }\n\n  public static baseOptions: PopperContentOptions = <PopperContentOptions>{\n    placement: Placements.AutoTop,\n    hideOnClickOutside: true,\n    hideOnScroll: false,\n    showTrigger: Triggers.HOVER\n  };\n\n  @Input('popper')\n  content: string | PopperContent;\n\n  @Input('popperDisabled')\n  disabled: boolean;\n\n  @Input('popperPlacement')\n  placement: Placement;\n\n  @Input('popperTrigger')\n  showTrigger: Trigger | undefined;\n\n  @Input('popperTarget')\n  targetElement: HTMLElement;\n\n  @Input('popperDelay')\n  showDelay: number = 0;\n\n  @Input('popperTimeout')\n  hideTimeout: number = 0;\n\n  @Input('popperTimeoutAfterShow')\n  timeoutAfterShow: number = 0;\n\n  @Input('popperBoundaries')\n  boundariesElement: string;\n\n  @Input('popperShowOnStart')\n  showOnStart: boolean;\n\n  @Input('popperCloseOnClickOutside')\n  closeOnClickOutside: boolean;\n\n  @Input('popperHideOnClickOutside')\n  hideOnClickOutside: boolean | undefined;\n\n  @Input('popperHideOnScroll')\n  hideOnScroll: boolean | undefined;\n\n  @Input('popperPositionFixed')\n  positionFixed: boolean;\n\n  @Input('popperModifiers')\n  popperModifiers: {};\n\n  @Input('popperDisableStyle')\n  disableStyle: boolean;\n\n  @Input('popperDisableAnimation')\n  disableAnimation: boolean;\n\n  @Input('popperForceDetection')\n  forceDetection: boolean;\n\n  @Output()\n  popperOnShown = new EventEmitter<PopperController>();\n\n  @Output()\n  popperOnHidden = new EventEmitter<PopperController>();\n\n  @HostListener('touchstart')\n  @HostListener('click')\n  showOrHideOnClick(): void {\n    if (this.disabled || this.showTrigger !== Triggers.CLICK) {\n      return;\n    }\n    this.toggle();\n  }\n\n  @HostListener('touchstart')\n  @HostListener('mousedown')\n  showOrHideOnMouseOver(): void {\n    if (this.disabled || this.showTrigger !== Triggers.MOUSEDOWN) {\n      return;\n    }\n    this.toggle();\n  }\n\n  @HostListener('mouseenter')\n  showOnHover(): void {\n    if (this.disabled || this.showTrigger !== Triggers.HOVER) {\n      return;\n    }\n    this.scheduledShow();\n  }\n\n  hideOnClickOutsideHandler($event: MouseEvent): void {\n    if (this.disabled || !this.hideOnClickOutside) {\n      return;\n    }\n    this.scheduledHide($event, this.hideTimeout);\n  }\n\n  hideOnScrollHandler($event: MouseEvent): void {\n    if (this.disabled || !this.hideOnScroll) {\n      return;\n    }\n    this.scheduledHide($event, this.hideTimeout);\n  }\n\n  @HostListener('touchend')\n  @HostListener('touchcancel')\n  @HostListener('mouseleave')\n  hideOnLeave(): void {\n    if (this.disabled || this.showTrigger !== Triggers.HOVER) {\n      return;\n    }\n    this.scheduledHide(null, this.hideTimeout);\n  }\n\n  static assignDefined(target: any, ...sources: any[]) {\n    for (const source of sources) {\n      for (const key of Object.keys(source)) {\n        const val = source[key];\n        if (val !== undefined) {\n          target[key] = val;\n        }\n      }\n    }\n    return target;\n  }\n\n  ngOnInit() {\n    //Support legacy prop\n    this.hideOnClickOutside = typeof this.hideOnClickOutside === 'undefined' ?\n      this.closeOnClickOutside : this.hideOnClickOutside;\n\n    if (typeof this.content === 'string') {\n      const text = this.content;\n      this.content = this.constructContent();\n      this.content.text = text;\n    }\n    const popperRef = this.content as PopperContent;\n    popperRef.referenceObject = this.getRefElement();\n    this.setContentProperties(popperRef);\n    this.setDefaults();\n\n    if (this.showOnStart) {\n      this.scheduledShow();\n    }\n  }\n\n  ngOnChanges(changes: { [propertyName: string]: SimpleChange }) {\n    if (changes['popperDisabled']) {\n      if (changes['popperDisabled'].currentValue) {\n        this.hide();\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe && sub.unsubscribe());\n    this.subscriptions.length = 0;\n    this.clearEventListeners();\n  }\n\n  toggle() {\n    this.shown ? this.scheduledHide(null, this.hideTimeout) : this.scheduledShow();\n  }\n\n  show() {\n    if (this.shown) {\n      this.overrideHideTimeout();\n      return;\n    }\n\n    this.shown = true;\n    const popperRef = this.content as PopperContent;\n    const element = this.getRefElement();\n    if (popperRef.referenceObject !== element) {\n      popperRef.referenceObject = element;\n    }\n    this.setContentProperties(popperRef);\n    popperRef.show();\n    this.popperOnShown.emit(this);\n    if (this.timeoutAfterShow > 0) {\n      this.scheduledHide(null, this.timeoutAfterShow);\n    }\n    this.globalClick = this.renderer.listen('document', 'click', this.hideOnClickOutsideHandler.bind(this));\n    this.globalScroll = this.renderer.listen(this.getScrollParent(this.getRefElement()), 'scroll', this.hideOnScrollHandler.bind(this));\n  }\n\n  hide() {\n    if (!this.shown) {\n      this.overrideShowTimeout();\n      return;\n    }\n\n    this.shown = false;\n    if (this.popperContentRef) {\n      this.popperContentRef.instance.hide();\n    }\n    else {\n      (this.content as PopperContent).hide();\n    }\n    this.popperOnHidden.emit(this);\n    this.clearEventListeners();\n  }\n\n  scheduledShow(delay: number = this.showDelay) {\n    this.overrideHideTimeout();\n    this.scheduledShowTimeout = setTimeout(() => {\n      this.show();\n      this.applyChanges();\n    }, delay)\n  }\n\n  scheduledHide($event: any = null, delay: number = 0) {\n    this.overrideShowTimeout();\n    this.scheduledHideTimeout = setTimeout(() => {\n      const toElement = $event ? $event.toElement : null;\n      const popperContentView = (this.content as PopperContent).popperViewRef ? (this.content as PopperContent).popperViewRef.nativeElement : false;\n      if (!popperContentView || popperContentView === toElement || popperContentView.contains(toElement) || (this.content as PopperContent).isMouseOver) {\n        return;\n      }\n      this.hide();\n      this.applyChanges();\n    }, delay)\n  }\n\n  getRefElement() {\n    return this.targetElement || this.viewContainerRef.element.nativeElement;\n  }\n\n  private applyChanges() {\n    this.changeDetectorRef.markForCheck();\n    if (this.forceDetection) {\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  private setDefaults(){\n    this.showTrigger = typeof this.showTrigger === 'undefined' ?  PopperController.baseOptions.trigger : this.showTrigger;\n    this.hideOnClickOutside = typeof this.hideOnClickOutside === 'undefined' ?  PopperController.baseOptions.hideOnClickOutside : this.hideOnClickOutside;\n    this.hideOnScroll = typeof this.hideOnScroll === 'undefined' ?  PopperController.baseOptions.hideOnScroll : this.hideOnScroll;\n  }\n\n  private clearEventListeners() {\n    this.globalClick && typeof this.globalClick === 'function' && this.globalClick();\n    this.globalScroll && typeof this.globalScroll === 'function' && this.globalScroll();\n  }\n\n  private overrideShowTimeout() {\n    if (this.scheduledShowTimeout) {\n      clearTimeout(this.scheduledShowTimeout);\n      this.scheduledHideTimeout = 0;\n    }\n  }\n\n  private overrideHideTimeout() {\n    if (this.scheduledHideTimeout) {\n      clearTimeout(this.scheduledHideTimeout);\n      this.scheduledHideTimeout = 0;\n    }\n  }\n\n  private constructContent(): PopperContent {\n    const factory = this.resolver.resolveComponentFactory(this.popperContentClass);\n    this.popperContentRef = this.viewContainerRef.createComponent(factory);\n    return this.popperContentRef.instance as PopperContent;\n  }\n\n  private setContentProperties(popperRef: PopperContent) {\n    popperRef.popperOptions = PopperController.assignDefined(popperRef.popperOptions, PopperController.baseOptions, {\n      disableAnimation: this.disableAnimation,\n      disableDefaultStyling: this.disableStyle,\n      placement: this.placement,\n      boundariesElement: this.boundariesElement,\n      trigger: this.showTrigger,\n      positionFixed: this.positionFixed,\n      popperModifiers: this.popperModifiers,\n    });\n    this.subscriptions.push(popperRef.onHidden.subscribe(this.hide.bind(this)));\n  }\n\n  private getScrollParent(node) {\n    const isElement = node instanceof HTMLElement;\n    const overflowY = isElement && window.getComputedStyle(node).overflowY;\n    const isScrollable = overflowY !== 'visible' && overflowY !== 'hidden';\n\n    if (!node) {\n      return null;\n    } else if (isScrollable && node.scrollHeight >= node.clientHeight) {\n      return node;\n    }\n\n    return this.getScrollParent(node.parentNode) || document;\n  }\n\n\n}\n",
    "import {Component, Input, OnInit, ViewChild, AfterViewInit} from '@angular/core';\nimport {PopperContent} from \"../popper/popper-content\";\nimport {HtMapService} from \"../ht/ht-map.service\";\n\n@Component({\n  selector: 'ht-infobox',\n  template: `<popper-content [referenceObject]=\"item.elem\" (click)=\"onClick($event)\">\n  <ng-content></ng-content>\n</popper-content>\n`,\n  styles: [``]\n})\nexport class InfoboxComponent implements OnInit, AfterViewInit {\n  @ViewChild(PopperContent) popper: PopperContent;\n  @Input() item: {\n    data: any,\n    elem: HTMLElement,\n    id: string,\n    onUpdate?: any;\n  };\n  constructor(private mapService: HtMapService) { }\n\n  ngOnInit() {\n\n  }\n\n  ngAfterViewInit() {\n    const mapUtils = this.mapService.mapInstance.mapUtils;\n    const map = this.mapService.mapInstance.map;\n    mapUtils.onEvent(map, 'move', () => {\n      this.popper.scheduleUpdate();\n    });\n    if (this.item.onUpdate) this.item.onUpdate.subscribe((entity) => {\n      this.popper.scheduleUpdate();\n    })\n  };\n\n  onClick(e) {\n    this.popper.scheduleUpdate();\n  }\n\n}\n",
    "import {\n  Component,\n  ElementRef,\n  OnDestroy,\n  ViewChild,\n  EventEmitter,\n  HostListener, Renderer2, Input,\n} from \"@angular/core\";\nimport Popper from 'popper.js';\nimport {Placements, Triggers, PopperContentOptions} from './popper.model';\nimport {PopperService} from \"./popper.service\";\n\n@Component({\n  selector: \"popper-content\",\n  template: `\n<div #popperViewRef \n     [class.ngxp__container]=\"!popperOptions.disableDefaultStyling\"  \n     [class.ngxp__animation]=\"!popperOptions.disableAnimation\"\n     [style.display]=\"displayType\"\n     [style.opacity]=\"opacity\"\n     role=\"popper\">\n    <ng-content ></ng-content>  \n    \n</div>\n`,\n  styles: [`\n.ngxp__container {\n  display:none;\n    z-index: 1000;\n}\n.ngxp__container.ngxp__animation {\n   -webkit-animation: ngxp-fadeIn  150ms ease-out;\n    -moz-animation: ngxp-fadeIn  150ms ease-out;\n    -o-animation: ngxp-fadeIn  150ms ease-out;\n    animation: ngxp-fadeIn  150ms ease-out;\n  transition: transform 0.1s;\n  \n}\n\n.ngxp__container[x-placement^=\"top\"],\n.ngxp__container[x-placement^=\"bottom\"],\n.ngxp__container[x-placement^=\"right\"],\n.ngxp__container[x-placement^=\"left\"]\n{\n  display:block;\n}\n\n@-webkit-keyframes ngxp-fadeIn { \n 0% {\n        display: none;\n        opacity: 0;\n    }\n    1% {\n        display: block;\n        opacity: 0;\n    }\n    100% {\n        display: block;\n        opacity: 1;\n    }\n}\n@keyframes ngxp-fadeIn {\n  0% {\n        display: none;\n        opacity: 0;\n    }\n    1% {\n        display: block;\n        opacity: 0;\n    }\n    100% {\n        display: block;\n        opacity: 1;\n    }\n}\n`]\n})\nexport class PopperContent implements OnDestroy {\n\n  popperOptions: PopperContentOptions = <PopperContentOptions>{\n    disableAnimation: false,\n    disableDefaultStyling: false,\n    placement: Placements.AutoTop,\n    boundariesElement: '',\n    trigger: Triggers.HOVER,\n    positionFixed: false,\n    popperModifiers: {}\n  };\n\n  @Input() referenceObject: HTMLElement;\n\n  isMouseOver: boolean = false;\n\n  onHidden = new EventEmitter();\n\n  text: string;\n\n  popperInstance: Popper;\n\n  displayType: string = \"none\";\n\n  opacity: number = 0;\n\n  private globalResize: any;\n\n  @ViewChild(\"popperViewRef\")\n  popperViewRef: ElementRef;\n\n  @HostListener('mouseover')\n  onMouseOver() {\n    this.isMouseOver = true;\n  }\n\n  @HostListener('mouseleave')\n  showOnLeave() {\n    this.isMouseOver = false;\n    if (this.popperOptions.trigger !== Triggers.HOVER) {\n      return;\n    }\n    this.hide();\n  }\n\n  onDocumentResize() {\n    this.update();\n  }\n\n  constructor(private renderer: Renderer2, private popperService: PopperService) {\n  }\n\n  ngOnInit() {\n    this.show()\n  }\n\n  ngOnDestroy() {\n    if (!this.popperInstance) {\n      return;\n    }\n    (this.popperInstance as any).disableEventListeners();\n    this.popperInstance.destroy();\n\n  }\n\n  private col(data) {\n    // data.flipped\n    const collision = this.popperService.checkCollision(data);\n    if(collision) {\n      data = {...data, placement: this.clockwise(data.placement)}\n    };\n\n    this.popperService.addPopper(data);\n    return data\n  };\n\n  private clockwise(placement) {\n    const placements = [\n      'auto-start',\n      'auto',\n      'auto-end',\n      'top-start',\n      'top',\n      'top-end',\n      'right-start',\n      'right',\n      'right-end',\n      'bottom-end',\n      'bottom',\n      'bottom-start',\n      'left-end',\n      'left',\n      'left-start',\n    ];\n    const validPlacements = placements.slice(3);\n    const index = validPlacements.indexOf(placement);\n    const arr = validPlacements\n      .slice(index + 1)\n      .concat(validPlacements.slice(0, index));\n    return arr.reverse()[1];\n  }\n\n  show(): void {\n    if (!this.referenceObject) {\n      return;\n    }\n    function applyReactStyle(data) {\n      console.log(data);\n      return data\n    }\n    let popperOptions: Popper.PopperOptions = <Popper.PopperOptions>{\n      placement: this.popperOptions.placement,\n      positionFixed: this.popperOptions.positionFixed,\n      modifiers: {\n        preventOverflow: {\n          escapeWithReference: true,\n          // boundariesElement: 'viewport'\n        },\n        offset: {\n          offset: '0px, 8px'\n        },\n        flipCol: {\n          enabled: true,\n          order: 504,\n          // order: 604,\n          // store: this.popperService.poppers,\n          fn: (data) => {\n            return this.col(data)\n          }\n        },\n      }\n    };\n\n    let boundariesElement = this.popperOptions.boundariesElement && document.querySelector(this.popperOptions.boundariesElement);\n\n    if (popperOptions.modifiers && boundariesElement) {\n      popperOptions.modifiers.preventOverflow = { boundariesElement };\n    }\n\n    popperOptions.modifiers = Object.assign(popperOptions.modifiers, this.popperOptions.popperModifiers);\n\n    this.popperInstance = new Popper(\n      this.referenceObject,\n      this.popperViewRef.nativeElement,\n      popperOptions,\n    );\n    // this.popperService.addPopper(this.popperInstance);\n    (this.popperInstance as any).enableEventListeners();\n    this.scheduleUpdate();\n    this.toggleVisibility(true);\n    this.globalResize = this.renderer.listen('document', 'resize', this.onDocumentResize.bind(this))\n  };\n\n  update(): void {\n    this.popperInstance && (this.popperInstance as any).update();\n  }\n\n  scheduleUpdate(): void {\n    this.popperInstance && (this.popperInstance as any).scheduleUpdate();\n  }\n\n  hide(): void {\n    // if (this.popperInstance) {\n    //   this.popperInstance.destroy();\n    // }\n    // this.toggleVisibility(false);\n    // this.onHidden.emit();\n  }\n\n  toggleVisibility(state: boolean) {\n    if (!state) {\n      this.opacity = 0;\n      // this.displayType = \"none\";\n    }\n    else {\n      this.opacity = 1;\n      this.displayType = \"block\";\n    }\n  }\n\n  private clearGlobalResize(){\n    this.globalResize && typeof this.globalResize === 'function' && this.globalResize();\n  }\n\n}\n",
    "import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class PopperService {\n  poppers: any[] = [];\n  constructor() { }\n\n  addPopper(popper) {\n    let didMatch = false;\n    this.poppers = this.poppers.map((currentPopper) => {\n      if (popper.instance == currentPopper.instance) {\n        didMatch = true;\n        return popper\n      } else {\n        return currentPopper\n      }\n    });\n    if (!didMatch) {\n      this.poppers.push(popper)\n    }\n  };\n\n  checkCollision(data): false | any[] {\n    const otherPoppers = this.getOtherPoppers(data);\n    return this.detctCollisions(data, otherPoppers)\n  };\n\n  private getOtherPoppers(data) {\n    return this.poppers.reduce((rest, p) => {\n      return p.instance == data.instance ? rest : [...rest, p];\n    }, []);\n  };\n\n  detctCollisions(data, otherPoppers): false | any[] {\n    const detected = otherPoppers.reduce((acc, data1) => {\n      const col = this.detctCollision(data, data1);\n      return col ? [...acc, data1] : acc\n    }, []);\n    return detected.length ? detected : false\n  }\n\n  private detctCollision(data1, data2) {\n    var d1_offset             = data1.popper;\n    var d1_height             = data1.popper.height;\n    var d1_width              = data1.popper.width;\n    var d1_distance_from_top  = d1_offset.top + d1_height;\n    var d1_distance_from_left = d1_offset.left + d1_width;\n\n    // Div 2 data\n    var d2_offset             = data2.popper;\n    var d2_height             = data2.popper.height;\n    var d2_width              = data2.popper.width;\n    var d2_distance_from_top  = d2_offset.top + d2_height;\n    var d2_distance_from_left = d2_offset.left + d2_width;\n\n    // if(d1_distance_from_top < d2_offset.top || d1_offset.top > d2_distance_from_top) {\n    //\n    // };\n    //\n    // if (d1_distance_from_left < d2_offset.left || d1_offset.left > d2_distance_from_left) {\n    //\n    // }\n\n    var not_colliding = ( d1_distance_from_top < d2_offset.top || d1_offset.top > d2_distance_from_top || d1_distance_from_left < d2_offset.left || d1_offset.left > d2_distance_from_left );\n\n    // Return whether it IS colliding\n    return ! not_colliding;\n  }\n\n}\n",
    "export type Trigger =\n  | 'click'\n  | 'mousedown'\n  | 'hover'\n  | 'none' ;\n\nexport class Triggers {\n  static CLICK: Trigger = 'click';\n  static HOVER: Trigger = 'hover';\n  static MOUSEDOWN: Trigger = 'mousedown';\n  static NONE: Trigger = 'none';\n}\n\nexport type Placement =\n  | 'top'\n  | 'bottom'\n  | 'left'\n  | 'right'\n  | 'top-start'\n  | 'bottom-start'\n  | 'left-start'\n  | 'right-start'\n  | 'top-end'\n  | 'bottom-end'\n  | 'left-end'\n  | 'right-end'\n  | 'auto'\n  | 'auto-top'\n  | 'auto-bottom'\n  | 'auto-left'\n  | 'auto-right'\n  | Function\n\nexport class Placements {\n  static Top: Placement = 'top';\n  static Bottom: Placement = 'bottom';\n  static Left: Placement = 'left';\n  static Right: Placement = 'right';\n  static TopStart: Placement = 'top-start';\n  static BottomStart: Placement = 'bottom-start';\n  static LeftStart: Placement = 'left-start';\n  static RightStart: Placement = 'right-start';\n  static TopEnd: Placement = 'top-end';\n  static BottomEnd: Placement = 'bottom-end';\n  static LeftEnd: Placement = 'left-end';\n  static RightEnd: Placement = 'right-end';\n  static Auto: Placement = 'auto';\n  static AutoTop: Placement = 'auto-top';\n  static AutoBottom: Placement = 'auto-bottom';\n  static AutoLeft: Placement = 'auto-left';\n  static AutoRight: Placement = 'auto-right';\n}\n\nexport interface PopperContentOptions {\n  disableAnimation?: boolean;\n  disableDefaultStyling?: boolean;\n  placement?: Placement;\n  boundariesElement?: string;\n  trigger?: Trigger;\n  positionFixed?: boolean;\n  hideOnClickOutside?: boolean;\n  hideOnScroll?: boolean;\n  popperModifiers?: {};\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TrackingMapComponent } from './tracking-map.component';\nimport {MapModule} from \"../map/map.module\";\nimport { TrackingMapService } from './tracking-map.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MapModule\n  ],\n  declarations: [TrackingMapComponent],\n  exports: [TrackingMapComponent],\n  providers: [TrackingMapService]\n})\nexport class TrackingMapModule { }\n",
    "import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {HtMapService} from \"../ht/ht-map.service\";\nimport {TrackingMapService} from \"./tracking-map.service\";\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\n@Component({\n  selector: 'ht-tracking-map',\n  template: `<ng-container *ngIf=\"mapInstance\">\n  <ht-map (onMapReset)=\"trackingMapService.resetMap()\" [setBoundsOptions]=\"setBoundsOptions\" [showReset]=\"dirty$ | async\" [mapInstance]=\"mapInstance\">\n    <ng-template #reset>\n      <div class=\"icon reset-icon\">\n        <i class=\"ion-pinpoint auto\"></i>\n      </div>\n    </ng-template>\n  </ht-map>\n</ng-container>\n<div class=\"card-bottom\" #card >\n  <div class=\"card-bottom-content\">\n    <ng-content></ng-content>\n  </div>\n</div>\n\n`,\n  styles: [`.card-bottom{\n  position:absolute;\n  bottom:0;\n  z-index:1001;\n  width:100vw; }\n\n.card-bottom-content{\n  width:93%;\n  margin:auto; }\n\n:host{\n  position:relative; }\n\n.reset-icon{\n  background-color:#fff;\n  border-radius:50%;\n  font-size:2.2rem;\n  height:3rem;\n  width:3rem;\n  -webkit-box-shadow:0px 0px 4px grey;\n          box-shadow:0px 0px 4px grey; }\n`]\n})\nexport class TrackingMapComponent implements OnInit {\n  mapInstance;\n  @Input() showSummary: boolean = false;\n  @ViewChild('card') card;\n  constructor(\n    private mapService: HtMapService,\n    public trackingMapService: TrackingMapService\n  ) {\n    this.mapInstance = this.mapService.mapInstance;\n    // let add = window.devicePixelRatio > 1 ? '@2x' : '';\n    // const url = environment.tileUrl ? `${environment.tileUrl}${add}.png?key=${environment.mapKey}` : null;\n    // url && this.mapInstance.mapUtils.setDefaultMapOptions({tileLayerUrl: url, tileLayerOptions: {\n    //     attribution:\n    //       '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n    //   }});\n  }\n\n  get dirty$(): BehaviorSubject<boolean> {\n    return this.trackingMapService.dirty$\n  }\n\n  get setBoundsOptions() {\n    //todo fix this, not passing defaultSetOptions now\n    const options = this.showSummary ? {...this.trackingMapService.defaultSetBoundsOptions, paddingBottomRight: [15, 120]} : {...this.trackingMapService.defaultSetBoundsOptions};\n    return options\n  }\n\n  ngOnInit() {\n    this.mapInstance.setBoundsOptions = this.setBoundsOptions;\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { StartPopupComponent } from './start-popup.component';\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n  ],\n  declarations: [StartPopupComponent],\n  exports: [StartPopupComponent]\n})\nexport class StartPopupModule { }\n",
    "import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\nimport {IAction, IPlace} from \"ht-models\";\n\n@Component({\n  selector: 'ht-start-popup',\n  template: `<div class=\"card\">\n  <div class=\"card-content is-popup\">\n    <div class=\"text-caption\">{{action.started_at | timeString}}</div>\n    <div class=\"text-title\">{{getStartName(action)}}</div>\n  </div>\n</div>\n`,\n  styles: [`.card{\n  max-width:150px;\n  background:#250D47;\n  color:white;\n  -webkit-box-shadow:0 2px 6px 0 rgba(114, 114, 114, 0.6);\n          box-shadow:0 2px 6px 0 rgba(114, 114, 114, 0.6); }\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StartPopupComponent implements OnInit {\n  @Input() action: IAction;\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n  getStartName(action: IAction): string {\n    const place: IPlace = action.started_place;\n    if (place) {\n      return place.name;\n    } else {\n      return \"\"\n    }\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActionStatusComponent } from './action-status.component';\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule\n  ],\n  declarations: [ActionStatusComponent],\n  exports: [ActionStatusComponent]\n})\nexport class ActionStatusModule { }\n",
    "import {Component, Input, OnInit} from '@angular/core';\nimport {IAction} from \"ht-models\";\n\n@Component({\n  selector: 'ht-action-status',\n  template: `<div class=\"card is-tracking-card\">\n  <div class=\"card-content is-padding-normal\">\n    <div class=\"level is-mobile\">\n      <div class=\"level-left\">\n        <div class=\"level-item\">\n          <ht-profile [url]=\"action.user.photo\" [height]=\"40\"></ht-profile>\n        </div>\n        <div class=\"level-item text-title truncate --is-text-black\">\n          {{action.user.name | nameCase}}\n        </div>\n      </div>\n      <div class=\"level-right\" *ngIf=\"action.user.phone\">\n        <div class=\"level-item\">\n          <a [href]=\"'tel:'+action.user.phone\" class=\"button is-small is-info is-outlined\">\n            <div class=\"icon\">\n              <i class=\"ion-android-call\"></i>\n            </div>\n            <span>Call</span>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`,\n  styles: [`.truncate{\n  max-width:217px;\n  -webkit-box-pack:baseline;\n      -ms-flex-pack:baseline;\n          justify-content:baseline; }\n\n.card{\n  border-top-left-radius:14px;\n  border-top-right-radius:14px; }\n`]\n})\nexport class ActionStatusComponent implements OnInit {\n  @Input() action: IAction;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserPopupComponent } from './user-popup.component';\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule\n  ],\n  declarations: [UserPopupComponent],\n  exports: [UserPopupComponent]\n})\nexport class UserPopupModule { }\n",
    "import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\nimport { IAction } from \"ht-models\";\n\n@Component({\n  selector: 'ht-user-popup',\n  template: `<div class=\"card\" (click)=\"openCard()\">\n  <div class=\"card-content is-popup\">\n    <p *ngIf=\"!opened\" class=\"is-size-7 has-text-weight-bold is-uppercase\">\n      {{action.user.display.status_text}}\n      <span class=\"icon\">\n          <i class=\"ion-chevron-right\"></i>\n        </span>\n    </p>\n    <ng-container *ngIf=\"opened\">\n      <div class=\"flex-column column-gap-4\">\n        <div>\n          <div class=\"is-uppercase is-size-7\">{{action.user.display.status_text}} on</div>\n          <div class=\"has-text-weight-bold\">Random place</div>\n        </div>\n        <div>\n          <div class=\"is-uppercase is-size-7\">speed</div>\n          <div class=\"has-text-weight-bold\">37 kmh</div>\n        </div>\n        <div class=\"flex-row row-gap-20\">\n          <div>\n            <div class=\"is-uppercase is-size-7\">distance</div>\n            <div class=\"has-text-weight-bold\">{{action.distance | distanceLocale}}</div>\n          </div>\n          <div>\n            <div class=\"is-uppercase is-size-7\">time</div>\n            <div class=\"has-text-weight-bold\">{{action.duration | hmString: 60}}</div>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n  </div>\n</div>\n`,\n  styles: [`.card{\n  background-color:#9013FE;\n  color:white;\n  -webkit-box-shadow:0 2px 6px 0 rgba(114, 114, 114, 0.6);\n          box-shadow:0 2px 6px 0 rgba(114, 114, 114, 0.6); }\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class UserPopupComponent implements OnInit {\n  @Input() action: IAction;\n  opened: boolean = false;\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n  openCard() {\n    this.opened = !this.opened;\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DestinationPopupComponent } from './destination-popup.component';\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule\n  ],\n  declarations: [DestinationPopupComponent],\n  exports: [DestinationPopupComponent]\n})\nexport class DestinationPopupModule { }\n",
    "import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\nimport {IAction, IPlace} from \"ht-models\";\n\n@Component({\n  selector: 'ht-destination-popup',\n  template: `<div class=\"card\">\n  <div class=\"card-content is-popup\">\n    <ng-container *ngIf=\"action.eta && !action.completed_at; else comp\">\n      <div class=\"text-caption\">ETA</div>\n      <div class=\"text-title\">{{action.eta | timeString }}</div>\n    </ng-container>\n    <ng-template #comp>\n      <div class=\"text-caption\" *ngIf=\"action.completed_at\">{{action.type | nameCase}} | {{action.completed_at | timeString}}</div>\n    </ng-template>\n    <div class=\"is-size-7 has-text-weight-bold truncate\">{{getDestinationName(action)}}</div>\n  </div>\n</div>\n`,\n  styles: [`.card{\n  max-width:170px;\n  background:#250D47;\n  color:white;\n  -webkit-box-shadow:0 2px 6px 0 rgba(114, 114, 114, 0.6);\n          box-shadow:0 2px 6px 0 rgba(114, 114, 114, 0.6); }\n\n.truncate{\n  max-width:170px; }\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DestinationPopupComponent implements OnInit {\n  @Input() action: IAction;\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n  getDestinationName(action: IAction): string {\n    const place: IPlace = action.completed_place || action.expected_place;\n    if (place) {\n      return place.name;\n    } else {\n      return \"\"\n    }\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActionSummaryComponent } from './action-summary.component';\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule\n  ],\n  exports: [ActionSummaryComponent],\n  declarations: [ActionSummaryComponent]\n})\nexport class ActionSummaryModule { }\n",
    "import {Component, Input, OnInit} from '@angular/core';\nimport {animate, style, transition, trigger} from \"@angular/animations\";\nimport {IAction} from \"ht-models\";\n\n@Component({\n  selector: 'ht-action-summary',\n  template: `<div class=\"card is-tracking-card\" [@appear]>\n  <div class=\"card-content\">\n    <div class=\"flex-row align-center justify-center row-gap-10\">\n      <div class=\"icon\">\n        <i class=\"ion-checkmark-circled check\"></i>\n      </div>\n      <div class=\"text-title truncate has-color-title-text\">\n        {{action.type | nameCase}} completed\n      </div>\n    </div>\n    <div class=\"flex-column column-gap-4\">\n      <div class=\"flex-row row-gap-20\">\n        <div class=\"has-text-right flex\">\n          <span class=\"text-caption has-color-secondary-text\">distance</span>\n          <div class=\"text-info has-color-title-text\">{{action.distance | distanceLocale}}</div>\n        </div>\n        <div class=\"divider\"></div>\n        <div class=\"flex\">\n          <span class=\"text-caption has-color-secondary-text\">Name</span>\n          <div class=\"text-info has-color-title-text\">{{action.user.name | nameCase}}</div>\n        </div>\n      </div>\n      <div class=\"flex-row row-gap-20\">\n        <div class=\"has-text-right flex\">\n          <span class=\"text-caption has-color-secondary-text\">Trip time</span>\n          <div class=\"text-info has-color-title-text\">{{action.duration | hmString: 60}}</div>\n        </div>\n        <div class=\"divider\"></div>\n        <div class=\"flex\">\n          <span class=\"text-caption has-color-secondary-text\">id</span>\n          <div class=\"text-info has-color-title-text\">#</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`,\n  styles: [`.check{\n  font-size:2rem;\n  color:#00C94B; }\n\n.truncate{\n  max-width:140px; }\n`],\n  animations: [\n    trigger('appear', [\n      transition(\":enter\", [\n        style({transform: `translateY(100px)`}),\n        animate('300ms ease-out', style({transform: \"*\"}))\n      ])\n    ])\n  ]\n})\nexport class ActionSummaryComponent implements OnInit {\n  @Input() action: IAction;\n  @Input() test: string = \"str\";\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n",
    "import {AfterContentInit, Component, Input, OnInit} from '@angular/core';\nimport { TrackingService } from './tracking.service';\nimport {animate, style, transition, trigger} from '@angular/animations';\nimport { ActionTrace } from \"ht-maps\";\nimport {debounceTime, filter, map, take, takeUntil} from 'rxjs/operators';\nimport {IAction} from \"ht-models\";\nimport {Observable} from \"rxjs/Observable\";\nimport {HtMapService} from \"../ht/ht-map.service\";\nimport {TrackingMapService} from \"../tracking-map/tracking-map.service\";\n\n@Component({\n  selector: 'app-tracking',\n  template: `<ht-tracking-map [showSummary]=\"trackingMapService.actionCompleted\">\n  <ng-container *ngFor=\"let action of actionsData$ | async; trackBy: trackId\">\n    <ht-action-summary *ngIf=\"action.display.show_summary; else status\" [action]=\"action\"></ht-action-summary>\n    <ng-template #status>\n      <ht-action-status [action]=\"action\"></ht-action-status>\n    </ng-template>\n  </ng-container>\n\n</ht-tracking-map>\n<ht-infobox [item]=\"item\" *ngFor=\"let item of popups$ | async; trackBy: trackId\">\n  <ht-destination-popup [action]=\"item.data\"></ht-destination-popup>\n</ht-infobox>\n<ht-infobox [item]=\"item\" *ngFor=\"let item of userPopup$ | async; trackBy: trackId\">\n  <ht-user-popup [action]=\"item.data\"></ht-user-popup>\n</ht-infobox>\n<ht-infobox [item]=\"item\" *ngFor=\"let item of startPopup$ | async; trackBy: trackId\">\n  <ht-start-popup [action]=\"item.data\"></ht-start-popup>\n</ht-infobox>\n<div class=\"is-overlay\" *ngIf=\"loading\" [@fade]>\n  <div id=\"root\">\n    <div class=\"loading-container\">\n      <div class=\"loading-section\">\n        <div class=\"loading-section-ht-logo-pale\"></div>\n        <div class=\"loading-section-ht-logo\"></div>\n      </div>\n    </div>\n  </div>\n</div>\n`,\n  styles: [`.is-overlay{\n  background:#ffffff;\n  z-index:1002; }\n  .is-overlay #root{\n    height:100%;\n    width:100%; }\n  .is-overlay .loading-container{\n    display:-webkit-box;\n    display:-ms-flexbox;\n    display:flex;\n    -webkit-box-flex:1;\n        -ms-flex-positive:1;\n            flex-grow:1;\n    -webkit-box-orient:vertical;\n    -webkit-box-direction:normal;\n        -ms-flex-direction:column;\n            flex-direction:column;\n    height:100%;\n    -webkit-box-align:center;\n        -ms-flex-align:center;\n            align-items:center;\n    -webkit-box-pack:center;\n        -ms-flex-pack:center;\n            justify-content:center; }\n  .is-overlay .loading-section{\n    width:74px;\n    height:60px;\n    margin:0 auto;\n    position:relative; }\n  .is-overlay .loading-section-ht-logo-pale{\n    position:absolute;\n    margin:0;\n    padding:0;\n    height:100%;\n    width:100%;\n    display:block;\n    overflow:hidden;\n    background:url(\"data:image/png;base64,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\") no-repeat;\n    background-size:cover; }\n\n@-webkit-keyframes loading-logo{\n  0%{\n    width:0%; }\n  100%{\n    width:100%; } }\n\n@keyframes loading-logo{\n  0%{\n    width:0%; }\n  100%{\n    width:100%; } }\n  .is-overlay .loading-section-ht-logo{\n    position:relative;\n    margin:0;\n    padding:0;\n    height:100%;\n    display:block;\n    overflow:hidden;\n    -webkit-animation:loading-logo 5s linear infinite;\n            animation:loading-logo 5s linear infinite;\n    background:url(\"data:image/png;base64,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\") no-repeat;\n    background-size:cover;\n    z-index:20; }\n`],\n  animations: [\n    trigger('fade', [\n      transition(\":leave\", [\n        animate('300ms ease-in', style({transform: `translateY(100%)`}))\n      ])\n    ])\n  ]\n})\nexport class TrackingComponent implements OnInit, AfterContentInit {\n  @Input() shortCode;\n  init: boolean = false;\n  actionsData$: Observable<IAction[]>;\n  popups$;\n  userPopup$;\n  startPopup$;\n  loading: boolean = true;\n  // actionSummaryComponent;\n  constructor(\n    private trackinService: TrackingService,\n    public mapService: HtMapService,\n    public trackingMapService: TrackingMapService\n  ) {\n  }\n\n  ngOnInit() {\n    this.trackinService.initShortCode(this.shortCode);\n    // this.actionSummaryComponent = new ComponentPortal(this.trackinService.actionSummaryComponent);\n    // console.log(this.actionSummaryComponent);\n    this.actionsData$ = this.trackinService.actions$.asObservable();\n    this.init = true;\n    this.trackingMapService.setData$(this.actionsData$);\n    this.popups$ = this.actionsData$.pipe(\n      map((data) => {\n        const entities = this.trackingMapService.actionsTrace.destination.entities;\n        const keys = Object.keys(entities);\n        const mapUtils = this.trackingMapService.actionsTrace.mapInstance.mapUtils;\n        return keys.reduce((acc, key) => {\n          const entity = entities[key];\n          const elem = mapUtils.getElement(entity.item);\n          return elem ? [...acc, {data: entity.data, elem, id: key}] : acc\n        }, [])\n      })\n    );\n\n    this.userPopup$ = this.actionsData$.pipe(\n      debounceTime(100), //todo fix this null elem on first render\n      map((data) => {\n        const entities = this.trackingMapService.actionsTrace.user.entities;\n        const keys = Object.keys(entities);\n        const mapUtils = this.trackingMapService.mapInstance.mapUtils;\n        return keys.reduce((acc, key) => {\n          const entity = entities[key];\n          const elem = mapUtils.getElement(entity.item);\n          // console.log(\"elem\", elem);\n          const onUpdate = this.trackingMapService.actionsTrace.user.onEntityUpdate(key);\n          return elem ? [...acc, {data: entity.data, elem, id: key, onUpdate}] : acc\n        }, [])\n      })\n    );\n\n    const completedAction$ = this.actionsData$.pipe(\n      filter((data: IAction[]) => {\n        return !!data && data.length && data[0].display.show_summary;\n      }),\n      take(1)\n    );\n\n    this.actionsData$.pipe(\n      filter((data: IAction[]) => !!data && data.length && !data[0].display.show_summary),\n      takeUntil(completedAction$)\n    ).subscribe((action) => {\n      this.loading = false;\n      this.trackingMapService.resetCleanMap(action)\n    });\n\n    completedAction$.subscribe((action) => {\n      this.loading = false;\n      this.trackingMapService.onComplete(action);\n    });\n\n    this.startPopup$ = completedAction$.pipe(\n      map((data: IAction[]) => {\n        const entities = this.trackingMapService.actionsTrace.start.entities;\n        const keys = Object.keys(entities);\n        const mapUtils = this.trackingMapService.actionsTrace.mapInstance.mapUtils;\n        return keys.reduce((acc, key) => {\n          const entity = entities[key];\n          const elem = mapUtils.getElement(entity.item);\n          return elem ? [...acc, {data: entity.data, elem, id: key}] : acc\n        }, [])\n      })\n    )\n\n  }\n\n  ngAfterContentInit() {\n\n\n  };\n\n  trackId(a, b) {\n    return b.id\n  }\n\n\n\n}\n",
    "import { Injectable } from '@angular/core';\nimport {HtMapService} from \"../ht/ht-map.service\";\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {MapInstance} from \"ht-maps\";\nimport {ActionTrace} from \"ht-maps\";\nimport {IAction} from \"ht-models\";\n\n@Injectable()\nexport class TrackingMapService {\n  checkDirtySub: Subscription;\n  mapInstance: MapInstance;\n  dirty$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  actionCompleted: boolean = false;\n  defaultSetBoundsOptions = {\n    paddingTopLeft: [15, 15],\n    paddingBottomRight: [15, 70],\n    duration: 2,\n    animate: true,\n    easeLinearity: 0.2,\n    // easeLinearity: 0.58,\n  };\n  setBoundsOptions =  this.defaultSetBoundsOptions;\n  actionsTrace;\n  destination;\n  polyline;\n  popups$;\n  userPopup$;\n  startPopup$;\n  constructor(public mapService: HtMapService) {\n    this.mapInstance = this.mapService.mapInstance;\n\n  }\n\n  resetCleanMap(action) {\n    if(!this.dirty$.getValue()) {\n      this.mapService.resetBounds()\n    }\n    if(!this.checkDirtySub) {\n      this.checkDirtySub = this.mapInstance.onEvent$('click mousedown dragstart')\n        .subscribe(data => {\n          this.dirty$.next(true);\n        })\n    }\n  }\n\n  setData$(actionsData$) {\n    const mapInstance = this.mapService.mapInstance;\n    if(!this.actionsTrace) this.actionsTrace = new ActionTrace(mapInstance, {hasPulse: true});\n    this.setStyle();\n    this.actionsTrace.setData$(actionsData$);\n  }\n\n  resetMap() {\n    if(!this.actionCompleted) this.dirty$.next(false);\n  }\n\n  onComplete(action) {\n    this.actionsTrace.polyline.toIncludeInBounds = true;\n    this.actionsTrace.start.toIncludeInBounds = true;\n    this.setBoundsOptions = {...this.setBoundsOptions, paddingBottomRight: [15, 120]};\n    this.mapService.resetBounds(this.setBoundsOptions);\n    this.dirty$.next(true);\n    this.actionCompleted = true;\n  };\n\n  setStyle() {\n    /**\n     * radius/innerRadius accepts values which are factor of 3 or 4 between 15 to 32\n     */\n\n    const destinationStyle = {\n      radius: 20,\n      innerRadius: 12,\n      liveColor: \"#250D47\",\n      summaryColor: \"#250D47\"\n    };\n\n    const polylineStyle = {\n      color: '#9013FE',\n      weight: 3,\n    };\n\n    const userStyle = {\n      radius: 24,\n      color: '#9013FE',\n      markerSize: 17,\n    };\n\n    const destination = this.actionsTrace.destination;\n    const polyline = this.actionsTrace.polyline;\n    const start = this.actionsTrace.start;\n    const user = this.actionsTrace.user;\n    const pulse = this.actionsTrace.pulse;\n    polyline.toIncludeInBounds = false;\n    start.toIncludeInBounds = false;\n    user.styleObj = {\n      default: {\n        zIndexOffset: 12,\n        iconSize: [userStyle.radius, userStyle.radius],\n        className: \"user-marker\"\n      }\n    };\n    pulse.styleObj = {\n      default: {\n        zIndexOffset: 10,\n        iconSize: [userStyle.radius, userStyle.radius],\n        className: \"user-marker\"\n      }\n    };\n\n    destination.styleObj = {\n      default: {\n        zIndexOffset: 10,\n        iconSize: [destinationStyle.radius, destinationStyle.radius],\n        className: \"destination-marker\"\n      }\n    }\n    polyline.toIncludeInBounds = false;\n    polyline.styleObj = {\n      default: {\n        fillColor: polylineStyle.color,\n        color: polylineStyle.color,\n        weight: polylineStyle.weight\n        // iconAnchor: [12, 12]\n        // iconSize: [35, 35],\n        // className: 'current-action-marker',\n        // iconAnchor: point(15, 43)\n        // iconAnchor: [15, 43]\n      },\n      popup: {\n        // offset: point(0, -35),\n        offset: [0, -5],\n        closeButton: false\n      }\n    }\n\n    // start.styleObj = {\n    //   default: {\n    //     stroke: false,\n    //     fillColor: '#9013FE',\n    //     fill: true,\n    //     fillOpacity: 1,\n    //     weight: 3,\n    //     radius: 7\n    //   },\n    //   popup: {\n    //     // offset: point(0, -35),\n    //     offset: [0, -5],\n    //     closeButton: false\n    //   }\n    // }\n\n    pulse.getDivContent = (data) => {\n      const pulse = data.user.availability_status == 'online' ? 'pulse' : '';\n      const content = `\n    <div class=\"box-${userStyle.radius}\" style=\"background: ${userStyle.color}\">\n  <div class=\"box-${userStyle.radius} ${pulse}\" style=\"background: ${userStyle.color}; margin: auto\">\n</div>\n</div> \n    `;\n      return content\n    };\n\n    user.getDivContent = (data, bearing) => {\n      const iconDiv = this.getUserIconDiv(data, bearing, userStyle.markerSize);\n      return `<div class=\"box-${userStyle.radius}\" style=\"position: absolute\">\n    ${iconDiv}\n</div>`\n    }\n\n    destination.getDivContent = (action: IAction) => {\n      if (action.display.show_summary) {\n        return `<div class=\"box-${destinationStyle.radius}\" style=\"background: ${destinationStyle.liveColor}\">\n<!--<div class=\"icon\" style=\"font-size: 1.5rem; color: white; margin: auto\">-->\n        <!--<i class=\"ion-checkmark\"></i>-->\n      <!--</div>-->\n</div>`\n      } else {\n        return `<div class=\"box-${destinationStyle.radius} is-bordered\" style=\"display: flex; border-color: #${destinationStyle.summaryColor}\">\n    <div class=\"box-${destinationStyle.innerRadius}\" style=\"background: ${destinationStyle.summaryColor}; margin: auto\"></div>\n</div>`\n      }\n\n    }\n\n  }\n\n  getUserIconDiv(action, bearing, size): string {\n    const cycleClass = \"ion-android-bicycle\";\n    const movingClass = \"ion-android-navigate\";\n    const stopClass = \"ion-stop\";\n    const errorClass = \"ion-minus-circled\";\n    return `<i class=\"ion-android-navigate\" style=\"margin: auto; \n    color: white; \n    font-size: ${size}px; \n    transition: transform 0.4s;\n    transform: rotate(${bearing}deg)\"></i>`\n  }\n\n}\n",
    "import { Injectable } from '@angular/core';\nconst HTPublishableKey = 'pk_fe8200189bbdfd44b078bd462b08cb86174aa97c';\nimport { IAction, ITrackAccount } from \"ht-models\";\nimport {htRequestService, HtTrackingApi} from \"ht-api\";\nimport {catchError, concatMap, expand, filter, tap} from \"rxjs/operators\";\nimport {timer} from \"rxjs/observable/timer\";\nimport {ReplaySubject} from \"rxjs/ReplaySubject\";\nimport {of} from \"rxjs/observable/of\";\n\n@Injectable()\nexport class TrackingService {\n  trackActions;\n  isMapDirty: boolean = false;\n  isSliding: boolean = false;\n  trackApi;\n  actions$: ReplaySubject<IAction[]> = new ReplaySubject();\n  error$: ReplaySubject<any | null> = new ReplaySubject<any|null>();\n  constructor() {\n    this.setTrackApi()\n  }\n\n  setTrackApi() {\n    const request = htRequestService.getInstance(HTPublishableKey);\n    request.setClientType('hypertrack/trct.at');\n    this.trackApi = new HtTrackingApi(request)\n  }\n\n  initShortCode(shortCode: string) {\n    this.trackApi.track(shortCode).pipe(\n      tap((data) => {\n        //loading done\n      }),\n      expand((data) => {\n        return timer(2000).pipe(\n          concatMap((_) => {\n            return this.trackApi.track(shortCode).pipe(\n              catchError((err) => {\n                this.handleOnError(err);\n                return of(null)\n              })\n            )\n          })\n        )\n      }),\n      filter(data => {\n        if (data) this.handleOnError(null);\n        return !!data\n      }),\n      tap((data: IAction[]) => {\n        this.handleOnUpdate(data);\n      }),\n    ).subscribe(this.actions$);\n  }\n\n  handleOnReady(actions: IAction[]) {\n    console.log('On Actions ready', actions);\n  };\n\n  handleOnUpdate(actions: IAction[]) {\n    // console.log('On Actions update', actions);\n  };\n\n  handleOnError(err: any | null) {\n    this.error$.next(err)\n  }\n\n  private handleDeepLinkRedirect(subAccount: ITrackAccount, action: IAction) {\n    // const userAgent = getUserAgent();\n    // const iosDeepLinkUrl = subAccount.account.ios_deeplink_url;\n    // const androidDeepLinkUrl = subAccount.account.android_deeplink_url;\n    // const actionId = action ? action.id : '';\n    // const lookupId = action ? action.lookup_id : '';\n    // if (!isRedirectedUrl()\n    //   && checkUserAgent.iOS(userAgent)\n    //   && iosDeepLinkUrl\n    //   && iosDeepLinkUrl !== '' && action.id)  {\n    //   const iosIntent = iosDeepLinkUrl + '?task_id=' + action.id;\n    //   const originalUrl = window.location.protocol + '://' + window.location.host + window.location.pathname;\n    //   window.location.href = iosIntent;\n    //   setTimeout(function() {\n    //       window.location.href = originalUrl + '?redirect=true';\n    //     },\n    //     5000);\n    // } else if (!isRedirectedUrl()\n    //   && checkUserAgent.Android(getUserAgent())\n    //   && (checkUserAgent.Chrome(getUserAgent())\n    //     || checkUserAgent.Firefox(getUserAgent())\n    //   )\n    //   && androidDeepLinkUrl\n    //   && androidDeepLinkUrl !== '' && actionId) {\n    //   let queryParams = '?task_id=' + actionId;\n    //   if (lookupId) {\n    //     queryParams = queryParams + '&order_id=' + lookupId;\n    //   }\n    //   const fallbackUrl = window.location.protocol + '://'\n    //     + window.location.host + window.location.pathname + '?redirect=true';\n    //   const androidIntent = 'intent:' + queryParams\n    //     + '#Intent;scheme=' + androidDeepLinkUrl\n    //     + ';S.browser_fallback_url=' + fallbackUrl + ';end';\n    //   window.location.href = androidIntent;\n    // }\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AnalyticsContainerComponent } from './analytics-container.component';\nimport {ActionsStatusGraphModule} from \"../actions-status-graph/actions-status-graph.module\";\nimport {UsersAnalyticsListModule} from \"../users-analytics-list/users-analytics-list.module\";\nimport { AnalyticsSlotDirective } from './analytics-item/analytics-slot.directive';\nimport {ActionsStatusGraphComponent} from \"../actions-status-graph/actions-status-graph.component\";\nimport {UsersAnalyticsListComponent} from \"../users-analytics-list/users-analytics-list.component\";\nimport { AnalyticsItemsService } from './analytics-items.service';\nimport { AnalyticsItemComponent } from './analytics-item/analytics-item.component';\nimport { AnalyticsSelectorComponent } from './analytics-selector/analytics-selector.component';\nimport {UsersSummaryChartModule} from \"../users-summary-chart/users-summary-chart.module\";\nimport {UsersSummaryChartComponent} from \"../users-summary-chart/users-summary-chart.component\";\nimport {AnalyticsTagsModule} from \"./analytics-tags/analytics-tags.module\";\nimport {ActionsAnalyticsListModule} from \"../actions-analytics-list/actions-analytics-list.module\";\nimport {ActionsAnalyticsListComponent} from \"../actions-analytics-list/actions-analytics-list.component\";\nimport {ActionsSummaryChartModule} from \"../actions-summary-chart/actions-summary-chart.module\";\nimport {ActionsSummaryChartComponent} from \"../actions-summary-chart/actions-summary-chart.component\";\nimport { AnalyticsTitleComponent } from './analytics-title/analytics-title.component';\nimport {DateRangeModule} from \"../filters/date-range/date-range.module\";\nimport {AnalyticsItemLoadModule} from \"./analytics-item-load/analytics-item-load.module\";\nimport {AnalyticsMapContainerModule} from \"../analytics-map-container/analytics-map-container.module\";\nimport {AnalyticsMapContainerComponent} from \"../analytics-map-container/analytics-map-container.component\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ActionsStatusGraphModule,\n    UsersAnalyticsListModule,\n    UsersSummaryChartModule,\n    AnalyticsTagsModule,\n    ActionsAnalyticsListModule,\n    ActionsSummaryChartModule,\n    AnalyticsItemLoadModule,\n    DateRangeModule,\n    AnalyticsMapContainerModule\n  ],\n  declarations: [\n    AnalyticsContainerComponent,\n    AnalyticsSlotDirective,\n    AnalyticsItemComponent,\n    AnalyticsSelectorComponent,\n    AnalyticsTitleComponent\n  ],\n  exports: [\n    AnalyticsContainerComponent,\n    AnalyticsSlotDirective,\n    AnalyticsItemComponent,\n    AnalyticsSelectorComponent\n  ],\n  entryComponents: [\n    UsersAnalyticsListComponent,\n    ActionsStatusGraphComponent,\n    UsersSummaryChartComponent,\n    ActionsAnalyticsListComponent,\n    ActionsSummaryChartComponent,\n    AnalyticsMapContainerComponent\n  ],\n  providers: [AnalyticsItemsService]\n})\nexport class AnalyticsContainerModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AnalyticsMapContainerComponent } from './analytics-map-container.component';\nimport {MapModule} from \"../map/map.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MapModule\n  ],\n  declarations: [AnalyticsMapContainerComponent],\n  exports: [AnalyticsMapContainerComponent]\n})\nexport class AnalyticsMapContainerModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AnalyticsItemLoadComponent } from './analytics-item-load.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [AnalyticsItemLoadComponent],\n  exports: [AnalyticsItemLoadComponent]\n})\nexport class AnalyticsItemLoadModule { }\n",
    "import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\nimport {Observable} from \"rxjs/Observable\";\n\n@Component({\n  selector: 'ht-analytics-item-load',\n  template: `<div class=\"loading-container\" [style.min-height.px]=\"_minHeight\">\n  <ng-content></ng-content>\n  <div class=\"loading-page\" *ngIf=\"loading$ | async\">\n    <div class=\"icon auto has-text-grey-light\">\n      <i class=\"fa fa-circle-o-notch fa-spin fa-3x fa-fw\"></i>\n    </div>\n  </div>\n  <div class=\"loading-page\" *ngIf=\"noData\">\n    <div class=\"auto has-text-grey-light is-size-1\">\n      No Data\n    </div>\n  </div>\n</div>\n`,\n  styles: [`.loading-page{\n  background:#ffffff96;\n  position:absolute;\n  height:100%;\n  width:100%;\n  top:0;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  z-index:600; }\n\n.loading-container{\n  position:relative; }\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AnalyticsItemLoadComponent implements OnInit {\n  @Input() loading$: Observable<boolean>;\n  @Input() minHeight: number;\n  @Input() noData: boolean = false;\n  constructor() { }\n\n  get _minHeight() {\n    return this.minHeight || 300\n  }\n\n  ngOnInit() {\n  }\n\n}\n",
    "import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'ht-analytics-title',\n  template: `<div class=\"level\">\n  <div class=\"level-left\">\n    <div class=\"level-item has-text-weight-bold has-text-primary is-size-4\">\n      {{title}}\n    </div>\n  </div>\n  <div class=\"level-right\">\n    <ng-content></ng-content>\n    <div class=\"level-item\" *ngIf=\"!hideDatePicker\">\n      <ht-date-range [isRight]=\"true\" [dateRangeService]=\"dateRangeService\"></ht-date-range>\n    </div>\n  </div>\n</div>\n`,\n  styles: [`.level{\n  margin-bottom:10px; }\n`]\n})\nexport class AnalyticsTitleComponent implements OnInit {\n  @Input() title: string;\n  @Input() dateRangeService;\n  @Input() hideDatePicker;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActionsSummaryChartComponent } from './actions-summary-chart.component';\nimport {UsersSummaryModule} from \"../users-summary/users-summary.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UsersSummaryModule,\n  ],\n  declarations: [ActionsSummaryChartComponent],\n  exports: [ActionsSummaryChartComponent]\n})\nexport class ActionsSummaryChartModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActionsAnalyticsListComponent } from './actions-analytics-list.component';\nimport {DateRangeModule} from \"../filters/date-range/date-range.module\";\nimport {ActionTableModule} from \"../action-table/action-table.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DateRangeModule,\n    ActionTableModule\n  ],\n  declarations: [ActionsAnalyticsListComponent],\n  exports: [ActionsAnalyticsListComponent]\n})\nexport class ActionsAnalyticsListModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActionTableComponent } from './action-table.component';\nimport {UserTableModule} from \"../user-table/user-table.module\";\nimport {DataTableModule} from \"../data-table/data-table.module\";\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UserTableModule,\n    DataTableModule,\n    SharedModule\n  ],\n  declarations: [ActionTableComponent],\n  exports: [ActionTableComponent]\n})\nexport class ActionTableModule { }\n",
    "import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\nimport {IAction} from \"ht-models\";\nimport { tableFormat, actionTableFormat } from \"ht-data\"\n\n@Component({\n  selector: 'ht-action-table',\n  template: `<div class=\"level\">\n  <div class=\"level-right has-text-grey\">\n    <div class=\"level-item\">\n      <div class=\"icon-box\">\n        <i class=\"fa fa-briefcase\"></i>\n      </div>\n      <!--<span class=\"fa-stack fa-lg\">-->\n          <!--<i class=\"fa fa-square-o fa-stack-2x\"></i>-->\n          <!--<i class=\"fa fa-briefcase fa-stack-1x\"></i>-->\n        <!--</span>-->\n    </div>\n    <div class=\"level-item is-size-4 is-capitalized\">\n      {{action.type}}\n      <!--<span *ngIf=\"action.display.duration_remaining && action.display.show_summary\">-->\n        <!--{{action.display.duration_remaining | HMString}}-->\n      <!--</span>-->\n    </div>\n    <div class=\"level-item is-size-4\">\n      {{action.display.status_text}}\n    </div>\n    <div class=\"level-item is-size-4\">\n      {{action.display.sub_status_text}}\n    </div>\n  </div>\n  <div class=\"level-left\">\n    # {{action.lookup_id}}\n  </div>\n</div>\n<ht-data-table [tableData]=\"tableData\"></ht-data-table>\n<ht-user-table [user]=\"action.user\"></ht-user-table>\n`,\n  styles: [`.icon-box{\n  width:30px;\n  height:30px;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  border:1px solid grey;\n  border-radius:50%; }\n  .icon-box .fa{\n    margin:auto; }\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ActionTableComponent implements OnInit {\n  @Input() action: IAction;\n  excludedKey = [\n    'type',\n    'lookup_id',\n    'id',\n    'short_code',\n    'vehicle_type',\n    'status',\n    \"created_at\",\n    \"modified_at\",\n    'sub_status',\n    'started_at',\n    'tracking_url'\n  ];\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  get tableData() {\n    // let f = tableFormat(this.action, {excludes: this.excludedKey, format: {}});\n    // console.log(f, \"table\");\n\n    return tableFormat(this.action, {excludes: this.excludedKey, format: actionTableFormat});\n    // return Object.keys(this.user).reduce((acc, key) => {\n    //   const value = this.user[key];\n    //   if (typeof value === 'number' || typeof value === 'string' && this.isKeyIncluded(key)) {\n    //     acc.push([key, value]);\n    //     return acc\n    //   } else {\n    //     return acc\n    //   }\n    // }, [])\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AnalyticsTagsComponent } from './analytics-tags.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [AnalyticsTagsComponent],\n  exports: [\n    AnalyticsTagsComponent\n  ]\n})\nexport class AnalyticsTagsModule { }\n",
    "import {ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n\n@Component({\n  selector: 'ht-analytics-tags',\n  template: `<div class=\"level\">\n  <div class=\"level-left\">\n    <div class=\"level-item\">\n      <div class=\"icon\">\n        <i class=\"fa fa-tag has-text-grey\"></i>\n      </div>\n    </div>\n    <div class=\"level-item\">\n      <div class=\"tags\">\n        <span class=\"tag clickable\" (click)=\"selectTag.next(tag)\" [class.is-primary]=\"isTagActive(tag)\" *ngFor=\"let tag of tags\">\n          {{tag}}\n          <span class=\"icon\" *ngIf=\"tag === 'live'\">\n            &nbsp;\n            <i class=\"fa fa-circle\" style=\"color: #99d8ac;\"></i>\n          </span>\n        </span>\n      </div>\n    </div>\n  </div>\n  <!--<div class=\"level-right\">-->\n    <!--<div class=\"level-item\">-->\n      <!--<div class=\"dropdown is-hoverable is-right\">-->\n        <!--<div class=\"dropdown-trigger\">-->\n          <!--<button class=\"button is-white has-text-grey\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu4\">-->\n        <!--<span class=\"icon\">-->\n          <!--<i class=\"fa fa-ellipsis-v\"></i>-->\n        <!--</span>-->\n          <!--</button>-->\n        <!--</div>-->\n        <!--<div class=\"dropdown-menu\" id=\"dropdown-menu4\" role=\"menu\">-->\n          <!--<div class=\"dropdown-content\">-->\n            <!--<a class=\"dropdown-item flex-row align-center\">-->\n              <!--<span class=\"icon\"><i class=\"fa fa-edit\"></i></span>-->\n              <!--<span class=\"flex\">Edit</span>-->\n            <!--</a>-->\n            <!--<a class=\"dropdown-item flex-row align-center has-text-danger\">-->\n              <!--<span class=\"icon\"><i class=\"fa fa-remove\"></i></span>-->\n              <!--<span class=\"flex\">Remove</span>-->\n            <!--</a>-->\n          <!--</div>-->\n        <!--</div>-->\n      <!--</div>-->\n    <!--</div>-->\n  <!--</div>-->\n</div>\n`,\n  styles: [`.level{\n  margin-bottom:10px; }\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AnalyticsTagsComponent implements OnInit {\n  @Input() tags: string[];\n  @Input() selectedTags: string[];\n  @Output() remove = new EventEmitter();\n  @Output() selectTag = new EventEmitter();\n  @Output() edit = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  isTagActive(tag) {\n    return this.selectedTags.includes(tag)\n  }\n\n}\n",
    "import {ChangeDetectionStrategy, Component, EventEmitter, OnInit, Output} from '@angular/core';\nimport {AnalyticsItemsService} from \"../analytics-items.service\";\n\n@Component({\n  selector: 'ht-analytics-selector',\n  template: `<!--<div class=\"card\">-->\n  <!--<div class=\"card-header\">-->\n    <!--<div class=\"card-header-title\">-->\n      <!--Choose preset views-->\n    <!--</div>-->\n  <!--</div>-->\n  <!--<div class=\"card-content\">-->\n    <!---->\n  <!--</div>-->\n<!--</div>-->\n<div class=\"field\" *ngFor=\"let preset of analyticsItemsService.presets\">\n  <div class=\"control\">\n    <label class=\"checkbox\">\n      <input type=\"checkbox\" (click)=\"togglePreset(preset)\" [checked]=\"isActive(preset)\">\n      {{preset.initialConfig.title}}\n    </label>\n  </div>\n</div>\n<div class=\"field\">\n  <div class=\"control\">\n    <button class=\"button\" (click)=\"setPreset()\">Create views</button>\n  </div>\n</div>\n`,\n  styles: [``],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AnalyticsSelectorComponent implements OnInit {\n  @Output() selected = new EventEmitter();\n  choosenPreset = [];\n  constructor(\n    public analyticsItemsService: AnalyticsItemsService\n  ) { }\n\n  ngOnInit() {\n    this.choosenPreset.push(...this.analyticsItemsService.presets);\n    // setTimeout(() => {\n    //   this.setPreset()\n    // });\n\n  }\n\n  isActive(preset) {\n    return this.choosenPreset.includes(preset)\n  }\n\n  togglePreset(preset) {\n    if (this.isActive(preset)) {\n      const index = this.choosenPreset.indexOf(preset);\n      this.choosenPreset.splice(index, 1)\n    } else {\n      this.choosenPreset.push(preset)\n    }\n  };\n\n  setPreset() {\n    this.analyticsItemsService.setPreset(this.choosenPreset);\n    this.selected.next(true)\n  }\n\n}\n",
    "import {Component, ComponentFactoryResolver, Input, OnInit, ViewChild} from '@angular/core';\nimport {AnalyticsSlotDirective} from \"./analytics-slot.directive\";\nimport {IAnalyticsService} from \"../../interfaces/analytics\";\n\n@Component({\n  selector: 'ht-analytics-item',\n  template: `<div htAnalyticsSlot></div>\n`,\n  styles: [``]\n})\nexport class AnalyticsItemComponent implements OnInit {\n  @ViewChild(AnalyticsSlotDirective) slot: AnalyticsSlotDirective;\n  @Input() item: IAnalyticsService;\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n  ) { }\n\n  ngOnInit() {\n    this.addComponent()\n  }\n\n  private addComponent() {\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.item.component);\n\n    const viewContainerRef = this.slot.viewContainerRef;\n    viewContainerRef.clear();\n\n    const componentRef = viewContainerRef.createComponent(componentFactory);\n\n    this.item.setData(componentRef.instance)\n\n  }\n\n}\n",
    "import {Directive, ViewContainerRef} from '@angular/core';\n\n@Directive({\n  selector: '[htAnalyticsSlot]'\n})\nexport class AnalyticsSlotDirective {\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n\n}\n",
    "import {ChangeDetectionStrategy, Component, OnDestroy, OnInit} from '@angular/core';\nimport {AnalyticsItemsService} from \"./analytics-items.service\";\nimport {animate, query, style, transition, trigger} from \"@angular/animations\";\n\n@Component({\n  selector: 'ht-analytics-container',\n  template: `<div class=\"toolbar\">\n  <div class=\"level\">\n    <div class=\"level-left\">\n      <!--<div class=\"level-item\">-->\n        <!--<div class=\"icon\">-->\n          <!--<i class=\"fa fa-tags has-text-grey\"></i>-->\n        <!--</div>-->\n        <!--Filter by Tags:-->\n      <!--</div>-->\n      <div class=\"level-item\">\n        <div class=\"dropdown is-hoverable\">\n          <div class=\"dropdown-trigger\">\n            <button class=\"button\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu\">\n              <span class=\"icon\">\n                <i class=\"fa fa-tags has-text-grey\"></i>\n              </span>\n              <span>Filter by Tags:</span>\n              <span class=\"icon is-small\">\n        <i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i>\n      </span>\n            </button>\n          </div>\n          <div class=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n            <div class=\"dropdown-content\">\n              <a (click)=\"analyticsItemsService.toggleTag(tag.key)\" class=\"dropdown-item\" *ngFor=\"let tag of analyticsItemsService.tags$ | async\">\n                <label class=\"checkbox\">\n                  <input type=\"checkbox\" [checked]=\"tag.isActive\">\n                  {{tag.key}}\n                </label>\n              </a>\n              <!--<a class=\"dropdown-item\">-->\n                <!--Other dropdown item-->\n              <!--</a>-->\n              <!--<a href=\"#\" class=\"dropdown-item is-active\">-->\n                <!--Active dropdown item-->\n              <!--</a>-->\n              <!--<a href=\"#\" class=\"dropdown-item\">-->\n                <!--Other dropdown item-->\n              <!--</a>-->\n              <!--<hr class=\"dropdown-divider\">-->\n              <!--<a href=\"#\" class=\"dropdown-item\">-->\n                <!--With a divider-->\n              <!--</a>-->\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"level-item\" *ngFor=\"let tag of analyticsItemsService.tags$ | async\">\n        <button\n          class=\"button\"\n          [class.is-primary]=\"tag.isActive\"\n          (click)=\"analyticsItemsService.selectTag(tag.key)\">\n\n          <span>{{tag.key}}</span>\n          <span *ngIf=\"tag.isActive\" class=\"icon is-small\">\n              <i class=\"fa fa-times\"></i>\n            </span>\n        </button>\n        <!--<span class=\"tag clickable is-medium\"-->\n\n              <!--(click)=\"analyticsItemsService.selectTag(tag.key)\"-->\n              <!--[class.is-primary]=\"tag.isActive\">-->\n          <!--{{tag.key}} <span *ngIf=\"tag.isActive\" class=\"delete\"></span>-->\n        <!--</span>-->\n      </div>\n    </div>\n    <div class=\"level-right\">\n      <div class=\"level-item\">\n        <button class=\"button\" (click)=\"openConfig()\">\n        <span class=\"icon\">\n          <i class=\"fa fa-edit\"></i>\n        </span>\n          <span>Edit</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n<div class=\"container\">\n  <div class=\"columns is-multiline is-centered\" *ngIf=\"analyticsItemsService.filteredItems$ | async as items\">\n    <div class=\"column\" [@card-appear] [ngClass]=\"item.className\" *ngFor=\"let item of items\">\n      <div class=\"card card-content\">\n        <ht-analytics-tags\n          (selectTag)=\"analyticsItemsService.toggleTag($event)\"\n          [tags]=\"item.tags\"\n          [selectedTags]=\"analyticsItemsService.selectedTags$ | async\"></ht-analytics-tags>\n        <ht-analytics-title\n          [title]=\"item.title\"\n          [hideDatePicker]=\"item.hideDatePicker\"\n          [dateRangeService]=\"item.dateRangeService$\"></ht-analytics-title>\n        <ht-analytics-item-load [minHeight]=\"item.minHeight\" [loading$]=\"item.loading$\" [noData]=\"item.noData\">\n          <ht-analytics-item [item]=\"item\"></ht-analytics-item>\n        </ht-analytics-item-load>\n\n      </div>\n    </div>\n    <div class=\"column is-6 auto setup\" *ngIf=\"items.length == 0\">\n      <div class=\"is-size-1 has-text-centered has-text-grey-light\">No view is selected</div>\n    </div>\n    <div class=\"modal is-active\" *ngIf=\"configure\">\n      <div class=\"modal-background\" (click)=\"configure = false\"></div>\n      <div class=\"modal-card\">\n        <header class=\"modal-card-head\">\n          <p class=\"modal-card-title\">Choose preset views</p>\n        </header>\n        <section class=\"modal-card-body\">\n          <ht-analytics-selector (selected)=\"configure = false\"></ht-analytics-selector>\n        </section>\n      </div>\n    </div>\n  </div>\n</div>\n\n`,\n  styles: [`.setup{\n  margin-top:70px; }\n\n.toolbar{\n  width:100%;\n  padding:16px 40px;\n  margin-bottom:20px;\n  background:white;\n  border-bottom:1px solid #d6d6d6; }\n\n.grid{\n  display:grid;\n  grid-template-columns:1fr 1fr; }\n  .grid .is-6{\n    width:100%; }\n  .grid .is-12{\n    grid-column:1/3; }\n`],\n  // changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    trigger('card-appear', [\n      transition(\":enter\", [\n        style({width: 0, height: 0, opacity: 0}),\n        animate('200ms ease-in-out', style({width: \"*\", height: \"*\", opacity: 1}))\n        ]),\n      transition(\":leave\", [\n        style({width: \"*\", height: \"*\", opacity: 0}),\n        animate('200ms ease-in-out', style({width: 0, height: 0, opacity: 0}))\n        ]),\n      // transition(\":enter\", [\n      //   style({transform: \"translateX(-400px)\"}),\n      //   animate('200ms ease-in-out', style({transform: \"translateX(0px)\", opacity: 1}))\n      //   ]),\n      // transition(\":leave\", [\n      //   style({transform: \"translateX(0px)\", opacity: 0}),\n      //   animate('200ms ease-in-out', style({transform: \"translateX(-400px)\", opacity: 0}))\n      //   ]),\n      // transition(\"* <=> *\", [\n      //   // style({height: 0, opacity: 0}),\n      //   query(\"ht-analytics-item:enter\")\n      //   ])\n    ])\n  ]\n})\nexport class AnalyticsContainerComponent implements OnInit, OnDestroy {\n  configure: boolean = false;\n  constructor(\n    public analyticsItemsService: AnalyticsItemsService\n  ) { }\n\n  ngOnInit() {\n    this.analyticsItemsService.initPresets();\n    this.analyticsItemsService.initServices()\n  }\n\n  openConfig() {\n    this.configure = true\n  }\n\n  trackByFn(index, item) {\n    return item.title; // or item.id\n  }\n  ngOnDestroy() {\n    this.analyticsItemsService.destroy()\n  }\n\n}\n",
    "import { Injectable } from '@angular/core';\nimport { UsersAnalyticsListService} from \"../users-analytics-list/users-analytics-list.service\";\nimport {ActionsStatusGraphService} from \"../actions-status-graph/actions-status-graph.service\";\nimport {usersAnalyticsListPresets} from \"./analytics-presets/users-list-preset\";\nimport {actionsConfigPreset} from \"./analytics-presets/actions-status-graph-preset\";\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\nimport {map, take} from \"rxjs/operators\";\nimport {combineLatest} from \"rxjs/observable/combineLatest\";\nimport {Observable} from \"rxjs/Observable\";\nimport {usersClientFactory, dateRangeFactory} from \"ht-client\";\nimport {DateRangeMap} from \"ht-data\";\nimport {HtUsersService} from \"../ht/ht-users.service\";\nimport {actionsClientFactory} from \"ht-client\";\nimport {IAnalyticsService} from \"../interfaces/analytics\";\n\n@Injectable()\nexport class AnalyticsItemsService {\n\n  presets;\n  chosenItemCreater = [];\n  items$: BehaviorSubject<IAnalyticsService[]>;\n  // items$: BehaviorSubject<IAnalyticsItem[]> = new BehaviorSubject([]);\n  filteredItems$: Observable<IAnalyticsService[]>;\n  allTags$: Observable<string[]>;\n  tags$: Observable<ISelectedTag[]>;\n  selectedTags$: BehaviorSubject<string[]> = new BehaviorSubject<string[]>([]);\n  totalTags: number;\n  // selectedTags$: BehaviorSubject<string[]>;\n  constructor() {\n    const usersClient = usersClientFactory({dateRange: dateRangeFactory(DateRangeMap.today)});\n    const usersFilter = usersClient.filterClass;\n    const activityQueryLabel = usersFilter.activityQueryArray;\n    const showAllQueryLable = usersFilter.showAllQueryArray;\n    const actionDateRangeService = dateRangeFactory(DateRangeMap.today);\n    const actionsClient = actionsClientFactory({dateRange: actionDateRangeService});\n    const actionsStatusQueryLabel = [];\n    this.presets = [\n      // actionsConfigPreset.max_distance(),\n      // actionsConfigPreset.max_duration(),\n      actionsConfigPreset.summary(actionsClient, actionDateRangeService),\n      // usersAnalyticsListPresets.users_summary(usersClient),\n      usersAnalyticsListPresets.users_summary(\n        usersClient, 'Users activity summary',\n        [...activityQueryLabel, ...showAllQueryLable]\n      ),\n      actionsConfigPreset.status(),\n      actionsConfigPreset.heatmap(),\n      usersAnalyticsListPresets.stops_heatmap(),\n      actionsConfigPreset.recently_assigned(),\n      actionsConfigPreset.recently_completed(),\n      // actionsConfigPreset.users_on_action(),\n      usersAnalyticsListPresets.last_recorded(),\n      usersAnalyticsListPresets.users_actions(),\n      usersAnalyticsListPresets.max_location_disabled_duration(),\n      usersAnalyticsListPresets.current_location_disabled(),\n      usersAnalyticsListPresets.max_stop_duration(),\n      // usersAnalyticsListPresets.max_network_offline(),\n      usersAnalyticsListPresets.max_distance(),\n    ];\n    this.chosenItemCreater = this.presets;\n\n\n\n  };\n\n  initPresets() {\n    if (!this.items$) {\n      this.items$ = new BehaviorSubject(this.getItems(this.presets));\n\n      this.allTags$ = this.items$.pipe(\n        map(items => {\n          this.totalTags = items.length;\n          return items.reduce((tags, item) => {\n            const itemTags = item.tags;\n            return itemTags.reduce((currentTags: string[], tag) => {\n              return currentTags.includes(tag) ? currentTags : [...currentTags, tag]\n            }, tags)\n            // return tags.includes()\n          }, ['users', 'actions'])\n        })\n      );\n\n      this.filteredItems$ = combineLatest(\n        this.items$,\n        this.selectedTags$,\n        (items, tags) => {\n          return tags.length ? items.filter((item) => {\n            return tags.reduce((pass, selectedTag) => {\n              return pass && item.tags.includes(selectedTag)\n            }, true);\n            // return tags.reduce((pass, existingTag) => {\n            //   return pass || item.tags.includes(existingTag)\n            // }, false)\n          }) : items;\n        }\n      )\n\n      this.tags$ = combineLatest(\n        this.allTags$,\n        this.selectedTags$,\n        (allTags, selectedTags) => {\n          return allTags.map(tag => {\n            const isActive = selectedTags.includes(tag);\n            return {key: tag, isActive}\n          })\n        }\n      );\n    }\n\n  }\n\n  // toggleItemCreator(preset) {\n  //   if (this.isItemCreatorActive(preset)) {\n  //     const index = this.choosenPreset.indexOf(preset);\n  //     this.choosenPreset.splice(index, 1)\n  //   } else {\n  //     this.choosenPreset.push(preset)\n  //   }\n  // };\n\n  private isItemCreatorActive(itemCreator) {\n    return this.chosenItemCreater.includes(itemCreator)\n  }\n\n  toggleTag(tag: string) {\n    this.selectedTags$.pipe(\n      take(1)\n    )\n      .subscribe((tags) => {\n\n        if (tags.includes(tag)) {\n          tags.splice(tags.indexOf(tag), 1)\n        } else {\n          tags.push(tag)\n        }\n        // if (tags.includes(tag)) {\n        //   tags = []\n        // } else {\n        //   tags = [tag]\n        // }\n        // if (tags.length === this.totalTags) {\n        //   tags = [];\n        // }\n      this.selectedTags$.next([...tags])\n    })\n  };\n\n  selectTag(tag: string) {\n    this.selectedTags$.pipe(\n      take(1)\n    )\n      .subscribe((tags) => {\n\n        if (tags.includes(tag)) {\n          tags.splice(tags.indexOf(tag), 1)\n        } else {\n          tags = [tag]\n        }\n        // if (tags.length === this.totalTags) {\n        //   tags = [];\n        // }\n        this.selectedTags$.next([...tags])\n      })\n  }\n\n  setPreset(choosenPreset) {\n    this.items$.next(this.getItems(choosenPreset));\n    this.initServices()\n  }\n\n  getItems(itemsConfigs) {\n    return itemsConfigs.map(preset => {\n      const service = new preset.service(preset.initialConfig);\n      return service;\n    })\n  };\n\n  initServices() {\n    this.setServicesActive(true);\n  }\n\n  private setServicesActive(isActive: boolean = true) {\n    this.items$.pipe(take(1)).subscribe((items) => {\n      items.forEach(item => {\n        item.setActive(isActive)\n      })\n    })\n  }\n\n  destroy() {\n    this.setServicesActive(false)\n  }\n\n}\n\nexport interface ISelectedTag {\n  key: string,\n  isActive: boolean,\n}\n",
    "import {IActionStatusGraph} from \"ht-models\";\nimport {DateRangeMap, actionTableFormat} from \"ht-data\";\nimport {ActionsStatusGraphService} from \"../../actions-status-graph/actions-status-graph.service\";\nimport {IAnalyticsPresets} from \"./users-list-preset\";\nimport {ActionsAnalyticsListService} from \"../../actions-analytics-list/actions-analytics-list.service\";\nimport {DateString, DistanceLocale, HMString, NameCase, TimeString} from \"ht-utility\";\nimport {IAction} from \"ht-models\";\nimport {ActionsSummaryService} from \"../../actions-summary-chart/actions-summary.service\";\nimport {ActionsHeatmapService} from \"../../actions-heatmap/actions-heatmap.service\";\n\nexport const actionsConfigPreset: IAnalyticsPresets = {\n  heatmap() {\n    return {\n      service: ActionsHeatmapService,\n      initialConfig: {\n        title: \"Heatmap of completed actions\",\n        initialDateRange: DateRangeMap.last_7_days,\n        query: {page_size: 500}\n      }\n    }\n  },\n  status() {\n    return {\n      service: ActionsStatusGraphService,\n      initialConfig: {\n        title: \"Actions status chart\",\n        initialDateRange: DateRangeMap.last_30_days,\n        tags: [],\n        chartFormat: [\n          {\n            title: \"Assigned\",\n            selector(graphData: IActionStatusGraph) {\n              return graphData.assigned\n            }\n          },\n          {\n            title: \"Completed\",\n            selector(graphData: IActionStatusGraph) {\n              return graphData.completed\n            }\n          },\n\n\n        ]\n      }\n    }\n  },\n  max_distance() {\n    return {\n      service: ActionsAnalyticsListService,\n      initialConfig: {\n        title: \"Actions with max distance\",\n        tags: ['distance'],\n        query: {ordering: '-distance'},\n        tableFormat: [\n          {\n            label: \"id\",\n            selector(action: IAction) {\n              return action.lookup_id || \"NA\"\n            }\n          },\n          {\n            label: \"Type\",\n            selector(action: IAction) {\n              return action.type\n            }\n          },\n          actionTableFormat.distance,\n          actionTableFormat.duration\n        ]\n      }\n    }\n  },\n  recently_assigned() {\n    return {\n      service: ActionsAnalyticsListService,\n      initialConfig: {\n        title: \"Recent assigned actions\",\n        tags: ['live'],\n        query: {ordering: '-assigned_at', status: 'assigned,started'},\n        updateStrategy: \"live\",\n        hideDatePicker: true,\n        initialDateRange: DateRangeMap.last_30_days,\n        tableFormat: [\n          {\n            label: \"User\",\n            selector(action: IAction) {\n              return action.user ? NameCase(action.user.name) : \"NA\";\n            }\n          },\n          {\n            label: \"Type\",\n            selector(action: IAction) {\n              return action.type\n            }\n          },\n          actionTableFormat.assigned_at,\n          {\n            label: \"Expected at\",\n            selector(action: IAction) {\n              return action.expected_at ?\n                TimeString(action.expected_at) + \" \" + DateString(action.expected_at, 'short') : action.eta ?\n                  TimeString(action.eta) + \" \" + DateString(action.eta, 'short') : \"--\"\n            }\n          },\n          {\n            label: \"Distance remaining\",\n            selector(action: IAction) {\n              return action.display.distance_remaining ? DistanceLocale(action.display.distance_remaining) : \"--\"\n            }\n          }\n        ]\n      }\n    }\n  },\n  recently_completed() {\n    return {\n      service: ActionsAnalyticsListService,\n      initialConfig: {\n        title: \"Recent completed actions\",\n        tags: ['live'],\n        query: {ordering: '-completed_at', status: 'completed'},\n        updateStrategy: \"live\",\n        hideDatePicker: true,\n        initialDateRange: DateRangeMap.last_30_days,\n        tableFormat: [\n          {\n            label: \"User\",\n            selector(action: IAction) {\n              return action.user ? NameCase(action.user.name) : \"NA\";\n            }\n          },\n          {\n            label: \"Type\",\n            selector(action: IAction) {\n              return action.type\n            }\n          },\n          actionTableFormat.completed_at,\n          {\n            label: \"Ontime\",\n            selector(action: IAction) {\n              return action.display.is_late ? \"Late\" : \"Ontime\"\n            }\n          },\n          actionTableFormat['distance&duration']\n        ]\n      }\n    }\n  },\n  max_duration() {\n    return {\n      service: ActionsAnalyticsListService,\n      initialConfig: {\n        title: \"Actions with max duration\",\n        query: {ordering: '-duration'},\n        tableFormat: [\n          {\n            label: \"User\",\n            selector(action: IAction) {\n              return  action.user ? NameCase(action.user.name) : \"NA\";\n            }\n          },\n          {\n            label: \"Type\",\n            selector(action: IAction) {\n              return action.type\n            }\n          },\n          actionTableFormat.duration,\n          actionTableFormat.distance\n        ]\n      }\n    }\n  },\n  users_on_action() {\n    return {\n      service: ActionsAnalyticsListService,\n      initialConfig: {\n        title: \"Recent user on action\",\n        query: {ordering: '-assigned_at'},\n        tags: ['users', 'live'],\n        updateStrategy: 'live',\n        hideDatePicker: true,\n        tableFormat: [\n          {\n            label: \"Name\",\n            selector(action: IAction) {\n              return action.user ? action.user.name : \"NA\"\n            }\n          },\n          actionTableFormat.assigned_at,\n          {\n            label: \"Last updated at\",\n            selector(action: IAction) {\n              return action.user ? TimeString(action.user.last_heartbeat_at) : \"--\"\n            }\n          },\n          {\n            label: \"Action type\",\n            selector(action: IAction) {\n              return action.type\n            }\n          },\n          {\n            label: \"Expected At\",\n            selector(action: IAction) {\n\n              return action.expected_at ?\n                TimeString(action.expected_at) + \" \" + DateString(action.expected_at, 'short') : action.eta ?\n                  TimeString(action.eta) + \" \" + DateString(action.eta, 'short') : \"--\"\n            }\n          }\n        ]\n      }\n    }\n  },\n  summary(actionsClient?, dateRangeService?, title?, queryLabels?) {\n    return {\n      service: ActionsSummaryService,\n      initialConfig: {\n        title: title || \"Actions status summary\",\n        updateStrategy: 'live',\n        tags: ['live'],\n        query: {},\n        queryLabels,\n        dateRangeService,\n        client: actionsClient\n      }\n    }\n  }\n};\n",
    "import { Injectable } from '@angular/core';\nimport {of} from \"rxjs/observable/of\";\nimport {DateRangeMap} from \"ht-data\";\nimport {dateRangeFactory, actionsClientFactory, ActionsHeatmap} from \"ht-client\";\nimport {tap} from \"rxjs/operators\";\nimport {IAnalyticsListConfig} from \"../interfaces/analytics-list\";\nimport {MapInstance, ActionsHeatmapTrace} from \"ht-maps\";\nimport {AnalyticsMapContainerComponent} from \"../analytics-map-container/analytics-map-container.component\";\nimport {IAnalyticsMapService} from \"../interfaces/analytics\";\nimport {Observable} from \"rxjs/Observable\";\nimport {Page} from \"ht-models\";\nimport {mapTypeService} from \"ht-maps\";\n\n@Injectable()\nexport class ActionsHeatmapService implements IAnalyticsMapService {\n  component = AnalyticsMapContainerComponent;\n  className = \"is-6\";\n  tags = ['actions'];\n  title;\n  noData = false;\n  loading$: Observable<boolean> = of(false);\n  mapLoading$;\n  client: ActionsHeatmap;\n  dateRangeService$;\n  data$;\n  mapInstance: MapInstance;\n  constructor(config: IAnalyticsListConfig) {\n    this.mapInstance = new MapInstance();\n    this.setMapType(mapTypeService.getInstance().mapType);\n    this.initClient(config);\n  }\n\n  setMapType(mapType) {\n    this.mapInstance.setMapType(mapType);\n  }\n\n  setData(instance: AnalyticsMapContainerComponent) {\n    instance.service = this\n  };\n\n  setActive(active: boolean = true) {\n    this.client.setActive(active)\n  }\n\n  private initClient(config) {\n    this.dateRangeService$ = dateRangeFactory(config.initialDateRange || DateRangeMap.last_7_days);\n    this.title = config.title;\n    let actionsClient = actionsClientFactory({dateRange: this.dateRangeService$});\n    this.client = actionsClient.heatmap;\n    this.mapLoading$ = this.client.loading$;\n    this.data$ = this.client.data$.pipe(\n      tap((data: Page<any> | null) => {\n        this.noData = data && data.count == 0 ? true : false;\n      })\n    );\n    let heatMapTrace = new ActionsHeatmapTrace(this.mapInstance);\n    heatMapTrace.setPageData$(this.data$)\n  }\n\n}\n",
    "import { Injectable } from '@angular/core';\nimport {ActionsSummaryChartComponent} from \"./actions-summary-chart.component\";\nimport {ISummaryConfig} from \"../interfaces/users-analytics\";\nimport {dateRangeFactory, actionsClientFactory} from \"ht-client\";\nimport {DateRangeMap} from \"ht-data\";\nimport {HtActionsClient} from \"ht-client\";\nimport {IAnalyticsService} from \"../interfaces/analytics\";\n\n@Injectable()\nexport class ActionsSummaryService implements IAnalyticsService {\n  component = ActionsSummaryChartComponent;\n  className = \"is-6\";\n  tags = ['actions', 'live'];\n  dateRangeService$;\n  client;\n  summary$;\n  title;\n  hideDatePicker = false;\n  noData = false;\n  loading$;\n  minHeight = 50;\n  constructor(config: ISummaryConfig<HtActionsClient>) {\n    this.initState(config);\n  }\n\n  setData(instance: ActionsSummaryChartComponent) {\n    instance.service = this\n  }\n\n  private initState(config: ISummaryConfig<HtActionsClient>) {\n    this.dateRangeService$ = dateRangeFactory(DateRangeMap.today);\n    this.title = config.title;\n    const client = config.client || actionsClientFactory({dateRange: this.dateRangeService$});\n    if (config.dateRangeService) this.dateRangeService$ = config.dateRangeService;\n    this.client = client.summary;\n    this.loading$ = this.client.loading$;\n    this.summary$ = this.client.summaryChart$;\n    // this.client.setActive()\n  }\n\n  setActive(isActive: boolean = true) {\n    this.client.setActive(isActive)\n  }\n}\n",
    "import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\nimport {IAnalyticsService} from \"../interfaces/analytics\";\nimport {ActionsSummaryService} from \"./actions-summary.service\";\n\n@Component({\n  selector: 'ht-actions-summary-chart',\n  template: `<div class=\"level\">\n  <div class=\"level-left\">\n    <div class=\"level-item is-size-5 has-text-grey\" *ngIf=\"service.summary$ | async as summary\">\n      Total: {{summary.totalUsers}} actions\n    </div>\n  </div>\n</div>\n<ng-container *ngIf=\"service.summary$ | async as summary\">\n  <ht-users-summary [summary]=\"summary\" [selectable]=\"false\" [hideTotal]=\"true\"></ht-users-summary>\n</ng-container>\n\n`,\n  styles: [``],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ActionsSummaryChartComponent implements OnInit {\n  @Input() service;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n",
    "import { Injectable } from '@angular/core';\nimport {ActionsAnalyticsListComponent} from \"./actions-analytics-list.component\";\nimport {IAnalyticsListConfig} from \"../interfaces/analytics-list\";\nimport {filter, map} from \"rxjs/operators\";\nimport {UsersAnalyticsListComponent} from \"../users-analytics-list/users-analytics-list.component\";\nimport { ActionsList } from \"ht-client\";\nimport {dateRangeFactory} from \"ht-client\";\nimport {DateRangeMap} from \"ht-data\";\nimport {actionsClientFactory} from \"ht-client\";\nimport {IAnalyticsService} from \"../interfaces/analytics\";\n\n@Injectable()\nexport class ActionsAnalyticsListService implements IAnalyticsService {\n  component = ActionsAnalyticsListComponent;\n  className = \"is-6\";\n  tags = ['actions'];\n  dateRangeService$;\n  title;\n  tableFormat;\n  query;\n  columns;\n  client: ActionsList;\n  dataArray$;\n  dataTable$;\n  hideDatePicker: boolean;\n  noData = false;\n  loading$;\n  constructor(config: IAnalyticsListConfig) {\n    this.initState(config);\n    this.initClient(config)\n  }\n\n  initState(config: IAnalyticsListConfig) {\n    this.dateRangeService$ = dateRangeFactory(config.initialDateRange || DateRangeMap.last_7_days);\n    this.title = config.title;\n    this.tableFormat = config.tableFormat;\n    this.query = config.query;\n    this.columns = this.tableFormat.map(data => data.label);\n    this.hideDatePicker = config.hideDatePicker;\n    if (config.tags && config.tags.length) this.tags = [...this.tags, ...config.tags]\n  }\n\n  private initClient(config) {\n    const userClient  = actionsClientFactory({dateRange: this.dateRangeService$});\n    this.client = userClient.list;\n    this.client.updateStrategy = config.updateStrategy || \"once\";\n    this.client.setQuery(this.query);\n    this.loading$ = this.client.loading$;\n    // this.client.setActive();\n    const data$ = this.client.dataArray$;\n    this.dataTable$ = data$.pipe(\n      filter(data => !!data),\n      map((users: any[]) => {\n        this.noData = (users.length === 0) ? true : false;\n        return users.map(user => {\n          const values = this.tableFormat.map(data => data.selector(user));\n          return {data: user, values}\n        })\n\n      })\n    );\n  };\n\n  setData(instance: UsersAnalyticsListComponent) {\n    instance.listService = this;\n  }\n\n  setActive(isActive: boolean = true) {\n    this.client.setActive(isActive)\n  }\n\n}\n",
    "import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\nimport {IAnalyticsList} from \"../interfaces/analytics-list\";\nimport {IAction} from \"ht-models\";\n\n@Component({\n  selector: 'ht-actions-analytics-list',\n  template: `<table class=\"table is-fullwidth is-bordered is-hoverable\">\n  <thead>\n  <tr>\n    <th *ngFor=\"let column of listService.columns\">{{column}}</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr class=\"clickable\" (click)=\"showActionDetail(row)\" *ngFor=\"let row of listService.dataTable$ | async\">\n    <td *ngFor=\"let item of row.values\">{{item}}</td>\n  </tr>\n  </tbody>\n</table>\n\n<div class=\"modal is-active\" *ngIf=\"selectedAction\">\n  <div class=\"modal-background\" (click)=\"closeModal()\"></div>\n  <div class=\"modal-card\">\n    <section class=\"modal-card-body\">\n      <ht-action-table [action]=\"selectedAction\"></ht-action-table>\n      <!--<ht-user-table [user]=\"selectedUser\">-->\n        <!--{{listService.dateRangeService$.display$ | async}}-->\n      <!--</ht-user-table>-->\n    </section>\n  </div>\n  <button class=\"modal-close is-large\" aria-label=\"close\" (click)=\"closeModal()\"></button>\n</div>\n`,\n  styles: [`.clickable:hover{\n  -webkit-box-shadow:0px 0px 6px 1px #9f9f9f;\n          box-shadow:0px 0px 6px 1px #9f9f9f;\n  z-index:2; }\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ActionsAnalyticsListComponent implements OnInit {\n  @Input() listService: IAnalyticsList;\n  selectedAction: IAction | null = null;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  showActionDetail(row) {\n    this.selectedAction = row.data;\n  }\n\n  closeModal() {\n    this.selectedAction = null;\n  }\n\n}\n",
    "import { Injectable } from '@angular/core';\nimport {dateRangeFactory} from \"ht-client\";\nimport {DateRangeMap} from \"ht-data\";\nimport { actionsClientFactory} from \"ht-client\";\nimport { IActionStatusGraph} from \"ht-models\";\nimport {filter, map} from \"rxjs/operators\";\nimport {format} from \"date-fns\";\nimport {IActionsTrendlineConfig} from \"../interfaces/trendline\";\nimport {ActionsGraph} from \"ht-client\";\nimport {ActionsStatusGraphComponent} from \"./actions-status-graph.component\";\nimport {IAnalyticsService} from \"../interfaces/analytics\";\n\n@Injectable()\nexport class ActionsStatusGraphService implements IAnalyticsService {\n  component = ActionsStatusGraphComponent;\n  client: ActionsGraph;\n  dateRangeService$;\n  data$;\n  title;\n  chartFormat;\n  tags = ['actions'];\n  className = \"is-12\";\n  noData;\n  loading$;\n  constructor(config: IActionsTrendlineConfig) {\n    this.initState(config);\n    this.initClient();\n  }\n\n  initState(config: IActionsTrendlineConfig) {\n    // console.log(config.initialDateRange);\n    this.dateRangeService$ = dateRangeFactory(config.initialDateRange || DateRangeMap.last_7_days);\n    this.title = config.title || \"Actions graph\";\n    this.chartFormat = config.chartFormat;\n    if (config.tags && config.tags.length) this.tags = [...this.tags, ...config.tags];\n  }\n\n  private initClient() {\n    const graphClient = actionsClientFactory({dateRange: this.dateRangeService$});\n    this.client = graphClient.graph;\n    this.loading$ = this.client.loading$;\n    this.data$ = this.client.data$.pipe(\n      filter(data => !!data),\n      map((data: IActionStatusGraph[]) => {\n        this.noData = data.length ? false : true;\n        return this.getCompletedActionChart(data)\n      })\n    );\n\n\n  }\n\n  private getCompletedActionChart(data: IActionStatusGraph[]) {\n    // const format = data.length < 15 ? 'MMM D' : \"MMM D\";\n    const labels = data.map((item) => {\n      return format(item.created_date, 'ddd, MMM Do')\n      // return moment(item.created_date).format('ddd, MMM Do')\n    });\n    const datasets = this.chartFormat.map((item) => {\n      return {\n        title: item.title,\n        values: data.map(item.selector)\n      }\n    });\n    return {\n      labels,\n      datasets\n    }\n  }\n\n  setData(instance: ActionsStatusGraphComponent) {\n    instance.service = this\n  }\n\n  setActive(isActive: boolean = true) {\n    // this.client.setActive(isActive)\n  }\n}\n\n\n\n\n",
    "import {DateString, DistanceLocale, HMString, TimeString} from \"ht-utility\";\nimport {IAnalyticsListConfig} from \"../../interfaces/analytics-list\";\nimport {IUserAnalytics} from \"ht-models\";\nimport {UsersAnalyticsListService} from \"../../users-analytics-list/users-analytics-list.service\";\nimport {UsersSummaryService} from \"../../users-summary-chart/users-summary.service\";\nimport {ISummaryConfig} from \"../../interfaces/users-analytics\";\nimport {IActionsTrendlineConfig} from \"../../interfaces/trendline\";\nimport {DateRangeMap, userTableFormat} from \"ht-data\";\nimport {StopsHeatmapService} from \"../../stops-heatmap/stops-heatmap.service\";\n\nexport interface IPreset {\n  service: any,\n  initialConfig: IAnalyticsListConfig | ISummaryConfig<any> | IActionsTrendlineConfig\n}\nexport interface IAnalyticsPresets {\n  [name: string]: (...args: any[]) => IPreset\n}\nexport const usersAnalyticsListPresets: IAnalyticsPresets = {\n  stops_heatmap() {\n    return {\n      service: StopsHeatmapService,\n      initialConfig: {\n        title: \"Heatmap of stops by users\",\n        query: {page_size: 500},\n        tags: ['user behaviour'],\n        initialDateRange: DateRangeMap.last_7_days\n      }\n    }\n  },\n  max_location_disabled_duration() {\n    return {\n      service: UsersAnalyticsListService,\n      initialConfig: {\n        title: \"Users with max location disabled duration\",\n        query: {ordering: \"-location_disabled_duration\"},\n        tags: ['user behaviour', 'device health'],\n        tableFormat: [\n          {\n            label: \"Name\",\n            selector(user: IUserAnalytics) {\n              return user.name\n            }\n          },\n          userTableFormat.location_disabled_duration,\n          {\n            label: \"% of total duration\",\n            selector(user: IUserAnalytics) {\n              return user.total_duration && user.location_disabled_duration ?\n                (100 * (user.location_disabled_duration / user.total_duration)).toFixed(1) :\n                \"NA\"\n            }\n          }\n        ]\n      }\n    }\n  },\n  current_location_disabled() {\n    return {\n      service: UsersAnalyticsListService,\n      initialConfig: {\n        title: \"Recent users with location disabled\",\n        query: {status: 'location_disabled', show_all: true, ordering: '-last_heartbeat'},\n        updateStrategy: 'live',\n        hideDatePicker: true,\n        tags: ['user behaviour', 'device health', 'live'],\n        tableFormat: [\n          {\n            label: \"Name\",\n            selector(user: IUserAnalytics) {\n              return user.name\n            }\n          },\n          userTableFormat.last_heartbeat_at\n        ]\n      }\n    }\n  },\n  max_stop_duration() {\n    return {\n      service: UsersAnalyticsListService,\n      initialConfig: {\n        title: \"Users with max stop duration\",\n        query: {ordering: \"-stop_duration\"},\n        tags: ['activity'],\n        tableFormat: [\n          {\n            label: \"Name\",\n            selector(user: IUserAnalytics) {\n              return user.name\n            }\n          },\n          userTableFormat.stop_duration,\n          {\n            label: \"% of total duration\",\n            selector(user: IUserAnalytics) {\n              return user.total_duration && user.stop_duration ?\n                (100 * (user.stop_duration / user.total_duration)).toFixed(1) + '%' :\n                \"NA\"\n            }\n          }\n        ]\n      }\n    }\n\n  },\n  max_network_offline() {\n    return {\n      service: UsersAnalyticsListService,\n      initialConfig: {\n        title: \"Users with max network offline duration\",\n        query: {ordering: \"-network_offline_duration\"},\n        tags: ['device health'],\n        tableFormat: [\n          {\n            label: \"Name\",\n            selector(user: IUserAnalytics) {\n              return user.name\n            }\n          },\n          userTableFormat.network_offline_duration,\n          {\n            label: \"% of total duration\",\n            selector(user: IUserAnalytics) {\n              return user.total_duration && user.network_offline_duration ?\n                (100 * (user.network_offline_duration / user.total_duration)).toFixed(1) + '%' :\n                \"NA\"\n            }\n          }\n        ]\n      }\n    }\n\n  },\n  max_distance() {\n    return {\n      service: UsersAnalyticsListService,\n      initialConfig: {\n        title: \"Users with max distance travelled\",\n        query: {ordering: \"-total_distance\"},\n        tags: ['distance'],\n        tableFormat: [\n          {\n            label: \"Name\",\n            selector(user: IUserAnalytics) {\n              return user.name\n            }\n          },\n          userTableFormat.total_distance\n        ]\n      }\n    }\n\n  },\n  users_summary(usersClient, title?, queryLabels?) {\n    return {\n      service: UsersSummaryService,\n      initialConfig: {\n        title: title || \"Users status summary\",\n        queryLabels,\n        client: usersClient,\n      }\n    }\n  },\n  last_recorded() {\n    return {\n      service: UsersAnalyticsListService,\n      initialConfig: {\n        title: \"Recent active users\",\n        query: {ordering: \"-last_heartbeat_at\"},\n        tags: ['live'],\n        initialDateRange: DateRangeMap.last_30_days,\n        hideDatePicker: true,\n        tableFormat: [\n          {\n            label: \"Name\",\n            selector(user: IUserAnalytics) {\n              return user.name\n            }\n          },\n          userTableFormat.last_heartbeat_at\n        ]\n      }\n    }\n  },\n  users_actions() {\n    return {\n      service: UsersAnalyticsListService,\n      initialConfig: {\n        title: \"Users with max actions\",\n        query: {ordering: \"-num_actions\"},\n        tags: ['actions'],\n        initialDateRange: DateRangeMap.today,\n        tableFormat: [\n          {\n            label: \"Name\",\n            selector(user: IUserAnalytics) {\n              return user.name\n            }\n          },\n          userTableFormat.num_actions\n        ]\n      }\n    }\n  }\n};\n\n",
    "import { Injectable } from '@angular/core';\nimport { UsersHeatmap, usersClientFactory, dateRangeFactory } from \"ht-client\";\nimport {IAnalyticsListConfig} from \"../interfaces/analytics-list\";\nimport {DateRangeMap} from \"ht-data\";\nimport {of} from \"rxjs/observable/of\";\nimport {MapInstance, StopsHeatmapTrace, mapTypeService} from \"ht-maps\";\nimport {tap} from \"rxjs/operators\";\nimport {AnalyticsMapContainerComponent} from \"../analytics-map-container/analytics-map-container.component\";\nimport {IAnalyticsMapService} from \"../interfaces/analytics\";\nimport {Observable} from \"rxjs/Observable\";\nimport {Page} from \"ht-models\";\n\n@Injectable()\nexport class StopsHeatmapService implements IAnalyticsMapService {\n  component = AnalyticsMapContainerComponent;\n  className = \"is-6\";\n  tags = ['users'];\n  title;\n  noData = false;\n  loading$: Observable<boolean> = of(false);\n  mapLoading$;\n  client: UsersHeatmap;\n  dateRangeService$;\n  data$;\n  mapInstance: MapInstance;\n  constructor(config: IAnalyticsListConfig) {\n    this.mapInstance = new MapInstance();\n    this.setMapType(mapTypeService.getInstance().mapType);\n    this.initClient(config);\n  }\n\n  setMapType(mapType) {\n    this.mapInstance.setMapType(mapType);\n  }\n\n  setData(instance: AnalyticsMapContainerComponent) {\n    instance.service = this\n  };\n\n  setActive(active: boolean = true) {\n    this.client.setActive(active)\n  }\n\n  private initClient(config) {\n    this.dateRangeService$ = dateRangeFactory(config.initialDateRange || DateRangeMap.last_7_days);\n    this.title = config.title;\n    let userClient = usersClientFactory({dateRange: this.dateRangeService$});\n    this.client = userClient.heatmap;\n    this.mapLoading$ = this.client.loading$;\n    this.data$ = this.client.data$.pipe(\n      tap((data: Page<any>) => {\n        this.noData = data && data.count == 0 ? true : false;\n      })\n    );\n    let heatMapTrace = new StopsHeatmapTrace(this.mapInstance);\n    heatMapTrace.setPageData$(this.data$)\n  }\n}\n",
    "import {Component, Input, OnInit} from '@angular/core';\n// import {IAnalyticsItemService} from \"../interfaces/analytics-item\";\nimport {IAnalyticsMapService} from \"../interfaces/analytics\";\n\n@Component({\n  selector: 'ht-analytics-map-container',\n  template: `<ht-map [options]=\"mapOptions\" [loading]=\"service.mapLoading$ | async\" [mapInstance]=\"service.mapInstance\"></ht-map>\n`,\n  styles: [`:host{\n  height:500px;\n  width:100%; }\n\nht-map{\n  height:400px;\n  width:100%; }\n`]\n})\nexport class AnalyticsMapContainerComponent implements OnInit {\n  @Input() service: IAnalyticsMapService;\n  mapOptions = {\n    scrollWheelZoom: false\n  };\n  constructor() {\n\n  }\n\n  ngOnInit() {\n  }\n\n}\n",
    "import { Injectable } from '@angular/core';\nimport {IDateRange} from \"ht-models\";\nimport {dateRangeFactory, UsersSummaryClient, usersClientFactory, QueryLabel} from \"ht-client\";\nimport {DateRangeMap} from \"ht-data\";\nimport {UsersSummaryChartComponent} from \"./users-summary-chart.component\";\nimport {ISummaryConfig} from \"../interfaces/users-analytics\";\nimport {HtUsersClient} from \"ht-client\";\nimport {IAnalyticsService} from \"../interfaces/analytics\";\n\n@Injectable()\nexport class UsersSummaryService implements IAnalyticsService {\n  component = UsersSummaryChartComponent;\n  className = 'is-6';\n  tags = ['users', 'live'];\n  dateRangeService$;\n  title: string;\n  client;\n  summary$;\n  hideDatePicker = true;\n  noData = false;\n  loading$;\n  minHeight = 50;\n  constructor(config: ISummaryConfig<HtUsersClient>) {\n    this.setState(config);\n    // this.initClient()\n  }\n\n  setData(instance: UsersSummaryChartComponent) {\n    instance.service = this;\n  }\n\n  private setState(config: ISummaryConfig<HtUsersClient>) {\n    this.dateRangeService$ = dateRangeFactory(DateRangeMap.last_30_days);\n    this.title = config.title;\n    const client: HtUsersClient = config.client || usersClientFactory({dateRange: this.dateRangeService$});\n    client.setShowAll();\n    this.client = client.summary;\n    this.loading$ = this.client.loading$;\n    this.summary$ = client.listStatusChart$(config.queryLabels);\n  }\n\n  // private initClient() {\n  //   this.client.setActive()\n  // }\n\n  destroy() {\n    this.client.destroy()\n  }\n\n  setActive(isActive: boolean = true) {\n    this.client.setActive(isActive)\n  }\n}\n\n\n",
    "import { Injectable } from '@angular/core';\nimport {dateRangeFactory} from \"ht-client\";\nimport {DateRangeMap} from \"ht-data\";\nimport {filter, map} from \"rxjs/operators\";\nimport {usersClientFactory} from \"ht-client\";\nimport {IAnalyticsList, IAnalyticsListConfig} from \"../interfaces/analytics-list\";\n\nimport {UsersAnalytics} from \"ht-client\";\nimport {UsersAnalyticsListComponent} from \"./users-analytics-list.component\";\nimport {IAnalyticsService} from \"../interfaces/analytics\";\n\n@Injectable()\nexport class UsersAnalyticsListService implements IAnalyticsService {\n  component = UsersAnalyticsListComponent;\n  dateRangeService$;\n  title;\n  tableFormat;\n  query;\n  columns;\n  client: UsersAnalytics;\n  dataArray$;\n  dataTable$;\n  className = \"is-6\";\n  tags = ['users'];\n  hideDatePicker: boolean;\n  noData;\n  loading$;\n  constructor(config: IAnalyticsListConfig) {\n    this.initState(config);\n    this.initClient(config)\n  }\n\n  initState(config: IAnalyticsListConfig) {\n    this.dateRangeService$ = dateRangeFactory(config.initialDateRange || DateRangeMap.last_7_days);\n    this.title = config.title;\n    this.tableFormat = config.tableFormat;\n    this.query = config.query;\n    this.columns = this.tableFormat.map(data => data.label);\n    this.hideDatePicker = config.hideDatePicker;\n    if (config.tags && config.tags.length) this.tags = [...this.tags, ...config.tags]\n  }\n\n  private initClient(config) {\n    const userClient  = usersClientFactory({dateRange: this.dateRangeService$});\n    this.client = userClient.list;\n    this.client.updateStrategy = config.updateStrategy || \"once\";\n    this.client.setQuery(this.query);\n    this.loading$ = this.client.loading$;\n    // this.client.setActive();\n    const data$ = this.client.dataArray$;\n    this.dataTable$ = data$.pipe(\n      filter(data => !!data),\n      map((users: any[]) => {\n        this.noData = users.length ? false : true;\n        return users.map(user => {\n          const values = this.tableFormat.map(data => data.selector(user));\n          return {data: user, values}\n        })\n\n      })\n    );\n  };\n\n  setData(instance: UsersAnalyticsListComponent) {\n    instance.listService = this;\n  }\n\n  setActive(isActive: boolean = true) {\n    this.client.setActive(isActive)\n  }\n}\n\n\n\n\n\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActionsStatusGraphComponent } from './actions-status-graph.component';\nimport {DateRangeModule} from \"../filters/date-range/date-range.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DateRangeModule,\n  ],\n  declarations: [ActionsStatusGraphComponent],\n  exports: [ActionsStatusGraphComponent]\n})\nexport class ActionsStatusGraphModule { }\n",
    "import {AfterViewInit, ChangeDetectionStrategy, Component, Input, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport Chart from \"frappe-charts/dist/frappe-charts.min.esm\"\nimport {ActionsStatusGraphService} from \"./actions-status-graph.service\";\nimport {untilDestroy} from \"../until-destroy\";\n// import {filter} from \"rxjs/operators\";\n\n\n@Component({\n  selector: 'ht-actions-status-graph',\n  template: `<!--<div class=\"level\">-->\n  <!--<div class=\"level-left\">-->\n    <!--<div class=\"level-item has-text-weight-bold has-text-primary\">-->\n      <!--{{service.title}}-->\n    <!--</div>-->\n  <!--</div>-->\n  <!--<div class=\"level-right\">-->\n    <!--<div class=\"level-item\">-->\n      <!--<ht-date-range [showSingleDay]=\"false\" [dateRangeService$]=\"service.dateRangeService$\"></ht-date-range>-->\n    <!--</div>-->\n  <!--</div>-->\n<!--</div>-->\n<div #chart id=\"chart\"></div>\n<!--<div class=\"chart-container\">-->\n  <!---->\n  <!--<div class=\"loading-page\" *ngIf=\"service.client.loading$ | async\">-->\n    <!--<div class=\"icon auto has-text-grey-light\">-->\n      <!--<i class=\"fa fa-circle-o-notch fa-spin fa-3x fa-fw\"></i>-->\n    <!--</div>-->\n  <!--</div>-->\n  <!---->\n<!--</div>-->\n`,\n  styles: [`#chart{\n  width:100%; }\n\n.loading-page{\n  background:#ffffff96;\n  position:absolute;\n  height:100%;\n  width:100%;\n  top:0;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex; }\n\n.chart-container{\n  min-height:300px; }\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ActionsStatusGraphComponent implements OnInit, AfterViewInit, OnDestroy {\n  @Input( ) service;\n  data;\n  chart;\n  noData: boolean = false;\n  @ViewChild('chart') charElem;\n  constructor() {\n\n  }\n\n  ngOnInit() {\n    this.service.data$.pipe(\n      untilDestroy(this)\n    )\n      .subscribe((data) => {\n        this.setChart(data);\n    })\n\n  }\n\n\n  ngAfterViewInit() {\n\n  }\n\n  setChart(data) {\n    if (data.labels.length <= 1) {\n      this.noData = true;\n      return false;\n    }\n    if (this.chart) {\n      this.noData = false;\n      const labels = data.labels;\n      const dataset = data.datasets;\n      this.chart.update_values(dataset, labels);\n      const type = data.labels.length > 1 ? 'line' : 'bar';\n    } else {\n      this.chart = new Chart({\n        parent: this.charElem.nativeElement, // or a DOM element\n        // title: \"Action Graph\",\n        data: data,\n        type: 'line', // or 'line', 'scatter', 'pie', 'percentage'\n        height: 250,\n        is_series: 1,\n        colors: ['#60c1fd', 'red'],\n        region_fill: 1,\n        // x_axis_mode: 'tick',\n        format_tooltip_x: d => {\n          // console.log(d, moment(d).format('ddd, MMM Do'));\n          return d\n          // return moment(d).format('ddd, MMM Do')\n        },\n        // format_label_x: d => {\n        //   console.log(\"daa\");\n        //   return d\n        // },\n        format_tooltip_y: d => d\n      });\n      // this.chart.show_averages();\n    }\n\n  }\n\n  ngOnDestroy() {\n\n  }\n}\n",
    "import { Observable } from 'rxjs/Observable';\nimport { takeUntil } from 'rxjs/operators';\n\n// create a symbol identify the observable I add to\n// the component so it doesn't conflict with anything.\n// I need this so I'm able to add the desired behaviour to the component.\nexport const destroy$ = Symbol('destroy$');\n\n/**\n * an operator that takes until destroy it takes a components this a parameter\n * returns a lettable RxJS operator.\n */\nexport const untilDestroy = component => <T>(source: Observable<T>) => {\n  if (component[destroy$] === undefined) {\n    // only hookup each component once.\n    addDestroyObservableToComponent(component);\n  }\n\n  // pipe in the takeuntil destroy$ and return the source unaltered\n  return source.pipe(takeUntil(component[destroy$]));\n};\n\nexport function addDestroyObservableToComponent(component) {\n  component[destroy$] = new Observable<void>(observer => {\n    // keep track of the original destroy function,\n    // the user might do something in there\n    const orignalDestroy = component.ngOnDestroy;\n    if (orignalDestroy === undefined) {\n      // Angular does not support dynamic added destroy methods\n      // so make sure there is one.\n      throw new Error(\n        'untilDestroy operator needs the component to have an ngOnDestroy method'\n      );\n    }\n    // replace the ngOndestroy\n    component.ngOnDestroy = () => {\n      // fire off the destroy observable\n      observer.next();\n      // complete the observable\n      observer.complete();\n      // and at last, call the original destroy\n      orignalDestroy.call(component);\n    };\n    // return cleanup function.\n    return _ => (component[destroy$] = undefined);\n  });\n}\n",
    "import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {PlacelineMapContainerComponent} from './placeline-map-container.component';\nimport {MapContainerModule} from \"../map-container/map-container.module\";\nimport {PlacelineContainerModule} from \"../placeline-container/placeline-container.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MapContainerModule,\n    PlacelineContainerModule\n  ],\n  declarations: [PlacelineMapContainerComponent],\n  exports: [PlacelineMapContainerComponent]\n})\nexport class PlacelineMapContainerModule { }\n",
    "import {Component, Input, OnInit} from '@angular/core';\nimport {IUserData} from \"ht-models\";\nimport {HtUsersService} from \"../ht/ht-users.service\";\nimport {HtMapService} from \"../ht/ht-map.service\";\n\n@Component({\n  selector: 'ht-placeline-map-container',\n  template: `<div class=\"ht-container\">\n  <div class=\"bar\" *ngIf=\"showSidebar\">\n    <ht-placeline-container [userId]=\"userId\"></ht-placeline-container>\n  </div>\n  <div class=\"flex\">\n    <ht-map-container [showLoading]=\"false\"></ht-map-container>\n  </div>\n</div>\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.ht-container{\n  width:100%;\n  height:100%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n  min-height:100%;\n}\n.ht-container .bar{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n  max-width:400px;\n  min-height:100%;\n  height:100%;\n  overflow:auto;\n}\n`]\n})\nexport class PlacelineMapContainerComponent implements OnInit {\n\n  @Input() userId: string | null;\n  @Input() showSidebar: boolean = true;\n  userData$;\n  constructor(\n    private userClientService: HtUsersService,\n    private mapService: HtMapService\n  ) { }\n\n  ngOnInit() {\n    this.userClientService.placeline.setId(this.userId);\n    // this.userData$ = this.userClientService.getUserData().do((userData: IUserData) => {\n    //   if (userData) {\n    //     this.mapService.tracePlaceline(userData);\n    //     this.mapService.resetBounds()\n    //   } else {\n    //     this.mapService.segmentTrace.trace(null, this.mapService.map)\n    //   }\n    // });\n\n    // if (this.userId) {\n    //   this.userClientService.placeline.setId(this.userId)\n    // }\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { GroupsChartContainerComponent } from './groups-chart-container.component';\nimport {SharedModule} from \"../shared/shared.module\";\nimport {RouterModule} from \"@angular/router\";\nimport { GroupsChartService } from './groups-chart.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    RouterModule\n  ],\n  declarations: [GroupsChartContainerComponent],\n  exports: [GroupsChartContainerComponent],\n  providers: [GroupsChartService]\n})\nexport class GroupsChartContainerModule { }\n",
    "import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {IGroup} from \"ht-models\";\nimport {GroupsChartService} from \"./groups-chart.service\";\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\nimport {Observable} from \"rxjs/Observable\";\n\n@Component({\n  selector: 'ht-groups-chart-container',\n  template: `<ng-container *ngIf=\"selectedGroups$ | async as selectedGroups\">\n  <nav class=\"breadcrumb has-arrow-separator\" aria-label=\"breadcrumbs\">\n    <ul>\n      <li [class.is-active]=\"l\" (click)=\"groupsChartService.setLevel(i)\" *ngFor=\"let group of selectedGroups; let l = last; let i = index\">\n        <a *ngIf=\"group; else root\">\n          <span>{{group.name}}</span>\n        </a>\n        <ng-template #root>\n          <a>\n            <span class=\"icon is-small\"><i class=\"fa fa-home\"></i></span>\n            <span>Root groups</span>\n          </a>\n        </ng-template>\n      </li>\n    </ul>\n  </nav>\n\n  <div class=\"container\">\n    <ng-template #notFound>\n      <div>\n        No Group found\n      </div>\n    </ng-template>\n    <div class=\"flex-row wrap group-container\" *ngIf=\"!error\">\n      <div class=\"flex-column group-container-list bar card-stack\" *ngFor=\"let groups of groupsLevels$ | async; let i = index\">\n        <div class=\"text-center ht-level\">\n          <span class=\"\">Level {{i + 1}}</span>\n        </div>\n        <div class=\"flex-column\" *ngIf=\"groups; else empty\">\n          <div (click)=\"setGroup(group)\" class=\"card card-clickable is-primary\" [class.card-active]=\"selectedGroups[i + 1] && selectedGroups[i + 1].id == group.id\" *ngFor=\"let group of groups\">\n            <div class=\"card-content is-primary flex-row\">\n              <div class=\"flex\">\n                {{group.name}}\n              </div>\n              <div (click)=\"selectGroup(group, i, $event)\" class=\"button is-small is-primary\">\n                <div class=\"icon\">\n                  <i class=\"fa fa-angle-right\"></i>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"card card-content has-text-grey-light has-text-centered\" *ngIf=\"groups.length == 0\">\n            No Sub-group\n          </div>\n        </div>\n        <ng-template #empty>\n          <h3 class=\"text-center msg bar has-text-grey-light has-text-centered\">\n            Loading\n          </h3>\n        </ng-template>\n      </div>\n\n\n    </div>\n  </div>\n</ng-container>\n`,\n  styles: [`.bar{\n  width:200px;\n  min-width:200px;\n}\n.card-content{\n  padding:10px 13px;\n}\n.card-active{\n  background-color:#5496F8;\n  color:white !important;\n}\n.card-active .button{\n  display:none;\n}\n.action{\n  background:#798E9B;\n  color:white;\n  padding:0 8px;\n  border-radius:3px;\n}\n.action:hover{\n  background-color:#52616A;\n}\n.group-container{\n  margin:20px 0;\n}\n.group-container-list{\n  margin:20px 0;\n}\n.msg{\n  margin-top:60px;\n}\n.ht-level{\n  padding:8px 16px;\n  background-color:#52616A;\n  color:white;\n}\na:focus{\n  color:initial;\n}\n.breadcrumb{\n  padding:0 30px;\n  background-color:#fff;\n  border-bottom:1px solid #C9D6DE;\n}\n.groups-list{\n  max-height:400px;\n  overflow:auto;\n}\n`]\n})\nexport class GroupsChartContainerComponent implements OnInit {\n  loading: boolean = false;\n\n  @Input() groupId: string;\n  @Output() onGroup: EventEmitter<IGroup> = new EventEmitter();\n  constructor(\n    public groupsChartService: GroupsChartService\n  ) {\n\n  }\n\n  ngOnInit() {\n    const groupId = this.groupId ? this.groupId : null;\n    this.groupsChartService.setRootGroupId(groupId)\n  }\n\n  get selectedGroups$(): BehaviorSubject<Array<IGroup | null>> {\n    return this.groupsChartService.selectedGroups$;\n  }\n\n  get groupsLevels$(): Observable<any[]> {\n    return this.groupsChartService.groupsLevels$;\n  }\n\n  // get selectedGroups() {\n  //   return this.groupsChartService.selectedGroups;\n  // }\n  //\n  // get groupsLevels() {\n  //   return this.groupsChartService.groupsLevels;\n  // }\n  //\n  // get selectedGroup$() {\n  //   return this.groupsChartService.selectedGroup$;\n  // }\n\n  setGroup(group) {\n    this.onGroup.next(group)\n  }\n\n  selectGroup(group, level, event) {\n    const id = group.id;\n    event.stopPropagation();\n    event.preventDefault();\n    this.groupsChartService.setSelectedGroup(group, level + 1)\n\n  }\n\n}\n",
    "import { Injectable } from '@angular/core';\nimport {Observable} from \"rxjs/Observable\";\nimport {filter, map, switchMap, take, withLatestFrom} from \"rxjs/operators\";\nimport {HtGroupsService} from \"../ht/ht-groups.service\";\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\nimport {IGroup} from \"ht-models\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {Page} from \"ht-models\";\nimport {combineLatest} from \"rxjs/observable/combineLatest\";\nimport {of} from \"rxjs/observable/of\";\n\n@Injectable()\nexport class GroupsChartService {\n  // groupsLevels = [];\n  // selectedGroups = [];\n  // selectedGroup$: Observable<any>;\n  error;\n  selectedGroups$: BehaviorSubject<Array<IGroup | null>> = new BehaviorSubject([]);\n  groupsLevelsEntity$: BehaviorSubject<IGroupsLevelEntity> = new BehaviorSubject({});\n  groupsLevels$: Observable<any[]>;\n  groupsSub: Subscription;\n  constructor(\n    private groupsService: HtGroupsService\n  ) {\n    this.setGroupsLevels();\n    this.groupsLevels$ = combineLatest(\n      this.selectedGroups$,\n      this.groupsLevelsEntity$,\n      (selectedGroups, groupslevelsEntity) => {\n        return selectedGroups.map((group) => {\n          const id = group ? group.id : null;\n          return id && groupslevelsEntity[id] ? groupslevelsEntity[id] : null\n        })\n      }\n    )\n\n  }\n\n  setRootGroupId(groupId: string | null) {\n    this.selectedGroups$.pipe(\n      take(1),\n      filter(groups => {\n        const firstGroup = groups && groups[0] ? groups[0] : null;\n        const id = firstGroup ? firstGroup.id : null;\n        return id !== groupId || (groupId == null && !groups.length);\n      }),\n      switchMap((): Observable<IGroup | null> => {\n        return groupId ? this.groupsService.item.api$(groupId) : of(null)\n      })\n    ).subscribe((group: IGroup | null) => {\n      this.setSelectedGroup(group, 0)\n    })\n  };\n\n  setSelectedGroup(group: IGroup | null, level: number) {\n    this.selectedGroups$.asObservable().pipe(\n      take(1),\n      map((selectedGroups: Array<IGroup | null>) => {\n        selectedGroups.splice(level);\n        selectedGroups.push(group);\n        return selectedGroups\n      })\n    ).subscribe((selectedGroups) => {\n      this.selectedGroups$.next(selectedGroups)\n    })\n  };\n\n\n  setGroupsLevels() {\n    if (this.groupsSub) return false;\n\n    this.groupsSub = this.selectedGroups$.pipe(\n      filter(data => !!data.length),\n      withLatestFrom(this.groupsLevelsEntity$),\n      switchMap(([selectedGroups, groupsLevels]) => {\n        const level = selectedGroups.length;\n        const lastSelectedGroup = level && selectedGroups.length ? selectedGroups[level - 1] : null;\n        const lastId = lastSelectedGroup ? lastSelectedGroup.id : null;\n        groupsLevels = selectedGroups.reduce((acc, group) => {\n          const groupId = group ? group.id : null;\n          return groupId && groupsLevels[groupId] ? {...acc, [groupId]: groupsLevels[groupId]} : acc\n        }, {});\n\n        if (lastId && groupsLevels[lastId]) {\n          return of(groupsLevels)\n        } else {\n          return this.getGroups(lastId).pipe(\n            map((groupsPage: Page<IGroup>) => {\n              return lastId ? {...groupsLevels, [lastId]: groupsPage.results} : groupsLevels\n            })\n          )\n        }\n\n        // return of(groupsLevels)\n      })\n    ).subscribe((data: IGroupsLevelEntity) => {\n      this.groupsLevelsEntity$.next(data)\n    })\n  };\n\n  getGroups(parentId: string | null): Observable<Page<IGroup>> {\n    return parentId ? this.groupsService.getChildren(parentId) : this.groupsService.getRoot();\n  }\n\n  setLevel(level: number) {\n    this.selectedGroups$.asObservable().pipe(\n      take(1),\n      map((selectedGroups: Array<IGroup | null>) => {\n        selectedGroups.splice(level + 1);\n        return selectedGroups\n      })\n    ).subscribe((selectedGroups) => {\n      this.selectedGroups$.next(selectedGroups)\n    });\n    // this.setSelectedGroup(group, level + 1)\n  }\n\n};\n\nexport interface IGroupsLevelEntity {\n  [groupId: string]: IGroup[]\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { GroupsContainerComponent } from './groups-container.component';\nimport {GroupsModule} from \"../groups/groups.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    GroupsModule\n  ],\n  declarations: [GroupsContainerComponent],\n  exports: [GroupsContainerComponent]\n})\nexport class GroupsContainerModule { }\n",
    "import {Component, Input, OnInit} from '@angular/core';\nimport {HtGroupsService} from \"../ht/ht-groups.service\";\n@Component({\n  selector: 'ht-groups-container',\n  template: `<div class=\"container\" *ngIf=\"groups$ | async as groups\">\n  <ht-groups [groupIdParam]=\"groupIdParam\" [groups]=\"groups\"></ht-groups>\n</div>\n`,\n  styles: [`.container{\n  width:100%;\n}\n`]\n})\nexport class GroupsContainerComponent implements OnInit {\n  groups$;\n  @Input() groupIdParam: string = 'id';\n  constructor(\n    private groupsClient: HtGroupsService\n  ) { }\n\n  ngOnInit() {\n    this.groupsClient.list.setActive();\n    this.groups$ = this.groupsClient.list.dataArray$;\n    // this.clientService.groups.list.setOptions({query: {}});\n    // this.clientService.groups.list.initListener();\n    // this.groups$ = this.clientService.groups.list.dataArray$.map((groups) => {\n    //   return _.filter(groups, (group: IGroup) => !!group[this.groupIdParam])\n    // })\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { GroupsComponent } from './groups.component';\nimport {RouterModule} from \"@angular/router\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule\n  ],\n  declarations: [GroupsComponent],\n  exports: [GroupsComponent]\n})\nexport class GroupsModule { }\n",
    "import {Component, Input, OnInit} from '@angular/core';\nimport {IGroup} from \"ht-models\";\n\n@Component({\n  selector: 'ht-groups',\n  template: `<div class=\"card-stack\">\n  <a [routerLink]=\"['/groups', group[groupIdParam]]\" class=\"card\" *ngFor=\"let group of groups\">\n    <div class=\"card-content-mid\">\n      {{group.name}}\n    </div>\n  </a>\n</div>\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.card-stack{\n  max-width:500px;\n  margin:auto;\n}\n`]\n})\nexport class GroupsComponent implements OnInit {\n  @Input() groups: IGroup[];\n  @Input() groupIdParam: string = 'id';\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UsersListContainerComponent } from './users-list-container.component';\nimport {DateRangePickerModule} from \"../date-range-picker/date-range-picker.module\";\nimport {DateRangeModule} from \"../filters/date-range/date-range.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DateRangePickerModule,\n    DateRangeModule\n  ],\n  declarations: [UsersListContainerComponent],\n  exports: [UsersListContainerComponent]\n})\nexport class UsersListContainerModule { }\n",
    "import { Component, OnInit } from '@angular/core';\nimport {IDateRangePickerOptions} from \"../date-range-picker/date-range-picker.component\";\nimport {DateRange} from \"ht-client\";\nimport {DateRangeMap} from \"ht-data\";\n\n@Component({\n  selector: 'ht-users-list-container',\n  template: `<!--<button class=\"button\">-->\n  <!--{{dateRangeService.display$ | async}}-->\n<!--</button>-->\n<!--<ht-date-range-picker (onRangeChange)=\"rangeChange($event)\" [dateRange]=\"dateRangeService.data$ | async\"></ht-date-range-picker>-->\n<ht-date-range [dateRangeService]=\"dateRangeService\"></ht-date-range>\n\n`,\n  styles: [``]\n})\nexport class UsersListContainerComponent implements OnInit {\n  options: IDateRangePickerOptions;\n  dateRangeService = new DateRange(DateRangeMap.today);\n  date = DateRangeMap.today.start;\n  constructor() { }\n\n  ngOnInit() {\n    this.options = {\n      datePicker: true\n    };\n  }\n\n  dateChange(date) {\n    this.date = date\n  }\n  rangeChange(range) {\n    this.dateRangeService.setDateRange(range)\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UsersAnalyticsListComponent } from './users-analytics-list.component';\nimport {DateRangeModule} from \"../filters/date-range/date-range.module\";\nimport {UserTableModule} from \"../user-table/user-table.module\";\nimport {DataTableModule} from \"../data-table/data-table.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DateRangeModule,\n    UserTableModule,\n    DataTableModule,\n  ],\n  declarations: [UsersAnalyticsListComponent],\n  exports: [UsersAnalyticsListComponent]\n})\nexport class UsersAnalyticsListModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserTableComponent } from './user-table.component';\nimport { SharedModule } from \"../shared/shared.module\";\nimport {DataTableModule} from \"../data-table/data-table.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    DataTableModule\n  ],\n  declarations: [UserTableComponent],\n  exports: [UserTableComponent]\n})\nexport class UserTableModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DataTableComponent } from './data-table.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [DataTableComponent],\n  exports: [DataTableComponent]\n})\nexport class DataTableModule { }\n",
    "import {ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n\n@Component({\n  selector: 'ht-data-table',\n  template: `<table class=\"table is-fullwidth is-bordered is-striped\">\n  <tbody>\n  <tr [class.clickable]=\"clickable\" (click)=\"selectRow(row)\" *ngFor=\"let row of tableData\">\n    <td *ngFor=\"let item of row\">{{item}}</td>\n  </tr>\n  </tbody>\n</table>\n`,\n  styles: [`.clickable:hover{\n  -webkit-box-shadow:1px 1px grey;\n          box-shadow:1px 1px grey;\n  z-index:2; }\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DataTableComponent implements OnInit {\n  @Input() tableData;\n  @Input() clickable: boolean = false;\n  @Output() select = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  selectRow(row) {\n    if (this.clickable) {\n      this.select.next(row)\n    }\n  }\n\n}\n",
    "import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\nimport {IUserAnalytics, IUser} from \"ht-models\";\nimport { tableFormat, userTableFormat, actionTableFormat } from \"ht-data\";\nimport {IAction} from \"ht-models\";\n\n@Component({\n  selector: 'ht-user-table',\n  template: `<div class=\"level\">\n  <div class=\"level-left\">\n    <div class=\"level-item\">\n      <ht-profile [url]=\"user.photo\"></ht-profile>\n    </div>\n    <div class=\"level-item is-size-4 has-text-grey\">\n      {{user.name | nameCase}}\n    </div>\n  </div>\n  <div class=\"level-right\">\n    <ng-content></ng-content>\n  </div>\n</div>\n<ht-data-table [tableData]=\"tableData\"></ht-data-table>\n<!--<table class=\"table is-fullwidth is-bordered is-striped\">-->\n  <!--<tbody>-->\n  <!--<tr *ngFor=\"let row of tableData\">-->\n    <!--<td *ngFor=\"let item of row\">{{item}}</td>-->\n  <!--</tr>-->\n  <!--</tbody>-->\n<!--</table>-->\n\n`,\n  styles: [``],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class UserTableComponent implements OnInit {\n  @Input() user: IUserAnalytics | IUser;\n  @Input() action: IAction;\n  excludedKey = [\n    'name',\n    'status',\n    'photo',\n    'created_at',\n    'modified_at',\n    'id',\n    'availability_status',\n    'location_status',\n    'vehicle_type'\n  ];\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  get tableData() {\n    // let f = tableFormat(this.user, {excludes: this.excludedKey, format: {}});\n    // console.log(f, \"table\");\n\n    return tableFormat(this.user, {excludes: this.excludedKey, format: userTableFormat});\n    // return Object.keys(this.user).reduce((acc, key) => {\n    //   const value = this.user[key];\n    //   if (typeof value === 'number' || typeof value === 'string' && this.isKeyIncluded(key)) {\n    //     acc.push([key, value]);\n    //     return acc\n    //   } else {\n    //     return acc\n    //   }\n    // }, [])\n  }\n\n  get actionData() {\n    // let f = tableFormat(this.user, {excludes: this.excludedKey, format: {}});\n    // console.log(f, \"table\");\n\n    return tableFormat(this.user, {excludes: this.excludedKey, format: userTableFormat});\n  }\n\n  get currentUser() {\n    return this.action ? this.action.user : this.user\n  }\n\n  isKeyIncluded(key) {\n    return !!!this.excludedKey.includes(key)\n  }\n\n}\n",
    "import {ChangeDetectionStrategy, Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {IAnalyticsList} from \"../interfaces/analytics-list\";\nimport {IUserAnalytics} from \"ht-models\";\n\n@Component({\n  selector: 'ht-users-analytics-list',\n  template: `<!--<div class=\"level\">-->\n  <!--<div class=\"level-left has-text-weight-bold has-text-primary\">-->\n    <!--{{listService.title}}-->\n  <!--</div>-->\n  <!--<div class=\"level-right\" *ngIf=\"!listService.hideDatePicker\">-->\n    <!--<ht-date-range [dateRangeService$]=\"listService.dateRangeService$\"></ht-date-range>-->\n  <!--</div>-->\n<!--</div>-->\n<table class=\"table is-fullwidth is-bordered is-hoverable\">\n  <thead>\n  <tr>\n    <th *ngFor=\"let column of listService.columns\">{{column}}</th>\n  </tr>\n  </thead>\n  <tbody>\n  <!--<ht-data-table (select)=\"showUserDetail($event)\" [clickable]=\"true\" [tableData]=\"listService.dataTable$ | async\"></ht-data-table>-->\n  <tr class=\"clickable\" (click)=\"showUserDetail(row)\" *ngFor=\"let row of listService.dataTable$ | async\">\n    <td *ngFor=\"let item of row.values\">{{item}}</td>\n  </tr>\n  </tbody>\n</table>\n\n<div class=\"modal is-active\" *ngIf=\"selectedUser\">\n  <div class=\"modal-background\" (click)=\"closeModal()\"></div>\n  <div class=\"modal-card\">\n    <section class=\"modal-card-body\">\n      <ht-user-table [user]=\"selectedUser\">\n        <span *ngIf=\"!listService.hideDatePicker\">{{listService.dateRangeService$.display$ | async}}</span>\n      </ht-user-table>\n    </section>\n  </div>\n  <button class=\"modal-close is-large\" aria-label=\"close\" (click)=\"closeModal()\"></button>\n</div>\n`,\n  styles: [`.clickable:hover{\n  -webkit-box-shadow:0px 0px 6px 1px #808080;\n          box-shadow:0px 0px 6px 1px #808080;\n  z-index:2; }\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class UsersAnalyticsListComponent implements OnInit, OnDestroy {\n  @Input() listService: IAnalyticsList;\n  selectedUser: IUserAnalytics | null = null;\n  constructor() {\n\n  }\n\n  ngOnInit() {\n\n  }\n\n  showUserDetail(row) {\n    this.selectedUser = row.data;\n  }\n\n  closeModal() {\n    this.selectedUser = null;\n  }\n\n  ngOnDestroy() {\n    // this.listService.client.destroy();\n    // this.listService.client.list.dataSub.unsubscribe()\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UsersSummaryChartComponent } from './users-summary-chart.component';\nimport {UsersSummaryModule} from \"../users-summary/users-summary.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UsersSummaryModule,\n  ],\n  declarations: [UsersSummaryChartComponent],\n  exports: [UsersSummaryChartComponent]\n})\nexport class UsersSummaryChartModule { }\n",
    "import {ChangeDetectionStrategy, Component, Input, OnInit, ViewChild} from '@angular/core';\nimport Chart from \"frappe-charts/dist/frappe-charts.min.esm\"\n// import {untilDestroy} from \"../until-destroy\";\n// import {filter, map} from \"rxjs/operators\";\nimport { IUsersSummaryData } from \"ht-client\";\n\n@Component({\n  selector: 'ht-users-summary-chart',\n  template: `<div class=\"level\">\n  <div class=\"level-left\">\n    <div class=\"level-item is-size-5\" *ngIf=\"service.summary$ | async as summary\">\n      Total: {{summary.totalUsers}} {{'users'}}\n    </div>\n  </div>\n</div>\n<ng-container *ngIf=\"service.summary$ | async as summary\">\n  <ht-users-summary [summary]=\"summary\" [selectable]=\"false\" [hideTotal]=\"true\"></ht-users-summary>\n</ng-container>\n\n`,\n  styles: [``],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class UsersSummaryChartComponent implements OnInit {\n  @Input() service;\n  noData: boolean = false;\n  chart;\n  summary$;\n  @ViewChild('chart') charElem;\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n  setChart(data) {\n    if (data.labels.length <= 1) {\n      this.noData = true;\n      return false;\n    }\n    if (this.chart) {\n      this.noData = false;\n\n    } else {\n      this.chart = new Chart({\n        parent: this.charElem.nativeElement, // or a DOM element\n        // title: this.service.title,\n        data: data,\n        type: 'percentage', // or 'line', 'scatter', 'pie', 'percentage'\n        height: 150,\n        // is_series: 1,\n        // colors: ['yellow', 'red', 'blue', 'green', 'grey', 'pink'],\n        // region_fill: 1,\n        // x_axis_mode: 'tick',\n        format_tooltip_x: d => d,\n        format_tooltip_y: d => d\n      });\n    }\n\n  }\n\n  formatSummary(data: IUsersSummaryData) {\n    // let labels =\n    const labels = data.chart.map(item => item.label);\n    const values = data.chart.map(item => item.value);\n\n    return {\n      labels,\n      datasets: [\n        {\n          values\n        }\n      ]\n    }\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UsersMapContainerComponent } from './users-map-container.component';\nimport {UsersModule} from \"../users/users.module\";\nimport {MapModule} from \"../map/map.module\";\nimport {UsersContainerModule} from \"../users-container/users-container.module\";\nimport {MapContainerModule} from \"../map-container/map-container.module\";\nimport {UsersFilterModule} from \"../filters/users-filter/users-filter.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UsersContainerModule,\n    MapContainerModule,\n    UsersFilterModule\n  ],\n  declarations: [UsersMapContainerComponent],\n  exports: [UsersMapContainerComponent]\n})\nexport class UsersMapContainerModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UsersFilterComponent } from './users-filter.component';\nimport {EntitySearchModule} from \"../entity-search/entity-search.module\";\nimport {SharedModule} from \"../../shared/shared.module\";\nimport {DateRangeModule} from \"../date-range/date-range.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    EntitySearchModule,\n    SharedModule,\n    DateRangeModule\n  ],\n  declarations: [UsersFilterComponent],\n  exports: [UsersFilterComponent]\n})\nexport class UsersFilterModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DateRangeComponent } from './date-range.component';\nimport {SharedModule} from \"../../shared/shared.module\";\nimport {DateRangePickerModule} from \"../../date-range-picker/date-range-picker.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    DateRangePickerModule\n  ],\n  declarations: [DateRangeComponent],\n  exports: [DateRangeComponent]\n})\nexport class DateRangeModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DateRangePickerComponent } from './date-range-picker.component';\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule\n  ],\n  declarations: [DateRangePickerComponent],\n  exports: [DateRangePickerComponent]\n})\nexport class DateRangePickerModule { }\n",
    "import {\n  Component, OnInit, Input,\n  ChangeDetectionStrategy, OnChanges, Output, EventEmitter\n} from '@angular/core';\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\nimport {\n  addDays, addMonths, addWeeks, endOfDay, format, isBefore, isFuture, isSameDay, isSameMonth, isToday, isWithinRange,\n  startOfMonth,\n  startOfWeek\n} from \"date-fns\";\nimport {distinctUntilChanged, map, take} from \"rxjs/operators\";\nimport {Observable} from \"rxjs/Observable\";\nimport {IDateRange} from \"ht-models\";\nimport {combineLatest} from \"rxjs/observable/combineLatest\";\nimport {DateRangeLabelMap, isSameDateRange} from \"ht-data\";\nimport {dateRangeDisplay} from \"ht-utility\";\n\nexport interface IDateRangePickerOptions {\n  hideSingleDay?: boolean,\n  isRight?: boolean,\n  datePicker?: boolean\n  hideCalender?: boolean\n}\n\nexport interface IDay {\n  date: Date;\n  timeStamp: string,\n  day: string;\n  isInMonth: boolean,\n  // weekday: number;\n  today: boolean;\n  isStart?: boolean,\n  isEnd?: boolean,\n  isHovered?: boolean,\n  isInvalid?: boolean,\n  // firstMonthDay: boolean;\n  // lastMonthDay: boolean;\n  // visible: boolean;\n  // from: boolean;\n  // to: boolean;\n  isWithinRange?: boolean;\n}\n\n@Component({\n  selector: 'ht-date-range-picker',\n  template: `<div class=\"flex-row\" [ngClass]=\"options.isRight ? 'row-right' : 'row-left'\">\n  <div class=\"flex-column column-gap-10 options\" *ngIf=\"!options.datePicker\">\n    <button class=\"button is-light is-small\" [class.is-primary]=\"date.isActive\" (click)=\"setDateRange(date.range)\" *ngFor=\"let date of customDates$\">{{date.label}}</button>\n  </div>\n  <div class=\"calender\" *ngIf=\"!options.hideCalender\">\n    <div class=\"flex-column\">\n      <div class=\"flex-row date-style\" *ngIf=\"currentDateStyle$ | async as dateStyle\">\n        <div class=\"has-text-centered\" [class.has-text-danger]=\"!dateStyle.display[0]\">{{dateStyle.display[0] | dot: 'Set start date'}}</div>\n        <div *ngIf=\"dateStyle.display.length == 2\">&nbsp; &hArr; &nbsp;</div>\n        <div *ngIf=\"dateStyle.display.length == 2\" class=\"has-text-centered\" [class.has-text-danger]=\"!dateStyle.display[1]\">{{dateStyle.display[1] | dot: 'Set end date'}}</div>\n      </div>\n      <div class=\"flex-row month flex-center\" *ngIf=\"month$ | async as month\">\n        <div class=\"icon clickable\" (click)=\"changeMonth(-1)\">\n          <i class=\"fa fa-chevron-left\"></i>\n        </div>\n        <div class=\"flex has-text-centered\">{{month.display}}</div>\n        <div class=\"icon clickable\" (click)=\"changeMonth(1)\">\n          <i class=\"fa fa-chevron-right\"></i>\n        </div>\n      </div>\n      <div class=\"flex-row\">\n        <div class=\"day has-text-weight-bold\" *ngFor=\"let day of  days\">{{day}}</div>\n      </div>\n      <div *ngFor=\"let weeks of dates$ | async; trackBy: indexByWeek\" class=\"flex-row\">\n        <div\n          (mousedown)=\"pickDate(day)\"\n          (mouseenter)=\"hoverDate(day)\"\n          (mouseleave)=\"hoverDate(null)\"\n          [class.is-today]=\"day.today\"\n          [class.is-invalid]=\"day.isInvalid\"\n          [class.is-hovered]=\"day.isHovered\"\n          [class.is-start]=\"day.isStart\"\n          [class.is-end]=\"day.isEnd\"\n          [class.has-text-grey-light]=\"!day.isInMonth\"\n          *ngFor=\"let day of weeks; trackBy: indexBy\"\n          class=\"day\">{{day.day}}</div>\n      </div>\n    </div>\n  </div>\n</div>\n\n`,\n  styles: [`.text-center{\n  text-align:center; }\n\n.text-muted{\n  color:#798E9B; }\n\n.text-right{\n  text-align:right; }\n\n.text-left{\n  text-align:left; }\n\n.text-1{\n  font-size:2em; }\n\n.text-4{\n  font-size:0.8em; }\n\n.text-capitalize{\n  text-transform:capitalize; }\n\n.text-uppercase{\n  text-transform:uppercase; }\n\n.text-ontime{\n  color:#58ae5b; }\n\n.text-late{\n  color:#E6413E; }\n\n.text-warning{\n  color:#E6413E !important; }\n\n.text-red{\n  color:#E6413E; }\n\n.text-blue{\n  color:#5496F8; }\n\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis; }\n\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row; }\n\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column; }\n\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px; }\n\n.row-gap-4 > :not(:last-child){\n  margin-right:4px; }\n\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px; }\n\n.row-gap-7 > :not(:last-child){\n  margin-right:7px; }\n\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px; }\n\n.row-gap-10 > :not(:last-child){\n  margin-right:10px; }\n\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px; }\n\n.row-gap-20 > :not(:last-child){\n  margin-right:20px; }\n\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap; }\n\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1; }\n\n.auto{\n  margin:auto; }\n\n.relative{\n  position:relative; }\n\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between; }\n\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around; }\n\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center; }\n\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center; }\n\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center; }\n\n.clickable{\n  cursor:pointer; }\n\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%; }\n\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%; }\n\n.link-unstyled{\n  color:inherit; }\n  .link-unstyled:hover{\n    text-decoration:none; }\n\n.half{\n  width:50%; }\n\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none; }\n\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16); }\n\n.marker-transparent{\n  opacity:0.4; }\n\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px); }\n\n.tooltip-warning{\n  background:#e04745;\n  color:#fff; }\n  .tooltip-warning-arrow{\n    border-right-color:#e04745 !important; }\n\n.tooltip-info{\n  background:#5496F8;\n  color:#fff; }\n  .tooltip-info-arrow{\n    border-right-color:#5496F8 !important; }\n\na{\n  color:inherit;\n  text-decoration:none; }\n  a:hover{\n    color:inherit;\n    text-decoration:none; }\n  a:active{\n    color:inherit;\n    text-decoration:none; }\n  a:focus{\n    outline:none;\n    color:inherit;\n    text-decoration:none; }\n\n.ht-card.clickable:hover{\n  background:#edeff1; }\n\n.ht-card-container{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n  position:relative; }\n  .ht-card-container .card{\n    margin-bottom:-1px; }\n  .ht-card-container .sub-status{\n    font-size:9px;\n    margin-top:-16px;\n    margin-bottom:20px;\n    text-align:center;\n    color:#798E9B;\n    text-transform:uppercase;\n    padding-top:3px; }\n  .ht-card-container .card-action{\n    height:30px;\n    background:#5496F8;\n    color:#fff;\n    border:1px solid #C9D6DE;\n    position:relative;\n    top:-3px;\n    margin:0 10px;\n    display:-webkit-box;\n    display:-ms-flexbox;\n    display:flex;\n    -webkit-box-align:center;\n        -ms-flex-align:center;\n            align-items:center;\n    -webkit-box-pack:center;\n        -ms-flex-pack:center;\n            justify-content:center;\n    padding:0 20px;\n    border-bottom-left-radius:5px;\n    border-bottom-right-radius:5px;\n    text-transform:uppercase; }\n    .ht-card-container .card-action:hover{\n      background:#3c87f7;\n      font-weight:500; }\n\n[hidden]{\n  display:none !important; }\n\n.card-clickable{\n  cursor:pointer; }\n  .card-clickable:hover{\n    background-color:#f2f2f2; }\n\n.adjust-huener-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center; }\n\n.adjust-huener-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out; }\n\n.adjust-huener-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s; }\n\n.adjust-huener-wave div:nth-child(3){\n  -webkit-animation-delay:-1.0s;\n  animation-delay:-1.0s; }\n\n.adjust-huener-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s; }\n\n.adjust-huener-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s; }\n\n@-webkit-keyframes wave{\n  0%, 40%, 100%{\n    -webkit-transform:scaleY(0.4); }\n  20%{\n    -webkit-transform:scaleY(1); } }\n\n@keyframes wave{\n  0%, 40%, 100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4); }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1); } }\n\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important; } }\n\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important; } }\n\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:white;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }\n  .ht-btn:focus{\n    background:#fcfcfc;\n    outline:0; }\n  .ht-btn-card:hover{\n    background:#5496F8;\n    color:rgba(255, 255, 255, 0.96);\n    -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n            box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }\n\n.stopped-color{\n  color:#FFBB44; }\n\n.drive-color{\n  color:#5496F8; }\n\n.walk-color{\n  color:#5496F8; }\n\n.moving-color{\n  color:#5496F8; }\n\n.logged_off-color{\n  color:#A9BAC4; }\n\n.network_offline-color{\n  color:#d19191; }\n\n.location_disabled-color{\n  color:#d19191; }\n\n.location_low_accuracy-color{\n  color:#d19191; }\n\n.stopped-bg{\n  background:#FFBB44; }\n\n.drive-bg{\n  background:#5496F8; }\n\n.walk-bg{\n  background:#5496F8; }\n\n.moving-bg{\n  background:#5496F8; }\n\n.logged_off-bg{\n  background:#A9BAC4; }\n\n.network_offline-bg{\n  background:#d19191; }\n\n.location_disabled-bg{\n  background-color:#d19191; }\n\n.location_low_accuracy-bg{\n  background-color:#d19191; }\n\n.card-content.is-small{\n  padding:10px 20px; }\n\n.card-content.is-popup{\n  padding:10px 10px; }\n\n.modal{\n  z-index:402; }\n\n.day{\n  width:40px;\n  text-align:center;\n  -webkit-user-select:none;\n     -moz-user-select:none;\n      -ms-user-select:none;\n          user-select:none;\n  cursor:pointer; }\n  .day:hover{\n    font-weight:700; }\n\n.is-hovered{\n  background:lightgray; }\n\n.is-start{\n  background:grey;\n  color:#fff;\n  border-bottom-left-radius:4px;\n  border-top-left-radius:4px; }\n\n.is-end{\n  background:grey;\n  color:#fff;\n  border-bottom-right-radius:4px;\n  border-top-right-radius:4px; }\n\n.is-invalid{\n  text-decoration:line-through;\n  cursor:not-allowed; }\n\n.month{\n  padding:4px 0;\n  background:#ececec;\n  border-radius:4px;\n  margin:12px 0; }\n\n.date-style{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n  font-size:1.1rem; }\n\n.row-right{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:reverse;\n      -ms-flex-direction:row-reverse;\n          flex-direction:row-reverse; }\n  .row-right .options{\n    padding-left:15px; }\n\n.row-left{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row; }\n  .row-left .options{\n    padding-right:15px; }\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DateRangePickerComponent implements OnInit, OnChanges {\n  @Input() dateRange: IDateRange;\n  @Input() date: string;\n  @Input() options: IDateRangePickerOptions = {};\n  @Output() onRangeChange: EventEmitter<IDateRange> = new EventEmitter<IDateRange>();\n  @Output() onDateChange: EventEmitter<string> = new EventEmitter<string>();\n  currentMonthStart$: BehaviorSubject<Date>;\n  dates$: Observable<IDay[][]>;\n  // selectedDates$: BehaviorSubject<Partial<IDateRange>> = new BehaviorSubject<Partial<IDateRange>>({end: new Date().toISOString()});\n  selectedDate$: BehaviorSubject<string | null> = new BehaviorSubject<string|null>(null)\n  hoveredDate: BehaviorSubject<string | null> = new BehaviorSubject<string|null>(null);\n  days = [\n    'Sun',\n    'Mon',\n    'Tue',\n    'Wed',\n    'Thu',\n    'Fri',\n    'Sat'\n  ];\n  month$: Observable<{display: string}>;\n  currentDateStyle$: Observable<IDateStyle>;\n  display: string;\n  customDates = DateRangeLabelMap;\n  customDates$: any[];\n  constructor() {\n    let monthStart = startOfMonth(new Date());\n    this.currentMonthStart$ = new BehaviorSubject<Date>(monthStart);\n\n\n  };\n\n  ngOnInit() {\n\n  }\n\n  ngOnChanges() {\n    if(this.options.datePicker) {\n      this.dateRange = {end: this.date, start: this.date};\n    }\n    this.initDateRange(this.dateRange);\n    this.display = dateRangeDisplay(this.dateRange)\n  }\n\n  initDateRange(range: IDateRange) {\n    this.customDates$ = this.customDates.filter(customRange => {\n      return !this.options.hideSingleDay ? true : !customRange.isSingleDay;\n    }).map((customRange) => {\n      return isSameDateRange(customRange.range, range) ? {...customRange, isActive: true} : {...customRange}\n    });\n\n    this.currentDateStyle$ = combineLatest(\n      this.selectedDate$.pipe(\n        distinctUntilChanged()\n      ),\n      this.hoveredDate.pipe(\n        distinctUntilChanged()\n      ),\n      (selectedDate: string | null, hoveredDate: string | null) => {\n        let dateRange = range;\n        let selectedRange;\n        let display;\n        if (selectedDate && hoveredDate) {\n          if(isBefore(hoveredDate, selectedDate)) {\n            selectedRange = {end: selectedDate};\n            display = [null, format(selectedDate, 'DD MMM')]\n          } else {\n            selectedRange = {start: selectedDate};\n            display = [format(selectedDate, 'DD MMM'), null]\n          }\n        } else if(selectedDate) {\n          selectedRange = {end: selectedDate};\n          display = [format(selectedDate, 'DD MMM'), null]\n        } else {\n          selectedRange = dateRange;\n          display = [format(dateRange.start, 'DD MMM'), format(dateRange.end, 'DD MMM')]\n        }\n\n        if (this.options.datePicker) {\n          display = [format(dateRange.start, 'DD MMM')]\n        }\n\n        return {\n          selectedRange,\n          hoveredDate,\n          display\n        }\n      }\n    );\n\n    this.dates$ = combineLatest(\n      this.currentMonthStart$,\n      this.currentDateStyle$,\n      (monthStart, dateStyle: IDateStyle) => {\n        // let selectedDates = selectedDate ? [selectedDate] : [selectedRange.start, selectedRange.end];\n        // let dateStyle: IDateStyle = {selectedDates, hoveredDate};\n        return this.generateDates(monthStart, dateStyle)\n      }\n    );\n\n    this.month$ = this.currentMonthStart$.pipe(\n      map(date => {\n        return {\n          display: format(date, 'MMM YY')\n        }\n      })\n    );\n\n  }\n\n  changeMonth(inc: number) {\n    let month = addMonths(new Date(this.currentMonthStart$.getValue()), inc);\n    this.currentMonthStart$.next(month)\n  }\n\n  generateDates(monthStart: Date, dateStyle: IDateStyle) {\n    let start = startOfWeek(monthStart);\n    let weekStarts = [0,1,2,3,4,5].map((v, i) => {\n      return addWeeks(start, i)\n    });\n    let days = weekStarts.map((weekStart) => {\n      return [0,1,2,3,4,5,6].map((i) => {\n        let date = addDays(weekStart, i);\n        return this.getDay(date, monthStart, dateStyle)\n      })\n    });\n    // console.log(days);\n    return days\n\n  }\n\n  getDay(date: Date, monthStart: Date, dateStyle: IDateStyle): IDay {\n    // console.log(dateStyle);\n    const selectedRange = this.getRangeFromStyle(dateStyle);\n    let isEnd = false;\n    let isStart = false;\n    let isHovered = this.isHovered(date, dateStyle);\n    if (selectedRange.end) {\n      isEnd = isSameDay(selectedRange.end, date)\n    }\n    if (selectedRange.start) {\n      isStart = isSameDay(selectedRange.start, date)\n    }\n    // if(dateStyle.hoveredDate) {\n    //   isHovered = this.isHovered(date, dateStyle.selectedDates[0], dateStyle.hoveredDate)\n    // }\n    // if(dateStyle.selectedDates.length == 2) {\n    //   isHovered = this.isHovered(date, dateStyle.selectedDates[0], dateStyle.selectedDates[1])\n    // }\n\n    return {\n      date: date,\n      timeStamp: date.toISOString(),\n      day: format(date, 'D'),\n      isInMonth: isSameMonth(date, monthStart),\n      today: isToday(date),\n      isEnd,\n      isStart,\n      isHovered,\n      isInvalid: isFuture(date)\n    }\n  };\n\n  isHovered(date: Date, dateStyle: IDateStyle): boolean {\n    let hovered = dateStyle.hoveredDate;\n    let start = dateStyle.selectedRange.start || hovered;\n    let end = dateStyle.selectedRange.end || hovered || start;\n    return isWithinRange(date, start, end);\n    // if (isBefore(hovered, selected)) {\n    //   return isWithinRange(date, hovered, selected)\n    // } else {\n    //   return isWithinRange(date, selected, hovered)\n    // }\n\n  }\n\n  setDateRange(range: IDateRange) {\n    range = {start: range.start, end: endOfDay(range.end).toISOString()};\n    this.onRangeChange.next(range);\n  }\n\n  setDate(date: IDay) {\n    this.onDateChange.next(date.timeStamp);\n  }\n\n  getRangeFromStyle({selectedRange, hoveredDate}: IDateStyle): Partial<IDateRange> {\n    return selectedRange\n    // if (hoveredDate) {\n    //   return isBefore(hoveredDate, selectedDates[0]) ?\n    //     {end: new Date(selectedDates[0]).toISOString()} : {start: new Date(selectedDates[0]).toISOString()}\n    // } else if(selectedDates.length == 2) {\n    //   return isBefore(selectedDates[1], selectedDates[0]) ?\n    //     {end: new Date(selectedDates[0]).toISOString(), start: new Date(selectedDates[1]).toISOString()} : {start: new Date(selectedDates[0]).toISOString(), end: new Date(selectedDates[1]).toISOString()}\n    // } else {\n    //   return {start: selectedDates[0], end: selectedDates[1]}\n    // }\n  }\n\n  pickDate(date: IDay) {\n    if (date.isInvalid) return false;\n    if(this.options.datePicker) {\n      this.setDate(date)\n    } else {\n      this.currentDateStyle$.pipe(take(1)).subscribe(dateStyle => {\n        if(dateStyle.hoveredDate || (!dateStyle.selectedRange.start || !dateStyle.selectedRange.end)) {\n          this.setDateFromDayRange(date, dateStyle)\n        } else {\n          this.selectedDate$.next(new Date(date.date).toISOString())\n        }\n      });\n    }\n\n  };\n\n  setDateFromDayRange(date: IDay, dateStyle: IDateStyle) {\n    let range = {end: dateStyle.selectedRange.end || date.timeStamp, start: dateStyle.selectedRange.start || date.timeStamp};\n    // console.log(range, \"range\");\n    this.selectedDate$.next(null);\n    this.hoveredDate.next(null);\n    this.setDateRange(range);\n  }\n\n  hoverDate(date: IDay | null) {\n    let timeStamp = date ? new Date(date.date).toISOString() : null;\n    if (timeStamp) {\n      let selected = this.selectedDate$.getValue();\n      if (selected) this.hoveredDate.next(timeStamp)\n    } else {\n      this.hoveredDate.next(timeStamp)\n    }\n\n  };\n\n  indexBy(a: any, v: IDay) {\n    return v.timeStamp;\n  }\n\n  indexByWeek(a: any, v: IDay[]) {\n    return v[0].timeStamp;\n  }\n\n  reset() {\n    this.selectedDate$.next(null);\n    this.hoveredDate.next(null);\n    let monthStart = startOfMonth(new Date());\n    this.currentMonthStart$.next(monthStart)\n  }\n\n\n}\n\nexport interface IDateStyle {\n  // selectedDates?: string[],\n  selectedRange?: Partial<IDateRange>\n  hoveredDate: string | null,\n  display?: Array<string | null>,\n}\n",
    "import {\n  ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, HostListener, Input,\n  OnInit\n} from '@angular/core';\n// import * as moment from 'moment-mini'\nimport {IDateRange, dateRangeService, DateRange} from \"ht-client\";\nimport {DateRangeMap, isSameDateRange, DateRangeLabelMap} from \"ht-data\";\nimport {of} from \"rxjs/observable/of\";\nimport {map} from \"rxjs/operators\";\nimport {animate, style, transition, trigger} from \"@angular/animations\";\n\n@Component({\n  selector: 'ht-date-range',\n  template: `<div class=\"dropdown is-active\" [class.is-right]=\"isRight\" *ngIf=\"dateRange$ | async as dateRange\">\n  <button type=\"button dropdown-trigger\" class=\"button flex-row row-gap-4\">\n    <span>{{dateRange}}</span>\n    <span class=\"icon\">\n      <i class=\"fa fa-calendar\"></i>\n    </span>\n    <!--<span *ngIf=\"ordering$ | async as ordering\"></span>-->\n    <!--<i class=\"fa fa-filter\"></i>-->\n  </button>\n  <div class=\"dropdown-menu dropdown-menu-right is-boxed\" *ngIf=\"isActive\" [@calender-appear]>\n    <div class=\"dropdown-content\" role=\"menu\" aria-labelledby=\"dropdown-keyboard-access\">\n      <div class=\"dropdown-item\">\n        <ht-date-range-picker [options]=\"{showSingleDay: showSingleDay, isRight: isRight}\" (onRangeChange)=\"setDateRange($event)\" [dateRange]=\"dateRangeService.data$ | async\"></ht-date-range-picker>\n      </div>\n    </div>\n  </div>\n\n</div>\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.dropdown-menu{\n  z-index:601;\n}\n.row-right{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:reverse;\n      -ms-flex-direction:row-reverse;\n          flex-direction:row-reverse;\n}\n.row-right .options{\n  padding-left:15px;\n}\n.row-left{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.row-left .options{\n  padding-right:15px;\n}\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    trigger('calender-appear', [\n      transition(\":leave\", [\n        style({pointerEvents: 'none'}),\n        animate('150ms ease-in', style({opacity: 0, top: \"-10px\"}))\n      ]),\n      transition(\":enter\", [\n        style({opacity: 0, height: 0, top: \"-10px\"}),\n        animate('150ms ease-out')\n      ]),\n      // transition(\":enter\", [\n      //   style({transform: \"translateX(-400px)\"}),\n      //   animate('200ms ease-in-out', style({transform: \"translateX(0px)\", opacity: 1}))\n      //   ]),\n      // transition(\":leave\", [\n      //   style({transform: \"translateX(0px)\", opacity: 0}),\n      //   animate('200ms ease-in-out', style({transform: \"translateX(-400px)\", opacity: 0}))\n      //   ]),\n      // transition(\"* <=> *\", [\n      //   // style({height: 0, opacity: 0}),\n      //   query(\"ht-analytics-item:enter\")\n      //   ])\n    ])\n  ]\n})\nexport class DateRangeComponent implements OnInit {\n  @Input() dateRangeService: DateRange = dateRangeService.getInstance();\n  @Input() isRight: boolean = false;\n  @Input() showSingleDay: boolean = true;\n  dateRange$;\n  // todo add all date range\n  dateRangeOptions$;\n  customDates$;\n  customDates = DateRangeLabelMap;\n  isActive: boolean = false;\n  @HostListener('mouseenter')\n  open() {\n    this.isActive = true;\n  }\n  @HostListener('mouseleave')\n  close() {\n    this.isActive = false;\n  }\n  constructor(\n    private elRef:ElementRef,\n    private cd: ChangeDetectorRef\n  ) { }\n\n  ngOnInit() {\n    this.dateRange$ = this.dateRangeService.display$;\n    // this.customDates$ = of(this.customDates);\n    this.dateRangeOptions$ = this.dateRangeService.data$.pipe(\n      map((dateRange: IDateRange) => {\n        return this.customDates.filter(customRange => {\n          return this.showSingleDay ? true : !customRange.isSingleDay;\n        }).map((customRange) => {\n          return isSameDateRange(customRange.range, dateRange) ? {...customRange, isActive: true} : {...customRange}\n        })\n      })\n    )\n\n    this.dateRangeOptions$.subscribe()\n  }\n\n  setDateRange(range: IDateRange) {\n    this.dateRangeService.setDateRange(range);\n    setTimeout(() => {\n      this.isActive = false;\n      this.cd.detectChanges()\n    }, 200)\n\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EntitySearchComponent } from './entity-search.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [EntitySearchComponent],\n  exports: [EntitySearchComponent]\n})\nexport class EntitySearchModule { }\n",
    "import {Component, EventEmitter, HostListener, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {Observable} from \"rxjs/Observable\";\nimport {IPageData} from \"ht-models\";\nimport {Subject} from \"rxjs/Subject\";\n\n@Component({\n  selector: 'ht-entity-search',\n  template: `<!--<div class=\"control has-icons-right flex-row\">-->\n  <!--<input #query (input)=\"test(query.value)\" (keydown.enter)=\"setSearch(query)\" type=\"text\" class=\"input\" placeholder=\"Search {{entity}}\">-->\n  <!--<span class=\"icon is-right\" (click)=\"setSearch(query)\">-->\n        <!--<i class=\"fa fa-search\"></i>-->\n      <!--</span>-->\n<!--</div>&lt;!&ndash; /input-group &ndash;&gt;-->\n<div class=\"field has-addons\">\n  <div class=\"control\">\n    <input #query (input)=\"test(query.value)\" (keydown.enter)=\"setSearch(query)\" type=\"text\" class=\"input\" placeholder=\"Search {{entity}}\">\n  </div>\n  <div class=\"control\">\n    <a class=\"button\">\n      <i class=\"fa fa-search\"></i>\n    </a>\n  </div>\n</div>\n\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n:host{\n  position:relative;\n}\n#results{\n  position:absolute;\n  left:0;\n  top:37px;\n  background:#fff;\n  width:100%;\n  border:1px solid #C9D6DE;\n  z-index:11;\n}\n.input-search{\n  border:0;\n  border-bottom:1px solid #ffffff;\n}\n.input-search:focus{\n  outline:0;\n  border-bottom:1px solid #52616A;\n}\n.item{\n  padding:4px 10px;\n  color:#52616A;\n}\n.item:hover{\n  background:#f7f7f7;\n}\n.clickable{\n  color:#5496F8;\n}\n.input-sm{\n  border:0;\n  outline:0;\n  -webkit-box-shadow:0 0;\n          box-shadow:0 0;\n  border-bottom:1px solid #d5dfe5;\n  font-size:15px;\n}\n`]\n})\nexport class EntitySearchComponent implements OnInit {\n  query$: Subject<string> = new Subject();\n  loading;\n  @ViewChild('query') input;\n  @Input() entity: string = \"\";\n  @Output() onSearchQuery: EventEmitter<object> = new EventEmitter();\n\n  @HostListener('click')\n  clickSearch(e) {\n    this.input.nativeElement.focus()\n  }\n\n  constructor() { }\n\n  ngOnInit() {\n    // this.watchChange()\n  }\n\n  test(string) {\n    this.query$.next(string)\n  }\n\n  setSearch(el) {\n    const search = el.value;\n    el.value = '';\n    if (search) this.onSearchQuery.next({search})\n  }\n\n}\n",
    "import {ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnInit, Optional} from '@angular/core';\nimport {animate, state, style, transition, trigger} from \"@angular/animations\";\nimport {HtUsersService} from \"../../ht/ht-users.service\";\nimport {distinctUntilChanged, map, skip} from \"rxjs/operators\";\nimport {of} from \"rxjs/observable/of\";\nimport {Observable} from \"rxjs/Observable\";\n\n@Component({\n  selector: 'ht-users-filter',\n  template: `<div class=\"filter-container flex-column\" [@filter]=\"showFilter$ | async\">\n  <ht-entity-search (onSearchQuery)=\"onQuery($event)\" *ngIf=\"options.showSearch\"></ht-entity-search>\n  <div class=\"dropdown\" htDropdown *ngIf=\"options.showSorting\">\n    <button type=\"button\" class=\"button dropdown-trigger flex-row row-gap-4\">\n      <span>Sorting</span>\n      <ng-container *ngIf=\"ordering$ | async as ordering\">\n        <span>: {{ordering.string}}</span>\n        <i [ngClass]=\"ordering.sign ? 'fa-arrow-up' : 'fa-arrow-down'\" class=\"fa\"></i>\n      </ng-container>\n      <!--<span *ngIf=\"ordering$ | async as ordering\"></span>-->\n      <!--<i class=\"fa fa-filter\"></i>-->\n    </button>\n    <div class=\"dropdown-menu\" role=\"menu\" aria-labelledby=\"dropdown-keyboard-access\">\n      <div class=\"dropdown-content\">\n        <a class=\"dropdown-item\" (click)=\"setOrdering(sort.value)\" *ngFor=\"let sort of sortingLabels\">{{sort.label}}</a>\n      </div>\n    </div>\n  </div>\n  <div class=\"dropdown is-hoverable\" *ngIf=\"options.showFilter\">\n    <button id=\"dropdown-keyboard-access\" type=\"button\" class=\"button flex-row row-gap-4\">\n      <span>Filters</span> <i class=\"fa fa-filter\"></i>\n    </button>\n    <div class=\"dropdown-menu\" role=\"menu\" aria-labelledby=\"dropdown-keyboard-access\">\n      <div class=\"dropdown-content\">\n        <a class=\"dropdown-item\" (click)=\"setStatus(filter.values.toString(), $event)\" *ngFor=\"let filter of statusFiltes\">{{filter.label}}</a>\n      </div>\n\n    </div>\n  </div>\n  <div class=\"flex flex-row row-gap-4\" *ngIf=\"query$ && options.showQueries\">\n    <div class=\"\" *ngFor=\"let query of query$ | async as queries\">\n      <div class=\"tags has-addons\">\n        <div class=\"tag is-medium is-primary\">{{query.label}}</div>\n        <a (click)=\"clearQuery(query.value)\" class=\"tag is-medium is-primary is-delete\"></a>\n      </div>\n    </div>\n  </div>\n  <ht-date-range *ngIf=\"options.showDatePicker\" [isRight]=\"true\"></ht-date-range>\n  <div class=\"loading-bar\" *ngIf=\"loading$ | async\">\n    <ht-loading-bar></ht-loading-bar>\n  </div>\n</div>\n\n\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.filter-container{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  position:relative;\n  padding:4px 10px;\n  border-bottom:2px solid #ccc;\n}\n.filter-container > :not(:last-child){\n  margin-right:7px;\n}\n.dropdown-menu{\n  z-index:1001;\n}\n.loading-bar{\n  position:absolute;\n  width:100%;\n  bottom:0;\n  left:0;\n}\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    trigger('filter', [\n      state('hide', style({\n        display: 'none'\n      })),\n      transition('hide => show', [\n        style({transform: 'translateX(-100px)', height: 0}),\n        animate('0.3s' + ' ease-out')\n      ]),\n      transition('show => hide', [\n        animate('0.3s' + ' ease-in', style({transform: 'translateX(-100px)', height: 0}))\n      ])])\n  ]\n})\nexport class UsersFilterComponent implements OnInit {\n  query$: Observable<object | null> = of(null);\n  loading$: Observable<boolean> = of(false);\n  statusFiltes;\n  sortingLabels;\n  ordering$;\n  showFilter$;\n  _options = {\n    showSearch: true,\n    showFilter: true,\n    showSorting: true,\n    showDatePicker: true,\n    showQueries: true\n  };\n  @Input() usersClient;\n  @Input() set options(options) {\n    this._options = {...options, ...this._options}\n  }\n  constructor(\n    @Optional() private usersClientService: HtUsersService,\n    private cd: ChangeDetectorRef\n  ) {\n    this.usersClient = this.usersClient || this.usersClientService\n  }\n\n  get options() {\n    return this._options\n  }\n\n  ngOnInit() {\n\n    setTimeout(() => {\n      this.query$ = this.usersClient.queryLabel$;\n      this.loading$ = this.usersClient.list.loading$\n        .pipe(\n          skip(1),\n          map(data => !!data),\n          distinctUntilChanged(),\n        );\n      this.cd.detectChanges();\n    });\n\n\n    this.statusFiltes = this.usersClient.filterClass.statusQueryArray;\n    this.sortingLabels = this.usersClient.filterClass.sortingQueryLabel;\n    this.ordering$ = this.usersClient.ordering$;\n    this.showFilter$ = this.usersClient.list.id$.pipe(\n      map((id) => !id ? 'show' : 'hide')\n    );\n  }\n\n  onQuery(query) {\n    this.usersClient.list.setQueryReset(query)\n  }\n\n  clearQuery(key) {\n    this.usersClient.list.clearQueryKey(key)\n  }\n\n  setStatus(key, event) {\n    this.onQuery({status: key})\n  }\n\n  setOrdering(key) {\n    this.onQuery({ordering: key})\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MapContainerComponent } from './map-container.component';\nimport {MapModule} from \"../map/map.module\";\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MapModule,\n    SharedModule\n  ],\n  declarations: [MapContainerComponent],\n  exports: [MapContainerComponent]\n})\nexport class MapContainerModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MapComponent } from './map.component';\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule\n  ],\n  declarations: [MapComponent],\n  exports: [MapComponent]\n})\nexport class MapModule { }\n",
    "import {\n  AfterViewInit, Component, ElementRef, HostListener, Input, OnInit, Output, EventEmitter,\n  ViewChild, Optional, ContentChild, ViewContainerRef\n} from '@angular/core';\nimport {IUserData} from \"ht-models\";\nimport {HtMapService} from \"../ht/ht-map.service\";\nimport {HtUsersService} from \"../ht/ht-users.service\";\nimport {MapInstance} from \"ht-maps\";\nimport {HtMap} from \"ht-map-wrapper\";\n\n@Component({\n  selector: 'ht-map',\n  template: `<div #map style=\"width: 100%; height: 100%;\"></div>\n<div class=\"map-label map-label-bottom\">\n  <ht-loading-dots *ngIf=\"loading\" class=\"text-1\"></ht-loading-dots>\n</div>\n<div class=\"map-label map-label-top\">\n  <div (click)=\"resetMap()\" [hidden]=\"!showReset\">\n    <div #resetCta></div>\n    <button *ngIf=\"!reset && showReset\" class=\"button is-primary\">Fit in view</button>\n  </div>\n\n</div>\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n:host{\n  height:100%;\n  width:100%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  position:relative;\n}\n.map-label{\n  position:absolute;\n  z-index:400;\n  text-align:center;\n}\n.map-label-bottom{\n  bottom:20px;\n  right:0;\n  left:0;\n  width:100%;\n}\n.map-label-top{\n  top:10px;\n  right:20px;\n}\n`]\n})\nexport class MapComponent implements OnInit, AfterViewInit {\n  @Input() options: any;\n  @Input() setBoundsOptions: any;\n  @Input() mapInstance: MapInstance;\n  @Input() loading: boolean = false;\n  @Input() showReset: boolean = true;\n  @Output() onReady: EventEmitter<HtMap | null> = new EventEmitter<HtMap>();\n  @Output() onMapReset: EventEmitter<boolean> = new EventEmitter<boolean>();\n  @ViewChild('map') mapElem;\n  @ViewChild('resetCta', { read: ViewContainerRef }) resetCta;\n  @ContentChild('reset') reset;\n  constructor(\n    private elRef: ElementRef,\n    @Optional() htMapService: HtMapService\n  ) {\n    if(htMapService) this.mapInstance = htMapService.mapInstance\n  }\n\n  @HostListener('resize', ['$event'])\n  onMapResize() {\n    this.mapInstance.inValidateSize()\n    // todo this.mapService.map.resize();\n  }\n\n  ngOnInit() {\n    this.mapInstance = this.mapInstance;\n    // const user$ = this.userService.placeline.getListener({id: \"1f33d4cb-49e9-49b9-ad52-19f732ee55d8\"});\n    // // const user$ = this.userService.placeline.e(\"1f33d4cb-49e9-49b9-ad52-19f732ee55d8\");\n    // user$.subscribe((userData) => {\n    //   // console.log(\"ise\", userData);\n    // });\n    //\n    // setTimeout(() => {\n    //   this.userService.placeline.setId(\"75db8dcb-6fc3-44d7-8533-e40c7ebb0a1f\")\n    // }, 12000)\n\n    // this.userService.placeline.initListener();\n    // this.userService.placeline.data$.subscribe((userData: IUserData) => {\n    //   // console.log(userData, \"user Data map\");\n    //   if (userData) {\n    //     this.mapService.tracePlaceline(userData);\n    //     this.mapService.resetBounds()\n    //   } else {\n    //     this.mapService.segmentTrace.trace(null, this.mapService.map)\n    //   }\n    //\n    // });\n  }\n\n  resetMap() {\n    this.mapInstance.resetBounds(this.setBoundsOptions);\n    this.onMapReset.next(true)\n  }\n\n  ngAfterViewInit() {\n    const el = this.mapElem.nativeElement;\n    this.mapInstance.renderMap(el, this.options);\n    this.onReady.next(this.mapInstance.map);\n    if (this.reset) this.resetCta.createEmbeddedView(this.reset)\n    // window['ht-map'] = this.mapService.map;\n    // this.mapService.resetBounds()\n  }\n\n}\n",
    "import {AfterContentInit, Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {IUserData} from \"ht-models\";\nimport {Observable} from \"rxjs/Observable\";\nimport {HtUsersService} from \"../ht/ht-users.service\";\nimport {HtMapService} from \"../ht/ht-map.service\";\nimport {range} from \"rxjs/observable/range\";\n// import {combineLatest} from \"rxjs/operators/combineLatest\";\nimport {startWith, map, distinctUntilChanged} from \"rxjs/operators\";\nimport { combineLatest } from 'rxjs/observable/combineLatest';\nimport { merge } from 'rxjs/observable/merge';\n// import {User} from \"./popermixin\";\n\n@Component({\n  selector: 'ht-map-container',\n  template: `<ht-map [loading]=\"loading$ | async\"></ht-map>\n<!--<div class=\"map-label map-label-bottom\">-->\n  <!--<ht-loading-dots *ngIf=\"loading$ | async\" class=\"text-1\"></ht-loading-dots>-->\n<!--</div>-->\n<!--<div class=\"map-label map-label-top\">-->\n  <!--<button class=\"button is-primary\" (click)=\"resetMap()\">Fit in view</button>-->\n<!--</div>-->\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n:host{\n  height:100%;\n  width:100%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  position:relative;\n}\n.map-label{\n  position:absolute;\n  z-index:400;\n  text-align:center;\n}\n.map-label-bottom{\n  bottom:20px;\n  right:0;\n  left:0;\n  width:100%;\n}\n.map-label-top{\n  top:10px;\n  right:20px;\n}\n`]\n})\nexport class MapContainerComponent implements OnInit, AfterContentInit, OnDestroy {\n  @Input() showLoading: boolean = true;\n  subs = [];\n  loading$;\n  constructor(\n    private userClientService: HtUsersService,\n    private mapService: HtMapService\n  ) { }\n\n  ngOnInit() {\n    this.mapService.usersCluster.setPageData$(this.userClientService.listAll.data$, {\n      hide$: this.userClientService.placeline.id$\n    });\n\n    // this.mapService.placeline.userMarker = new User(this.mapService.mapInstance);\n    // this.mapService.placeline.userMarker.setTimeAwareAnimation(this.mapService.placeline.anim);\n    this.mapService.placeline.setCompoundData$(this.userClientService.placeline.data$, {\n      roots: ['segments', 'actions'],\n      highlighted$: this.userClientService.placeline.segmentSelectedId$,\n      filter$: this.userClientService.placeline.segmentResetId$,\n      resetMap$: this.userClientService.placeline.segmentResetId$\n    });\n\n    const loading$1 = this.userClientService.placeline.loading$\n      .pipe(\n        map((data) => !!data && this.showLoading),\n        distinctUntilChanged()\n      );\n\n    const loading$2 = this.userClientService.listAll.loading$\n      .pipe(\n        map((data) => !!data),\n        distinctUntilChanged()\n      );\n\n    this.loading$ = merge(loading$1, loading$2);\n\n  }\n\n  ngAfterContentInit() {\n\n  }\n\n  ngOnDestroy() {\n    this.userClientService.listAll.clearData();\n    this.mapService.usersCluster.trace([])\n  }\n\n}\n",
    "import {Component, Input, OnInit} from '@angular/core';\nimport {IUserData} from \"ht-models\";\nimport {ApiType, htClientService} from \"ht-client\"\nimport {HtUsersService} from \"../ht/ht-users.service\";\n\n@Component({\n  selector: 'ht-users-map-container',\n  template: `<div class=\"ht-container\">\n  <ht-users-filter *ngIf=\"showFilter\"></ht-users-filter>\n  <div class=\"flex-row flex\">\n    <div class=\"bar\" *ngIf=\"showSidebar\" [style.width.px]=\"sidebarWidth || 400\">\n      <ht-users-container\n        [apiType]=\"apiType\"\n        [hasPlaceline]=\"hasPlaceline\"\n        [showAll]=\"showAll\"\n        [hasMap]=\"true\"></ht-users-container>\n    </div>\n    <div class=\"flex\">\n      <ht-map-container [showLoading]=\"false\"></ht-map-container>\n    </div>\n  </div>\n</div>\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.ht-container{\n  width:100%;\n  height:100%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n  min-height:100%;\n}\n.ht-container .bar{\n  width:100px;\n  max-width:400px;\n  min-height:100%;\n  height:100%;\n  overflow:auto;\n  background:#fbfbfb;\n}\n`]\n})\nexport class UsersMapContainerComponent implements OnInit {\n  @Input() hasPlaceline: boolean = true;\n  @Input() sidebarWidth: number;\n  @Input() apiType: ApiType = ApiType.analytics;\n  @Input() showFilter: boolean = true;\n  @Input() showSidebar: boolean = true;\n  @Input() showAll: boolean = false;\n  constructor(\n    private userClientService: HtUsersService\n  ) {\n\n  }\n\n  // showSidebar() {\n  //   return this.viewType !== ViewType.map\n  // }\n  //\n  // showMap() {\n  //   return this.viewType !== ViewType.sidebar\n  // }\n\n  ngOnInit() {\n    this.userClientService.listAll.setActive();\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UsersContainerComponent } from './users-container.component';\nimport {UsersModule} from \"../users/users.module\";\nimport {PlacelineModule} from \"../placeline/placeline.module\";\nimport {SharedModule} from \"../shared/shared.module\";\nimport {UserCardModule} from \"../user-card/user-card.module\";\nimport {PlacelineContainerModule} from \"../placeline-container/placeline-container.module\";\nimport {UsersSummaryModule} from \"../users-summary/users-summary.module\";\nimport {UsersSummaryContainerModule} from \"../users-summary-container/users-summary-container.module\";\nimport {PaginationModule} from \"../pagination/pagination.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UsersModule,\n    // UserCardModule,\n    PlacelineModule,\n    PlacelineContainerModule,\n    SharedModule,\n    UsersSummaryContainerModule,\n    PaginationModule\n  ],\n  declarations: [UsersContainerComponent],\n  exports: [UsersContainerComponent]\n})\nexport class UsersContainerModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PaginationComponent } from './pagination.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [PaginationComponent],\n  exports: [PaginationComponent]\n})\nexport class PaginationModule { }\n",
    "import {ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {Page} from \"ht-models\";\nimport {GetUrlParam} from \"ht-utility\";\n\n@Component({\n  selector: 'ht-pagination',\n  template: `<!--<p>-->\n  <!--pagination works!-->\n<!--</p>-->\n<!--<p>Count: {{pageDate.count}}</p>-->\n<!--<p>Page: {{currentPage}}</p>-->\n<!--<p>Pages: {{pagesCount}}</p>-->\n<!--<div class=\"pagination-container columns\" *ngIf=\"pagesCount > 1\">-->\n  <!--<div [class.disabled]=\"!pageDate.previous\" (click)=\"onFetchPage(currentPage - 1)\" class=\"pagination-element\">-->\n    <!--<i class=\"fa fa-angle-left\" aria-hidden=\"true\"></i>-->\n  <!--</div>-->\n  <!--<ng-container *ngIf=\"currentPage - 1 > 1\">-->\n    <!--<div (click)=\"onFetchPage(1)\" class=\"\">-->\n      <!--<span class=\"pagination-number\">1</span>-->\n    <!--</div>-->\n    <!--<span>&hellip;</span>-->\n    <!--&lt;!&ndash;<div>.</div>&ndash;&gt;-->\n    <!--&lt;!&ndash;<div>.</div>&ndash;&gt;-->\n    <!--&lt;!&ndash;<div>.</div>&ndash;&gt;-->\n  <!--</ng-container>-->\n\n  <!--<div (click)=\"onFetchPage(page)\" class=\"\" *ngFor=\"let page of visiblePages\" [ngClass]=\"currentPage === page ? 'is-current' : ''\">-->\n    <!--<span class=\"pagination-number\">{{page}}</span>-->\n  <!--</div>-->\n  <!--<ng-container *ngIf=\"pagesCount - currentPage > 2\">-->\n    <!--<span>&hellip;</span>-->\n    <!--&lt;!&ndash;<div>.</div>&ndash;&gt;-->\n    <!--&lt;!&ndash;<div>.</div>&ndash;&gt;-->\n    <!--&lt;!&ndash;<div>.</div>&ndash;&gt;-->\n    <!--<div (click)=\"onFetchPage(pagesCount)\" class=\"\">-->\n      <!--<span class=\"pagination-number\">{{pagesCount}}</span>-->\n    <!--</div>-->\n  <!--</ng-container>-->\n  <!--&lt;!&ndash;<div [class.disabled]=\"currentPage == pagesCount\" (click)=\"onFetchPage(pagesCount)\" class=\"pagination-element\">&ndash;&gt;-->\n  <!--&lt;!&ndash;<i class=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i>&ndash;&gt;-->\n  <!--&lt;!&ndash;</div>&ndash;&gt;-->\n  <!--<div [attr.disabled]=\"!pageDate.next\" (click)=\"onFetchPage(currentPage + 1)\" class=\"\">-->\n    <!--<i class=\"fa fa-angle-right\" aria-hidden=\"true\"></i>-->\n  <!--</div>-->\n<!--</div>-->\n\n<nav class=\"pagination is-small is-centered\" role=\"navigation\" aria-label=\"pagination\" *ngIf=\"pagesCount > 1\">\n  <ul class=\"pagination-list\">\n    <li>\n      <a class=\"pagination-link\" [attr.disabled]=\"!pageDate.previous ? true : null\"  (click)=\"onFetchPage(currentPage - 1)\" aria-label=\"Goto page 1\">\n        <i class=\"fa fa-angle-left\" aria-hidden=\"true\"></i>\n      </a>\n    </li>\n    <ng-container *ngIf=\"currentPage - 1 > 1\">\n      <li (click)=\"onFetchPage(1)\" class=\"\">\n        <a class=\"pagination-link\">1</a>\n      </li>\n      <li>\n        <span class=\"pagination-ellipsis\">&hellip;</span>\n      </li>\n    </ng-container>\n    <li (click)=\"onFetchPage(page)\" class=\"\" *ngFor=\"let page of visiblePages\">\n      <a class=\"pagination-link\" [ngClass]=\"currentPage === page ? 'is-current' : ''\">{{page}}</a>\n    </li>\n    <ng-container *ngIf=\"pagesCount - currentPage > 2\">\n      <li>\n        <span class=\"pagination-ellipsis\">&hellip;</span>\n      </li>\n      <li (click)=\"onFetchPage(pagesCount)\" class=\"\">\n        <a class=\"pagination-link\">{{pagesCount}}</a>\n      </li>\n    </ng-container>\n\n    <li [attr.disabled]=\"!pageDate.next ? true : null\" (click)=\"onFetchPage(currentPage + 1)\" class=\"\">\n      <a class=\"pagination-link\">\n        <i class=\"fa fa-angle-right\" aria-hidden=\"true\"></i>\n      </a>\n    </li>\n\n\n    <!--<li>-->\n      <!--<span class=\"pagination-ellipsis\">&hellip;</span>-->\n    <!--</li>-->\n    <!--<li>-->\n      <!--<a class=\"pagination-link\" aria-label=\"Goto page 45\">45</a>-->\n    <!--</li>-->\n    <!--<li>-->\n      <!--<a class=\"pagination-link is-current\" aria-label=\"Page 46\" aria-current=\"page\">46</a>-->\n    <!--</li>-->\n    <!--<li>-->\n      <!--<a class=\"pagination-link\" aria-label=\"Goto page 47\">47</a>-->\n    <!--</li>-->\n    <!--<li>-->\n      <!--<span class=\"pagination-ellipsis\">&hellip;</span>-->\n    <!--</li>-->\n    <!--<li>-->\n      <!--<a class=\"pagination-link\" aria-label=\"Goto page 86\">86</a>-->\n    <!--</li>-->\n  </ul>\n</nav>\n\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.pagination{\n  padding:20px 0;\n  width:100%;\n}\n.pagination-container{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  padding:30px 10px;\n}\n.pagination-container > :not(:last-child){\n  margin-right:7px;\n}\n.pagination-element{\n  border:1px solid #D9D9D9;\n  width:28px;\n  height:28px;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  background:white;\n  border-radius:3px;\n  cursor:pointer;\n  color:#666666;\n}\n.pagination-element.disabled{\n  cursor:not-allowed;\n  pointer-events:none;\n}\n.pagination-element.disabled i{\n  color:#CCCCCC;\n}\n.pagination-element i{\n  color:#666666;\n}\n.pagination-element .pagination-number{\n  font-size:12px;\n  color:#666666;\n  line-height:18px;\n}\n.pagination-element.selected{\n  background:#108EE9;\n}\n.pagination-element.selected .pagination-number{\n  color:#ffffff;\n}\n.disabled{\n  cursor:not-allowed;\n  pointer-events:none;\n  color:#CCCCCC;\n}\n.fa{\n  font-size:1.3em;\n}\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PaginationComponent implements OnInit {\n  @Input() pageDate: Page<any>;\n  @Input() pageSize: number = 10;\n  @Output() fetchPage: EventEmitter<number> = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n  get currentPage() {\n    const preUrl = this.pageDate.previous;\n    let page = 1;\n    if (preUrl) {\n      const prevPage = GetUrlParam('page', this.pageDate.previous) || 1;\n      // console.log(prevPage);\n      page = +prevPage + 1;\n    }\n    return page\n  }\n\n  get pagesCount(): number {\n    const count = this.pageDate.count;\n    // let rem = count % this.pageSize;\n    return Math.ceil(count / this.pageSize)\n  }\n\n  get visiblePages() {\n    return Array(this.pagesCount).fill(1).map((n, i) => n + i).filter((i) => {\n      if (this.currentPage === 1) {\n        return (this.currentPage - i >= -2 );\n      } else if (this.currentPage + 1 === i) {\n        return true;\n      } else if (this.currentPage + 2 === i) {\n        return true;\n      } else if (this.currentPage === i) {\n        return true;\n      } else if (this.currentPage === this.pagesCount) {\n        return (this.currentPage - i <= 2);\n      }\n      return false;\n    });\n  }\n\n  onFetchPage(pageNumber: number) {\n    // console.log(pageNumber);\n    if (pageNumber < 1 || pageNumber > this.pagesCount) return;\n    this.fetchPage.next(pageNumber);\n    // this.fetchPage.emit(pageNumber);\n    // this.currentPage = pageNumber;\n    // this.hasNextPage = (this.currentPage < this.numberOfPages);\n    // this.hasPreviousPage = (this.currentPage > 1);\n    // this.pages = this.getVisiblePages();\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PlacelineContainerComponent } from './placeline-container.component';\nimport {PlacelineModule} from \"../placeline/placeline.module\";\nimport {UserCardModule} from \"../user-card/user-card.module\";\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    PlacelineModule,\n    UserCardModule,\n    SharedModule\n  ],\n  declarations: [PlacelineContainerComponent],\n  exports: [PlacelineContainerComponent]\n})\nexport class PlacelineContainerModule { }\n",
    "import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {IUserData} from \"ht-models\";\nimport {animate, style, transition, trigger} from \"@angular/animations\";\nimport {HtUsersService} from \"../ht/ht-users.service\";\n\n@Component({\n  selector: 'ht-placeline-container',\n  template: `<div class=\"flex-column column-gap-10\" *ngIf=\"userData$ | async as userData; else loading\">\n  <ht-user-card *ngIf=\"showUserCard\" [user]=\"userData\"></ht-user-card>\n  <ht-placeline [selectedSegmentId]=\"selectedSegmentId$ | async\" (selectedSegment)=\"onSelectSegmentId($event)\" (highlightedSegmentId)=\"onHighlightSegment($event)\" [userData]=\"userData\"></ht-placeline>\n</div>\n<ng-template #loading>\n  <ht-loading-dots class=\"text-1 text-center flex-row\"></ht-loading-dots>\n</ng-template>\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n:host{\n  max-width:500px;\n}\nht-loading-dots{\n  width:100%;\n  margin-top:20%;\n}\n`],\n  // animations: [\n  //   trigger('slide', [\n  //     transition(':enter', [\n  //       style({transform: 'translateY(100px)'}),\n  //       animate('0.3s' + ' ease-out')\n  //     ]),\n  //     transition(':leave', [\n  //       animate('0.3s' + ' ease-in', style({transform: 'translateY(100px)'}))\n  //     ])\n  //   ])\n  // ]\n})\nexport class PlacelineContainerComponent implements OnInit, OnDestroy {\n  @Input() userId: string | null;\n  @Input() showUserCard: boolean = true;\n  userData$;\n  selectedSegmentId$;\n  constructor(\n    private userClientService: HtUsersService,\n  ) { }\n\n  ngOnInit() {\n    this.selectedSegmentId$ = this.userClientService.placeline.segmentResetId$;\n\n    this.userData$ = this.userClientService.placeline.data$;\n\n    if (this.userId) {\n      this.userClientService.placeline.setId(this.userId)\n    }\n  }\n\n  onHighlightSegment(segmentId: string) {\n    this.userClientService.placeline.setSegmentSelectedId(segmentId);\n  }\n\n  onSelectSegmentId(segmentId: string | null) {\n    this.userClientService.placeline.setSegmentResetMapId(segmentId);\n  }\n\n  ngOnDestroy() {\n    this.userClientService.placeline.setId(null);\n    this.userClientService.placeline.clearData();\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PlacelineComponent } from './placeline.component';\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule\n  ],\n  declarations: [PlacelineComponent],\n  exports: [PlacelineComponent]\n})\nexport class PlacelineModule { }\n",
    "import {\n  ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, OnInit,\n  Output\n} from '@angular/core';\nimport {IAction, ISegment, IUserData} from \"ht-models\";\nimport {NameCase} from \"ht-utility\";\nimport * as _ from \"underscore\";\nimport {HtPlaceline} from \"ht-data\";\n// import {IPlacelineMod} from \"ht-models\";\n\n@Component({\n  selector: 'ht-placeline',\n  template: `<div class=\"flex-column\">\n  <div\n    class=\"flex-row segment\"\n    (click)=\"selectInUserData(segment)\"\n    [class.active-segment]=\"(selectedActivity == segment.id && segment.activityBorder && !selectedSegmentId) || selectedSegmentId === segment.id\"\n    (mouseenter)=\"highlightActivity(segment.id)\"\n    (mouseleave)=\"highlightActivity(null)\"\n    *ngFor=\"let segment of placelineMod; trackBy:indexPlaceline; let last = last\">\n    <div class=\"time-container action-time\">\n      <div class=\"target-status text-muted\">\n      </div>\n      <div class=\"timestamp\">\n        {{segment.time | timeString | dot: 'Unknown ETA'}}\n      </div>\n      <div class=\"text-muted\">\n        {{segment.time | dateString: 'short'}}\n      </div>\n      <!--<div class=\"time-container-mid text-muted\" *ngIf=\"!segment.actionD\">-->\n        <!--<span>{{segment.duration / 60 | hmString}}</span>-->\n      <!--</div>-->\n    </div>\n    <div class=\"pipe\">\n      <div class=\"bar\" *ngIf=\"!last\" [class.big]=\"(selectedActivity == segment.id && segment.activityBorder && !selectedSegmentId) || selectedSegmentId === segment.id\" [class.solid]=\"segment.activityBorder\" [ngClass]=\"segment.activityBorder\"></div>\n    </div>\n    <div class=\"flex-column flex timeline-detail\">\n      <div class=\"activity-dot segment-dot\" [class.activity-dot-ended]=\"segment.actionEnded\" *ngIf=\"segment.actionD\"><div class=\"auto\">{{segment.actionD}} </div></div>\n      <div *ngIf=\"segment.isLive\" [ngClass]=\"segment.activityBg\" class=\"segment-dot\"><div *ngIf=\"segment.isLive\" [ngClass]=\"segment.activityBg\" class=\"is-live\" [class.is-pulse]=\"segment.type == 'stop' || segment.type === 'trip'\"></div></div>\n      <div *ngIf=\"!segment.isLive && !segment.actionD\" class=\"a-dot\" [ngClass]=\"segment.activityBorder\"></div>\n      <div class=\"flex-column column-gap-10\">\n        <div (mouseenter)=\"selectAction(segment.action_id)\" (mouseleave)=\"selectAction(null)\" class=\"action-card\" *ngIf=\"segment.actionText\">\n          <div class=\"flex-column column-gap-4\">\n            <div class=\"title\">\n              {{segment.actionText}}\n            </div>\n            <div class=\"lookup\" *ngIf=\"segment.actionLookupId\">{{segment.actionLookupId}}</div>\n            <div *ngIf=\"segment.expected_at && segment.actionEnd\">Scheduled at {{segment.expected_at | timeString}}</div>\n            <div *ngIf=\"segment.action_duration\" class=\"flex-row row-gap-4\">\n              <span>{{segment.action_duration / 60 | hmString}}</span>\n              <ng-template [ngIf]=\"(segment.action_distance || segment.action_distance == 0)\">\n                <span>&bull;</span>\n                <span>{{segment.action_distance | distanceLocale: timezone}}</span>\n              </ng-template>\n            </div>\n          </div>\n        </div>\n        <!--<pre>-->\n        <!--{{segment | json}}-->\n        <!--</pre>-->\n        <div class=\"activity-card flex-column\" *ngIf=\"segment.activityText\">\n          <div [ngClass]=\"segment.activityColor\" class=\"truncate\" style=\"max-width: 128px;\">\n            {{segment.activityText | nameCase}}\n          </div>\n          <div class=\"flex-row row-gap-4 activity-stats align-center\" *ngIf=\"segment.duration\">\n            <span>{{segment.duration / 60 | hmString}}</span>\n            <ng-template [ngIf]=\"(segment.distance || segment.distance == 0) && segment.type == 'trip'\">\n              <span>&bull;</span>\n              <span>{{segment.distance | distanceLocale: timezone}}</span>\n            </ng-template>\n            <ng-container *ngIf=\"segment.step_count && (segment.type == 'stop' || segment.activityText == 'walk')\">\n              <span>&bull;</span>\n              <span>{{segment.step_count}} {{'step' | pluralize: segment.step_count}}</span>\n            </ng-container>\n          </div>\n          <!--<div>-->\n            <!--{{segment.placeAddress}}-->\n          <!--</div>-->\n          <table class=\"table table-bordered table-condensed\" *ngIf=\"segment.events && segment.events.length\">\n            <tbody>\n            <tr *ngFor=\"let event of segment.events; trackBy:indexId\">\n              <td>{{event.recorded_at | timeString}}</td>\n              <td>{{event.text}}</td>\n            </tr>\n            </tbody>\n          </table>\n          <div class=\"text-muted\" *ngIf=\"selectedSegmentId == segment.id && segment.place\">\n            {{segment.place.address}}\n          </div>\n          <div class=\"close-card\" *ngIf=\"selectedSegmentId == segment.id && !isMobile\" (click)=\"selectInUserData(null, $event)\">\n            <i class=\"fa fa-times-circle fa-2x\"></i>\n          </div>\n        </div>\n        <div *ngIf=\"segment.isLive\" class=\"text-muted heatbeat\">\n          Last heartbeat\n        </div>\n      </div>\n\n\n    </div>\n  </div>\n</div>\n<div class=\"card\" *ngIf=\"placelineMod && placelineMod.length == 0\">\n  <div class=\"card-content-mid text-center\"><strong>No Placeline</strong></div>\n</div>\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n:host{\n  margin:30px 0;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.segment{\n  border-radius:4px;\n  padding-right:18px;\n}\n.active-segment{\n  background:rgba(255, 255, 255, 0.75);\n}\n.trip-status{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n  text-align:center;\n  color:#52616A;\n  margin-bottom:20px;\n  position:relative;\n}\n.trip-status .status-main{\n  font-size:31px;\n  font-weight:600;\n}\n.trip-status .status-sub{\n  color:#798E9B;\n  font-size:12px;\n}\n.ht-breadcrumb{\n  padding-bottom:19px;\n}\n.card{\n  margin-bottom:9px;\n}\n.card .action-img{\n  margin:0 auto;\n}\n.card .content-right{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n  position:relative;\n  text-align:center;\n}\n.driver-container{\n  margin-bottom:20px;\n  border-bottom:1px solid #C9D6DE;\n  padding-bottom:16px;\n}\n.driver-container .text-muted{\n  color:#A9BAC4;\n}\n.task-status{\n  padding-bottom:20px;\n  text-align:center;\n  color:#52616A;\n}\n.time-container{\n  width:84px;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n  text-align:right;\n  padding-right:20px;\n  padding-bottom:16px;\n  z-index:5;\n  color:#52616A;\n}\n.time-container .target-status{\n  font-size:10px;\n}\n.time-container .timestamp{\n  font-size:14px;\n  color:#52616A;\n}\n.time-container .text-muted{\n  color:#A9BAC4;\n  font-size:12px;\n}\n.time-container .timestamp-text{\n  font-size:12px;\n  color:#52616A;\n  font-weight:700;\n}\n.time-container-mid{\n  height:100%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-pack:end;\n      -ms-flex-pack:end;\n          justify-content:flex-end;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.pipe{\n  width:20px;\n  min-width:20px;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  z-index:1;\n}\n.pipe .bar{\n  height:100%;\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.pipe .big{\n  outline:2px solid;\n}\n.pipe .solid{\n  border-right:3px solid #798E9B;\n}\n.pipe .line{\n  border-right:3px dotted #798E9B;\n}\n.pipe .line-border{\n  border-right:3px dotted #798E9B;\n  outline:0;\n}\n.pipe .light{\n  border-right:3px dashed rgba(121, 142, 155, 0.4);\n}\n.pipe .fade{\n  border-right:3px solid rgba(121, 142, 155, 0.14);\n}\n.timeline-detail{\n  padding-bottom:22px;\n  position:relative;\n  padding-left:16px;\n  min-height:66px;\n}\n.timeline-detail .task-action{\n  font-size:16px;\n  color:#52616A;\n  text-transform:capitalize;\n  margin-bottom:4px;\n  -webkit-transition:font-size 0.4s;\n  transition:font-size 0.4s;\n}\n.timeline-detail .action-title{\n  font-size:16px;\n  color:#52616A;\n  text-transform:capitalize;\n  -webkit-transition:font-size 0.4s;\n  transition:font-size 0.4s;\n  font-weight:700;\n}\n.timeline-detail .task-detail{\n  background:#fff;\n  padding:6px 10px;\n  color:#52616A;\n  -webkit-transition:font-size 0.4s;\n  transition:font-size 0.4s;\n}\n.timeline-detail .task-icon{\n  position:absolute;\n  left:-23px;\n  top:-2px;\n}\n.timeline-detail .task-ontime-status{\n  color:#55ad58;\n  padding-bottom:4px;\n  font-size:11px;\n  -webkit-transition:font-size 0.4s;\n  transition:font-size 0.4s;\n}\n.timeline-detail .text-late{\n  color:#E6413E;\n}\n.selected-task .task-action{\n  font-size:18px;\n}\n.selected-task .task-detail{\n  font-size:13px;\n}\n.selected-task .task-ontime-status{\n  font-size:13px;\n}\n.trip-event .pipe{\n  padding-top:7px;\n}\n.trip-event .time-container{\n  padding-bottom:24px;\n}\n.segment-dot{\n  width:25px;\n  height:25px;\n  border-radius:50%;\n  background:#fff;\n  position:absolute;\n  top:-1px;\n  left:-23px;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  z-index:2;\n}\n.a-dot{\n  width:9px;\n  height:9px;\n  border-radius:50%;\n  background:#fff;\n  border:2px solid #798E9B;\n  position:absolute;\n  top:-4px;\n  left:-14px;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  background-color:white;\n  z-index:2;\n}\n.activity-dot{\n  border:1px solid #798E9B;\n  font-size:10px;\n}\n.activity-dot-ended{\n  background:#798E9B;\n  color:#fff;\n}\n.trip-dot{\n  border:0px solid #5496F8;\n  background:#5496F8;\n}\n.trip-dot .pulse{\n  background:#5496F8;\n}\n.stop-dot{\n  border:0px solid #5496F8;\n  background:#5496F8;\n}\n.stop-dot .pulse{\n  background:#5496F8;\n}\n@-webkit-keyframes pulse{\n  0%{\n    -webkit-transform:scale(0.3, 0.3);\n            transform:scale(0.3, 0.3);\n    opacity:0.9;\n  }\n  100%{\n    -webkit-transform:scale(3, 3);\n            transform:scale(3, 3);\n    opacity:0;\n  }\n}\n@keyframes pulse{\n  0%{\n    -webkit-transform:scale(0.3, 0.3);\n            transform:scale(0.3, 0.3);\n    opacity:0.9;\n  }\n  100%{\n    -webkit-transform:scale(3, 3);\n            transform:scale(3, 3);\n    opacity:0;\n  }\n}\n.ranges li.active{\n  background:#52616A;\n  border-color:#52616A;\n}\n.ranges li{\n  color:#52616A;\n}\n.ranges li:hover{\n  background:#52616A;\n  border-color:#52616A;\n}\n.is-live{\n  border-radius:50%;\n  height:25px;\n  width:25px;\n  position:absolute;\n  z-index:10;\n  opacity:1;\n  margin:auto;\n}\n.is-pulse{\n  -webkit-animation:pulse 3s ease-out;\n          animation:pulse 3s ease-out;\n  -webkit-animation-iteration-count:infinite;\n          animation-iteration-count:infinite;\n}\n.trip{\n  color:#5496F8;\n  border-color:#5496F8 !important;\n}\n.stop{\n  color:#FFBB44;\n  border-color:#FFBB44 !important;\n}\n.no-info{\n  color:#FFBB44;\n  border-color:#A9BAC4 !important;\n}\n.ht-faded{\n  opacity:0.4;\n}\n.action{\n  position:absolute;\n  top:6px;\n  padding:3px;\n  font-size:19px;\n  color:#798E9B;\n}\n.action-left{\n  left:11px;\n  font-size:35px;\n  color:#A9BAC4;\n}\n.action-left:hover{\n  color:#798E9B;\n}\n.text-sm{\n  font-size:11px;\n  color:#52616A;\n  padding-bottom:7px;\n}\n.title{\n  font-size:13px;\n  font-weight:bold;\n}\n.activity-card{\n  padding:6px 10px;\n  color:#52616A;\n  -webkit-transition:font-size 0.4s;\n  transition:font-size 0.4s;\n  font-size:13px;\n  position:relative;\n  cursor:pointer;\n}\n.activity-card-selected{\n  background:#fff;\n}\n.activity-card-selected:hover{\n  background:#fff;\n}\n.activity-card .close-card{\n  position:absolute;\n  top:-3px;\n  right:-3px;\n  color:#52616A;\n  height:14px;\n  width:14px;\n  border-radius:50%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n}\n.activity-card .close-card .fa{\n  margin:auto;\n}\n.action-card{\n  background:#fff;\n  padding:3px 11px;\n  border:1px solid #C9D6DE;\n  font-size:11px;\n  cursor:pointer;\n  color:#52616A;\n  margin-left:-127px;\n  padding-left:134px;\n  margin-top:-9px;\n  min-height:50px;\n  -webkit-box-shadow:1px 2px 2px 0px rgba(0, 0, 0, 0.07);\n          box-shadow:1px 2px 2px 0px rgba(0, 0, 0, 0.07);\n}\n.action-card:hover{\n  border:1px solid #798E9B;\n}\n.action-card-active{\n  border:1px solid #798E9B;\n}\n.trip-border{\n  border-color:#5496F8 !important;\n  outline-color:#5496F8 !important;\n}\n.stop-border{\n  border-color:#FFBB44 !important;\n  outline-color:#FFBB44 !important;\n}\n.no-info-border{\n  border-color:#A9BAC4 !important;\n  outline-color:#A9BAC4 !important;\n}\n.warning-border{\n  border-color:#d19191 !important;\n  outline-color:#d19191 !important;\n}\n.trip-bg{\n  background:#5496F8;\n}\n.stop-bg{\n  background:#FFBB44;\n}\n.no-info-bg{\n  background:#A9BAC4;\n}\n.warning-bg{\n  background:#d19191;\n}\n.trip-color{\n  color:#5496F8;\n}\n.stop-color{\n  color:#ffb025;\n}\n.no-info-color{\n  color:#A9BAC4;\n}\n.warning-color{\n  color:#d19191;\n}\n.table{\n  margin:7px 0;\n  font-size:11px;\n}\n.activity-stats{\n  font-size:12px;\n  font-weight:bold;\n}\n.heatbeat{\n  padding-left:12px;\n  font-size:13px;\n}\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PlacelineComponent implements OnInit {\n\n  @Output() highlightedSegmentId: EventEmitter<string> = new EventEmitter();\n  @Output() hoveredAction = new EventEmitter();\n  @Output() selectedSegment: EventEmitter<string | null> = new EventEmitter();\n  @Input() userData: IUserData;\n  @Input() selectedSegmentId: string = \"__\";\n  @Input() isMobile: boolean = false;\n  @Input() timezone: string;\n  selectedAction: string | null = null;\n  selectedActivity: string | null = \"\";\n  hardSelectedActivity: string | null = \"\";\n  // icons = TaskCardIcon;\n  actionMap = {};\n  constructor(private ref: ChangeDetectorRef) {\n\n  }\n\n  selectInUserData(segment, event?) {\n    if (segment && (segment.type === 'trip' || segment.type === 'stop')) {\n      const id = segment.id;\n\n      let hardSelectedActivity = this.selectedSegmentId === id ? null : segment.id;\n      console.log(\"emit\", this.hardSelectedActivity);\n      this.selectedSegment.next(hardSelectedActivity)\n    } else {\n      this.hardSelectedActivity = \"\";\n      this.selectedSegment.next(null);\n      if (event) event.stopPropagation()\n    }\n  }\n\n  selectSegment(segment, toShow: boolean = true) {\n    if (segment.actionText) {\n      const actionId = toShow ? segment.action_id : null;\n      this.selectAction(actionId)\n    } else {\n      const userId = toShow ? segment.id : null;\n      this.highlightActivity(userId)\n    }\n  }\n\n  hoverActivity(activityId) {\n    this.selectedActivity = activityId;\n    this.ref.detectChanges()\n  }\n\n  highlightActivity(activityId) {\n    if (this.selectedSegmentId) return false;\n    this.highlightedSegmentId.next(activityId);\n    this.hoverActivity(activityId);\n    // console.log(this.selectedActivity, \"sele\");\n  }\n\n  selectAction(actionId) {\n    this.selectedAction = actionId;\n    this.hoveredAction.next(actionId);\n    this.ref.detectChanges()\n  }\n\n  get placelineMod() {\n    const placeline = this.userData;\n    if (this.userData.segments.length === 0) return [];\n    const actions = placeline.actions;\n    this.actionMap = {};\n    const {currentActions, expActions} = this.currentExpActions(actions);\n    const allEvents = this.userData.events;\n\n\n    let {activitySegments} = _.reduce(this.userData.segments, (acc, segment: ISegment) => {\n      const time = segment.started_at;\n      const activityText = this.getActivityText(segment);\n      const activityClass = this.getActivityClass(segment);\n      const placeAddress = this.getActivityPlaceAddress(segment);\n      const lastSeg = segment;\n      const gapSegment = this.getGapSegment(segment, acc.lastSeg);\n      // let lastSeg = _.last(acc.activitySegments);\n      const currentActivitySegment: {\n        events: any[],\n        [any: string]: any\n      } = {...segment, time, events: [], ...this.getSegmentStyle(activityClass), activityText, placeAddress};\n      const events = _.reject(acc.events, (event) => {\n\n        if (this.isEventInSegment(segment, event)) {\n          // event = {...event, ...this.getEventDisplay(event)};\n          const eventDisplay = this.getEventDisplay(event);\n          event = {...event, ...eventDisplay};\n          if (eventDisplay) currentActivitySegment.events.push(event);\n          return true\n        }\n        return false\n      });\n      // console.log(gapSegment, \"gap\");\n      let activitySegments =  [...acc.activitySegments, ...gapSegment, currentActivitySegment];\n      // let activitySegments =  [...acc.activitySegments, currentActivitySegment];\n      return {activitySegments, events, lastSeg};\n    }, {activitySegments: [], events: allEvents, lastSeg: null});\n\n\n    const lastSeg = this.lastSeg(placeline);\n    // activitySegments.push(lastSeg);\n    // return activitySegments\n\n\n    let {actionSegments, actionEvents} = _.reduce([...activitySegments, lastSeg], (acc, segment, i, placelineM) => {\n      activitySegments = acc.activitySegments;\n      let lastSeg = segment;\n      let activityClass = acc.lastSeg ? acc.lastSeg.activityClass : 'no-info';\n      let actionSegments = acc.actionSegments;\n      let actionEvents = _.reject(acc.actionEvents, (actionEvent) => {\n        let actionMin = this.getMinute(actionEvent.actionTime);\n        let segTime = this.getMinute(segment.time);\n        if(actionMin == segTime && !segment.ended && !segment.actionText) {\n          // if(actionEvent.actionTime == segment.time) {\n          let actionSegment = this.createActionSegment(actionEvent, activityClass, acc.lastSeg);\n          segment = {...actionSegment, ...segment};\n          return true\n        } else if(actionEvent.actionTime <= segment.time) {\n          // console.log(\"np match\");\n          let actionSegment = this.createActionSegment(actionEvent, activityClass, acc.lastSeg);\n          actionSegments.push(actionSegment);\n          return true\n        } else {\n        }\n        return false\n      });\n      if(segment.ended && !segment.actionText) {\n      } else if(segment.ended) {\n        activitySegments.push({...segment, ended: false, type: segment.type});\n      } else {\n        activitySegments.push({...segment, type: segment.type});\n      }\n      // activitySegments.push(segment);\n      return {activitySegments, actionEvents, lastSeg, actionSegments}\n    }, {activitySegments: [], actionEvents: currentActions, lastSeg: null, actionSegments: []});\n    // activitySegments.pop();\n\n    let unsortedCurrentSegment = [...activitySegments, ...actionSegments];\n    let currentSegment = _.sortBy(unsortedCurrentSegment, (segment) => {\n      return segment.time\n    });\n    let restActiviySegments = _.map(actionEvents, (actionEvent, i) => {\n      lastSeg['activityBorder'] = 'no-info-border';\n      lastSeg['activityText'] = 'No information';\n      // let activityClass = i < actionEvents.length - 2 ? 'no-info' : 'line';\n      return this.createActionSegment(actionEvent, 'no-info')\n    });\n    let expActionSegments = _.map(expActions, (actionEvent, i, expEvents) => {\n      if(actionEvents.length === 0) {\n        lastSeg['activityBorder'] = 'line-border';\n      }\n      const activityClass = i < expEvents.length - 2 ? 'line' : '';\n      return this.createActionSegment(actionEvent, activityClass)\n    });\n    // console.log(actionSegments, expActionSegments, \"ac\");\n    // console.log(\"last seeg\", lastSeg);\n    // console.log(activitySegments.length,actionSegments.length , expActionSegments.length);\n    // console.log(this.userData.segments.length, this.userData.actions.length);\n    /*\n    Handles specific case when action gets completed exactly at the end of last segment\n    and no information segment is getting created\n     */\n    if (restActiviySegments.length == 1 && restActiviySegments[0].actionText && lastSeg['time']) {\n      const actionTime = this.getMinute(restActiviySegments[0].time);\n      const lastTime = this.getMinute(lastSeg['time']);\n      if (actionTime == lastTime) {\n        return lastSeg['time'] ?\n          [...currentSegment, ...restActiviySegments, ...expActionSegments] : [...currentSegment, ...expActionSegments]\n      }\n    }\n    return lastSeg['time'] ?\n      [...currentSegment, lastSeg, ...restActiviySegments, ...expActionSegments] : [...currentSegment, ...expActionSegments]\n  }\n\n  private createActionSegment(actionEvent, activityClass = 'no-info', seg = {}) {\n    let id = seg ? seg['id'] : '';\n    return {...actionEvent, time: actionEvent.actionTime, ...this.getSegmentStyle(activityClass), ended: false, isLive: false, id};\n  }\n\n  private getSegmentStyle(activityClass = 'no-info') {\n    return activityClass ?\n      {\n        activityBg: `${activityClass}-bg`,\n        activityBorder: `${activityClass}-border`,\n        activityClass,\n        activityColor: `${activityClass}-color`\n      } : {}\n  }\n\n  private isEventInSegment(segment, event): boolean {\n    if (!!segment.ended_at && !!event.recorded_at) {\n      const eventMin = this.getMinute(event.recorded_at);\n      const segEndMin = this.getMinute(segment.ended_at);\n      const segStartMin = this.getMinute(segment.started_at);\n      return eventMin >= segStartMin && eventMin <= segEndMin;\n    }\n    return false;\n  }\n\n  private getMinute(time: string) {\n    const timeStamp = new Date(time).getTime();\n    return Math.round(timeStamp - timeStamp % 60000)\n  }\n\n  private currentExpActions(actions: IAction[]) {\n    return _.reduce(actions, (acc, action: IAction) => {\n      let expActions: any[] = [];\n      this.actionMap = this.setActionMap(action);\n      const assign = {\n        actionText: `${NameCase(action.type)} assigned`,\n        actionTime: action.assigned_at,\n        actionD: NameCase(action.type[0]) + this.actionMap[action.id],\n        action_id: action.id,\n        actionLookupId: action.lookup_id,\n        ...action\n      };\n      let currentActions = (assign.actionTime) ? [...acc.currentActions, assign] : acc.currentActions;\n      if (action.display.ended_at) {\n        const end = {\n          actionText: `${NameCase(action.type)} ${action.status}`,\n          actionTime: action.display.ended_at,\n          actionD: NameCase(action.type[0]) + this.actionMap[action.id],\n          actionEnd: true,\n          action_id: action.id,\n          action_distance: action.distance,\n          action_duration: action.duration,\n          actionEnded: true,\n          actionLookupId: action.lookup_id,\n          ...action\n        };\n        currentActions = [...currentActions, end];\n      } else {\n        const end = {\n          actionText: `${NameCase(action.type)} scheduled`,\n          actionTime: action.eta || null,\n          actionD: NameCase(action.type[0]) + this.actionMap[action.id],\n          actionEnd: true,\n          action_id: action.id,\n          action_distance: action.distance,\n          action_duration: action.duration,\n          actionLookupId: action.lookup_id,\n          ...action\n        };\n        expActions.push(end)\n      }\n\n      return {currentActions, expActions}\n    }, {currentActions: [], expActions: []});\n  }\n\n  // private getActionsSegments(segment: ISegment, actionsEvents, lastSeg) {\n  //   let currentSegment = {};\n  //   let start = segment.started_at;\n  //   let lastStart = lastSeg ? lastSeg.started_at : null;\n  //\n  //   preSegment = _.filter(actionsEvents, (actionEvent) => {\n  //     return lastStart ? (actionEvent.actionTime < start && actionEvent.actionTime > lastStart) : actionEvent.actionTime < start\n  //   });\n  //   postSegment = _.filter(actionsEvents, (actionEvent) => {\n  //     return lastStart ? (actionEvent.actionTime > start && actionEvent.actionTime > lastStart) : actionEvent.actionTime < start\n  //   });\n  //   return {preSegment, postSegment, currentSegment}\n  // }\n\n  private lastSeg(placeline: IUserData) {\n    let lastSeg: ISegment = _.last(placeline.segments);\n    if(!lastSeg) return {};\n    // let last = {time: lastSeg['last_heartbeat_at']};\n    let pipeClass = \"\";\n    let time;\n    let isLive = new HtPlaceline().isLive(placeline);\n    if(!isLive) {\n      time = lastSeg.ended_at\n    } else {\n      isLive = true;\n      time = placeline.last_heartbeat_at\n    }\n    const activityClass = this.getActivityClass(lastSeg);\n    return {\n      time,\n      pipeClass,\n      id: '..',\n      lastSeg: true,\n      isLive,\n      ended: true,\n      activityClass,\n      activityBg: `${this.getActivityClass(lastSeg)}-bg`,\n      type: lastSeg.type\n    }\n  }\n\n  private isSegmentLive(placeline: IUserData) {\n    let old = placeline.display.seconds_elapsed_since_last_heartbeat;\n    let status = placeline.display.status_text;\n    return status !== 'Logged off' && old < 15 * 60;\n  }\n\n  private getActivityClass(segment) {\n    const type = segment.type;\n    if (type === 'location_void') {\n      return 'warning'\n    }\n    return type === 'stop' ? 'stop' : 'trip'\n  }\n\n  getPipeClass(status: string) {\n\n    return status === 'stop' ? 'stop solid' : 'trip solid'\n  }\n\n  private getActivityText(segment: ISegment | any) {\n    if (segment.type === 'stop') {\n      return segment.place && segment.place.display_text ? segment.place.display_text : 'Stop';\n    } else if(segment.activity) {\n      return segment.activity\n    } else if(segment.reason) {\n      return this.getLocationVoidText(segment)\n    } else {\n      return NameCase(segment.type)\n    }\n  }\n\n  private getActivityPlaceAddress(segment: ISegment) {\n    if (segment.type === 'stop' && segment.place && segment.place.locality) {\n      return segment.place.locality\n    }\n    return \"\"\n  }\n\n  private getLocationVoidText(segment) {\n    switch(segment.reason) {\n      case 'disabled':\n        return \"Location disabled\";\n      case 'no_permission':\n        return \"Location permission unavailable\";\n      case 'unknown':\n        return \"Location unavailable\";\n      case 'sdk_inactive': {\n        return \"SDK inactive\"\n      }\n      case \"no_activity_permission\": {\n        return \"No activity permission\"\n      }\n      case \"device_off\": {\n        return \"Device off\"\n      }\n      default:\n        return \"Location unavailable\"\n    }\n  }\n\n  private getEventDisplay(event): {text: string, subtext: string} {\n    switch (event.type) {\n      case 'tracking.started':\n        return {\n          text: 'Tracking started',\n          subtext: ''\n        };\n      case 'tracking.ended':\n        return {\n          text: 'Tracking ended',\n          subtext: ''\n        };\n      // case 'device.location.disabled':\n      //   return {\n      //     text: 'Location disabled',\n      //     subtext: ''\n      //   };\n      // case 'device.location.enabled':\n      //   return {\n      //     text: 'Location enabled',\n      //     subtext: ''\n      //   };\n      // case 'device.location_permission.disabled':\n      //   return {\n      //     text: 'Location permission disabled',\n      //     subtext: ''\n      //   };\n      // case 'device.location_permission.enabled':\n      //   return {\n      //     text: 'Location permission enabled',\n      //     subtext: ''\n      //   };\n      case 'device.secondary.ignored':\n        return {\n          text: 'Secondary device ignored',\n          subtext: ''\n        };\n    }\n    return {\n      text: \"\",\n      subtext: \"\"\n    }\n  }\n\n  private getGapSegment(segment, lastSeg) {\n    let gaps: any[] = [];\n    if (!lastSeg) return [];\n    if (segment.started_at && lastSeg.ended_at) {\n      const endMin = this.getMinute(segment.started_at);\n      const startMin = this.getMinute(lastSeg.ended_at);\n      const duration = (new Date(segment.started_at).getTime() -  new Date(lastSeg.ended_at).getTime()) / 1000\n      if (endMin !== startMin && startMin < endMin) {\n        const gap = {\n          ...this.getSegmentStyle('no-info'),\n          time: lastSeg.ended_at,\n          activityText: 'No information',\n          events: [],\n          id: '...',\n          duration,\n        };\n        gaps.push(gap)\n      }\n    }\n    return gaps\n  }\n\n  private setActionMap(action) {\n    const actionMap = this.actionMap;\n    const type = action.type;\n    const id = action.id;\n    const typeCount = this.actionMap[type];\n    const actionShort = this.actionMap[id];\n    if (typeCount) {\n      if (!actionShort) {\n        actionMap[type] = this.actionMap[type] + 1;\n        actionMap[id] = '' + this.actionMap[type]\n      }\n\n    } else {\n      actionMap[type] = 1;\n      actionMap[id] = ''\n\n    }\n    // console.log(actionMap, \"map\");\n    return {...actionMap}\n  }\n\n  indexId(index, item){\n    return item.id\n  }\n\n  indexPlaceline(index, item) {\n    return item.time || \"\"\n  }\n\n  log(a) {\n    console.log(a)\n  }\n\n  ngOnInit() {\n  }\n\n}\n",
    "import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {IUserAnalytics, IUserData, Page} from \"ht-models\";\nimport {Observable} from \"rxjs/Observable\";\nimport {ApiType, QueryLabel} from \"ht-client\";\nimport {listwithSelectedId$, listWithItem$} from \"ht-data\";\nimport {HtMapService} from \"../ht/ht-map.service\";\nimport {HtUsersService} from \"../ht/ht-users.service\";\nimport {Color} from \"ht-utility\";\nimport {distinctUntilChanged, map} from \"rxjs/operators\";\n\n@Component({\n  selector: 'ht-users-container',\n  template: `<div class=\"flex-column relative\">\n  <ng-container *ngIf=\"showSummary$ | async\">\n    <ht-users-summary-container\n      *ngIf=\"showStatusSummary\"\n      [clearDataOnDestroy]=\"false\"\n      [selectable]=\"true\"></ht-users-summary-container>\n    <ht-users-summary-container\n      *ngIf=\"showActiveSummary\"\n      [selectable]=\"true\"\n      [hideTotal]=\"true\"\n      [toSetActive]=\"false\"\n      [clearDataOnDestroy]=\"false\"\n      [queryLabels]=\"queryMap\"></ht-users-summary-container>\n  </ng-container>\n\n  <ht-users\n    [selectedUserDataId]=\"selectedUserDataId$ | async\"\n    [selectedUserId]=\"selectedUserId$ | async\"\n    [loadingUserDataId]=\"loadingUserDataId$ | async\"\n    [hasMap]=\"hasMap\"\n    (onHover)=\"hoverUser($event)\"\n    (onAction)=\"onAction($event)\"\n    (onSelectUser)=\"selectUserCard($event)\"\n    [showExtraBtn]=\"hasPlaceline\"\n    [users]=\"users$ | async\"></ht-users>\n  <ht-placeline-container [showUserCard]=\"false\" *ngIf=\"(selectedUserId$ | async)\"></ht-placeline-container>\n  <!--<div *ngIf=\"(selectedUserId$ | async) && user$ | async as userData\">-->\n    <!--&lt;!&ndash;<ht-user-card [user]=\"userData\"></ht-user-card>&ndash;&gt;-->\n    <!--<ht-placeline [userData]=\"userData\"></ht-placeline>-->\n  <!--</div>-->\n  <div class=\"loading-box\" *ngIf=\"loadingUsers$ | async\"></div>\n  <ng-container *ngIf=\"usersPage$ | async as usersPage\">\n    <ht-pagination (fetchPage)=\"fetchPage($event)\" [pageDate]=\"usersPage\"></ht-pagination>\n  </ng-container>\n\n</div>\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.loading-box{\n  position:absolute;\n  background:rgba(255, 255, 255, 0.7);\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n  -webkit-transition:background 0.5s;\n  transition:background 0.5s;\n  pointer-events:none;\n}\n.loading-box-active{\n  background:rgba(255, 255, 255, 0.7);\n}\n`]\n})\nexport class UsersContainerComponent implements OnInit, OnDestroy {\n  @Input() hasPlaceline = true;\n  usersPage$;\n  users$;\n  user$;\n  selectedUserId$;\n  showSummary$;\n  selectedUserDataId$;\n  loadingUserId$;\n  loadingUserDataId$;\n  loadingUsers$;\n  @Input() hasMap: boolean = false;\n  @Input() showStatusSummary: boolean = true;\n  @Input() showActiveSummary: boolean = true;\n  @Input() apiType: ApiType = ApiType.analytics;\n  @Input() showAll: boolean = false;\n  _queryMap: QueryLabel[] = [\n    {\n      label: 'Logged in',\n      values: ['stopped', 'on_trip', 'network_offline'],\n      color: Color.blue\n    },\n    {\n      label: 'Logged off',\n      values: ['logged_off'],\n      color: '#a8a8a8',\n    },\n    {\n      label: 'Location disabled',\n      values: ['location_disabled'],\n      color: Color.red\n    },\n  ];\n  constructor(\n    private userService: HtUsersService,\n    private mapService: HtMapService\n  ) { }\n\n  ngOnInit() {\n    this.userService.list.setActive();\n    if (this.hasPlaceline) {\n      const selectedUser$ = listwithSelectedId$(\n        this.userService.list.data$,\n        this.userService.list.id$\n      );\n      this.user$ = this.userService.placeline.data$;\n      this.usersPage$ = listWithItem$(\n        selectedUser$,\n        this.user$\n      );\n      this.mapService.usersCluster.onClick = (entity) => {\n        this.selectUserCard(entity.data);\n      };\n\n    } else {\n      this.usersPage$ = this.userService.list.data$;\n    }\n\n    this.users$ = this.usersPage$.pipe(\n      map((pageData: Page<any>) => {\n        return pageData ? pageData.results : pageData\n      })\n    );\n\n    this.loadingUsers$ = this.userService.getLoading$();\n\n    this.loadingUserDataId$ = this.userService.placeline.loading$\n      .pipe(\n        map(data => !!data),\n        distinctUntilChanged()\n      );\n\n    this.selectedUserDataId$ = this.userService.placeline.id$;\n    this.selectedUserId$ = this.userService.list.id$;\n\n    this.showSummary$ = this.selectedUserId$.pipe(\n      map(id => {\n        return id ? false : true\n      }),\n      distinctUntilChanged(),\n      // startWith(true)\n    )\n  }\n\n  get queryMap() {\n    const showAllLabel = this.userService.filterClass.showAllQueryArray;\n    return this.showAll ? [...this._queryMap, ...showAllLabel] : this._queryMap;\n  }\n\n  clear() {\n    this.mapService.segmentTrace.trace(null)\n  }\n\n  selectUserMarker(user) {\n    this.mapService.usersCluster.highlight(user)\n  }\n\n  onAction(payload) {\n    // console.log(payload, payload['action']);\n    switch (payload['action']) {\n      case \"close\":\n        this.closeUser(payload.event);\n        break;\n      case \"detail\": {\n        this.selectUserCard(payload.user);\n        // this.selectUserMarker(payload.user);\n        // this.selectUser(payload.user);\n        break;\n      }\n      case \"default\": {\n        this.selectUserCardAction(payload.user, payload.event);\n        // this.selectUserData(payload.user, payload.event);\n        break\n      }\n      default: {\n\n      }\n\n    }\n  };\n\n  selectUserCard(user) {\n    if (this.hasPlaceline) {\n      this.selectUser(user)\n    } else {\n      this.selectUserMarker(user)\n    }\n\n  }\n\n  selectUserCardAction(user, event) {\n    if (this.hasPlaceline) {\n      this.selectUserData(user, event);\n    } else {\n      this.selectUserMarker(user);\n    }\n  }\n\n  closeUser(event) {\n    event.stopPropagation();\n    this.userService.list.setId(null);\n    this.userService.placeline.setId(null)\n  }\n\n\n  selectUser(user) {\n    const id = user.id;\n    this.userService.list.toggleId(id);\n    this.userService.placeline.toggleId(id);\n    // this.userService.placeline.setId(id);\n\n  };\n\n  selectUserData(userData: IUserData, event) {\n    const id = userData.id;\n    event.stopPropagation();\n    this.userService.placeline.toggleId(id);\n  }\n\n  fetchPage(number) {\n    this.userService.list.addQuery({page: number})\n  }\n\n  hoverUser(userId: string | null) {\n    this.mapService.usersCluster.setPopup(userId)\n  }\n\n  closeHoverUser() {\n    this.hoverUser(null)\n  }\n\n  ngOnDestroy() {\n    this.userService.list.clearData();\n    this.userService.list.setId(null)\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UsersComponent } from './users.component';\nimport {SharedModule} from \"../shared/shared.module\";\nimport {UserCardModule} from \"../user-card/user-card.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    UserCardModule\n  ],\n  declarations: [UsersComponent],\n  exports: [UsersComponent]\n})\nexport class UsersModule { }\n",
    "import {ChangeDetectionStrategy, Component, EventEmitter, Input, OnDestroy, OnInit, Output} from '@angular/core';\nimport {IUserAnalytics, IUserAnalyticsPage} from \"ht-models\";\n// import {entryLeaveTransition} from \"../../animations/appear\";\n// import {anim} from \"../../animations/appear\";\nimport {animate, keyframes, query, stagger, state, style, transition, trigger} from \"@angular/animations\";\nimport {Observable} from \"rxjs/Observable\";\n\n@Component({\n  selector: 'ht-users',\n  template: `<div class=\"card-stack\" *ngIf=\"users\" [@cardStack]=\"users.length\">\n  <ht-user-card\n    [@sort]=\"i\"\n    class=\"flex-row card card-clickable is-marginless\"\n    [class.card-selected]=\"selectedUserDataId == user.id\"\n    (mouseenter)=\"hover(user.id)\"\n    (mouseleave)=\"hover(null)\"\n    (click)=\"selectUser(user)\"\n    [user]=\"user\" *ngFor=\"let user of users; let i = index; trackBy:indexId\">\n    <div *ngIf=\"selectedUserId\" class=\"card-content-mid card-action flex-row align-center\" (click)=\"onAction.next({event: $event, action: 'close'})\">\n      <a class=\"delete is-medium\"></a>\n    </div>\n    <ht-loading-dots\n      *ngIf=\"user.id === loadingUserDataId && !selectedUserId\" class=\"card-content-mid text-1 card-action flex-row align-center\">\n    </ht-loading-dots>\n  </ht-user-card>\n</div>\n`,\n  styles: [`.card-action-clicked{\n  color:white;\n}\n.card-action{\n  font-size:1.3em;\n  font-weight:bold;\n  min-width:46px;\n}\n.card-action.clickable:hover{\n  background:#e6e6e6;\n}\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    trigger('card', [\n      transition(':enter', [\n        style({transform: 'translateX(-100px)', height: 0, opacity: 0}),\n        animate('0.3s' + ' ease-out')\n      ]),\n      transition(':leave', [\n        style({transform: 'translateX(0px)', height: '*', opacity: 1}),\n        animate('0.3s' + ' ease-in', style({transform: 'translateX(-100px)', height: 0, opacity: 0}))\n      ])\n      ]\n    ),\n    trigger('image', [\n      // transition(':enter', [\n      //   query(':self', [\n      //     style({ transform: 'translateX(-200px)', opacity: 0, height: 0 }),\n      //     stagger(100, [\n      //       animate('1200ms cubic-bezier(0.35, 0, 0.25, 1)', style('*'))\n      //     ])\n      //   ])\n      // ]),\n      // transition(':leave', [\n      //   query(':self', [\n      //\n      //     stagger(100, [\n      //       animate('1200ms cubic-bezier(0.35, 0, 0.25, 1)', style({ transform: 'translateX(-200px)', opacity: 0, height: 0 }))\n      //     ])\n      //   ])\n      // ]),\n    ]\n    ),\n    trigger('sort', [\n      transition('* => *',\n        animate(500, keyframes([\n          style('*'),\n          style({ opacity: 0.1}),\n          style('*'),\n        ]))\n      ),\n      // transition(':decrement',\n      //   animate(500, keyframes([\n      //     style('*'),\n      //     style({ opacity: 0.1, transform: 'translateX(-50px)'}),\n      //     style('*'),\n      //   ]))\n      // ),\n    ]),\n    trigger('cardStack', [\n      transition('* => *', [\n        query('.card:enter', [\n          style({transform: 'translateX(-100px)', height: 0, opacity: 0}),\n          animate('0.3s' + ' ease-out')\n        ], {optional: true}),\n        query('.card:leave', [\n          style({transform: 'translateX(0px)', height: '*', opacity: 1}),\n          animate('0.3s' + ' ease-in', style({transform: 'translateX(-100px)', height: 0, opacity: 0}))\n        ], {optional: true})\n      ])\n    ])\n  ]\n})\nexport class UsersComponent implements OnInit, OnDestroy {\n  // userCardAction;\n  @Input() users: IUserAnalytics[];\n  @Input() selectedUserId: string | null;\n  @Input() selectedUserDataId: string | null;\n  @Input() loadingUserDataId: string | null;\n  @Input() hasMap: boolean = false;\n  @Input() showExtraBtn: boolean = true;\n  @Output() onSelectUser: EventEmitter<string | null> = new EventEmitter();\n  @Output() onAction: EventEmitter<string | null> = new EventEmitter();\n  @Output() onHover: EventEmitter<string | null> = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n\n\n  getAction(user) {\n    // console.log(\"action\", this.loadingUserDataId, this.loadingUserId);\n    const id = user.id;\n    if (!this.hasMap) return 'detail';\n\n    if (this.selectedUserId === user.id) {\n      return \"close\"\n    } else if (id === this.loadingUserDataId && (!this.selectedUserId || !user.segments) ) {\n      return 'loading'\n    } else if (this.selectedUserDataId === user.id) {\n      return 'detail';\n    }  else {\n      return \"default\"\n    }\n  }\n\n  indexId(index, item) {\n    return item.id\n  }\n\n  selectUser(user) {\n    this.onSelectUser.next(user)\n  }\n\n  hover(id: string | null) {\n    this.onHover.next(id)\n  }\n\n  ngOnDestroy() {\n\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserCardComponent } from './user-card.component';\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule\n  ],\n  declarations: [UserCardComponent],\n  exports: [UserCardComponent]\n})\nexport class UserCardModule { }\n",
    "import {\n  ChangeDetectionStrategy, Component, EventEmitter, HostBinding, HostListener, Input, OnChanges, OnInit,\n  Output\n} from '@angular/core';\nimport {IUser, IUserAnalytics, IUserData} from \"ht-models\";\nimport * as _ from \"underscore\";\n\n@Component({\n  selector: 'ht-user-card',\n  template: `<div class=\"ht-card-content flex-row flex\">\n  <div class=\"text-left flex-row row-gap-10 flex\">\n    <ht-profile [height]=\"35\" [url]=\"user.photo\"></ht-profile>\n    <div class=\"\">\n      <div class=\"flex-row\">\n        {{user.name | nameCase | dot: 'Unknown users'}}\n      </div>\n      <ng-template [ngIf]=\"showStatus\">\n        <div class=\"user-status-display\" [ngClass]=\"user.status + '-color'\">\n          <div [class.text-warning]=\"user.display.is_warning\">{{user.display.status_text}}</div>\n        </div>\n        <div class=\"flex-row user-status\">\n          <div>{{user.display.sub_status_text}}<span *ngIf=\"user.display.battery\">&nbsp; &bull; &nbsp;</span></div>\n          <ht-battery-icon *ngIf=\"user.display.battery\" [battery]=\"user.display.battery\"></ht-battery-icon>\n        </div>\n      </ng-template>\n      <div class=\"flex-row\" *ngIf=\"!user['segments'] && user['total_distance']\">\n        <div>{{user['total_distance'] | distanceLocale}}</div>\n        <div>&nbsp; &bull; &nbsp;</div>\n        <div>{{user['total_duration'] | hmString:60}}</div>\n      </div>\n      <div class=\"\">\n        {{user['phone']}}\n      </div>\n    </div>\n  </div>\n  <!--<div *ngIf=\"action !== 'loading'; else loading\" [@cardAction]=\"action == 'close' ? 'active' : 'inactive'\" class=\"flex-row\">-->\n    <!--<button class=\"auto ht-btn ht-btn-card text-uppercase\" (click)=\"fireAction()\" *ngIf=\"getActionText()\">-->\n      <!--{{getActionText()}}-->\n    <!--</button>-->\n  <!--</div>-->\n  <ng-template #loading>\n    <div class=\"text-1 flex-row\">\n      <ht-loading-dots class=\"auto\"></ht-loading-dots>\n    </div>\n  </ng-template>\n</div>\n<ng-content></ng-content>\n<!--<div class=\"card-quick-action\" *ngIf=\"action == 'default'\">-->\n  <!--<div class=\"flex-row align-center\">-->\n    <!--<span class=\"element\">View on map &nbsp;</span>-->\n    <!--<i class=\"fa fa-map-o\"></i>-->\n  <!--</div>-->\n<!--</div>-->\n`,\n  styles: [`.ht-card-content{\n  padding:5px 10px;\n}\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class UserCardComponent implements OnInit, OnChanges {\n  @Input() user: IUserData | IUserAnalytics | IUser;\n  @Input() selectedUserId: string | null = null;\n  @Input() action: 'default' | 'close' | 'loading' | 'detail' = 'default';\n  @Output() onAction = new EventEmitter();\n  showStatus: boolean = true;\n  hovered: boolean = false;\n  // @HostBinding('class') role = 'card is-small is-paddingless flex-row clickable';\n  @HostListener('mouseenter')\n  hoverIn() {\n    this.hovered = true;\n  }\n  @HostListener('mouseleave')\n  hoverOut() {\n    this.hovered = false;\n  }\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  getShowStatus(user: IUserData): boolean {\n    if (user.segments) {\n      return !!user.segments.length && ! _.last(user.segments)['ended_at']\n    }\n    return !!user\n  }\n\n  fireAction() {\n    this.onAction.next({user: this.user, action: this.action});\n    // event.stopPropagation()\n  }\n\n  ngOnChanges(a) {\n    // console.log(a, \"change\");\n    this.showStatus = a.user ? this.getShowStatus(a.user.currentValue) : this.showStatus\n  }\n\n  getActionText() {\n    switch (this.action) {\n      case  \"close\":\n        return \"Close\";\n      case \"detail\" :\n        return \"\";\n      case \"loading\":\n        return \"loading\";\n      default:\n        return \"View on Map\"\n    }\n  }\n\n  debug(e) {\n    console.log(e);\n  }\n\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UsersSummaryContainerComponent } from './users-summary-container.component';\nimport {UsersSummaryModule} from \"../users-summary/users-summary.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UsersSummaryModule\n  ],\n  declarations: [UsersSummaryContainerComponent],\n  exports: [UsersSummaryContainerComponent]\n})\nexport class UsersSummaryContainerModule { }\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UsersSummaryComponent } from './users-summary.component';\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule\n  ],\n  declarations: [UsersSummaryComponent],\n  exports: [UsersSummaryComponent]\n})\nexport class UsersSummaryModule { }\n",
    "import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ProfileComponent} from './profile/profile.component';\nimport {RouterModule} from \"@angular/router\";\nimport {BatteryIconComponent} from './battery-icon/battery-icon.component';\nimport {TimeStringPipe} from \"../pipes/time-string.pipe\";\nimport {DateStringPipe} from \"../pipes/date-string.pipe\";\nimport {NameCasePipe} from \"../pipes/name-case.pipe\";\nimport {DotPipe} from \"../pipes/dot.pipe\";\nimport {LoadingDotsComponent} from './loading-dots/loading-dots.component';\nimport {LoadingDataComponent} from './loading-data/loading-data.component';\nimport {DateHumanizePipe} from \"../pipes/date-humanize.pipe\";\nimport {DistanceLocalePipe} from './../pipes/distance-locale.pipe';\nimport {HmStringPipe} from './../pipes/hm-string.pipe';\nimport {UsersStatusStringPipe} from './../pipes/users-status-string.pipe';\nimport {ActionStatusStringPipe} from './../pipes/action-status-string.pipe';\nimport {UserSortingStringPipe} from '../pipes/user-sorting-string.pipe';\nimport {ActionSortingStringPipe} from '../pipes/action-sorting-string.pipe';\nimport {SafeUrlPipe} from \"../pipes/safe-url.pipe\";\nimport { PluralizePipe } from '../pipes/pluralize.pipe';\nimport { ButtonComponent } from './button/button.component';\nimport { LoadingBarComponent } from './loading-bar/loading-bar.component';\nimport { DropdownDirective } from './dropdown/dropdown.directive';\n\n@NgModule({\n  imports: [\n    CommonModule,\n      RouterModule\n  ],\n  declarations: [\n    ProfileComponent,\n    BatteryIconComponent,\n    DateStringPipe,\n    TimeStringPipe,\n    DotPipe,\n    NameCasePipe,\n    LoadingDotsComponent,\n    LoadingDataComponent,\n    DateHumanizePipe,\n      DistanceLocalePipe,\n      HmStringPipe,\n    UsersStatusStringPipe,\n    ActionStatusStringPipe,\n    SafeUrlPipe,\n    UserSortingStringPipe,\n    ActionSortingStringPipe,\n    PluralizePipe,\n    ButtonComponent,\n    LoadingBarComponent,\n    DropdownDirective,\n  ],\n  exports: [\n    ProfileComponent,\n    BatteryIconComponent,\n    DateStringPipe,\n    TimeStringPipe,\n    DotPipe,\n    NameCasePipe,\n    LoadingDotsComponent,\n    LoadingDataComponent,\n    DateHumanizePipe,\n    DistanceLocalePipe,\n    HmStringPipe,\n    UsersStatusStringPipe,\n    ActionStatusStringPipe,\n    SafeUrlPipe,\n    UserSortingStringPipe,\n    ActionSortingStringPipe,\n    PluralizePipe,\n    LoadingBarComponent,\n    DropdownDirective,\n  ]\n})\nexport class SharedModule { }\n",
    "import {Directive, Input, HostListener, HostBinding} from '@angular/core';\n\n@Directive({\n  selector: '[htDropdown]'\n})\nexport class DropdownDirective {\n\n  @HostBinding('class.is-active') show: boolean = false;\n  @Input() appDropdown: 'onHover' | 'onClick' = 'onHover';\n  @Input() hover: boolean;\n\n  @HostListener('mouseenter', ['$event'])\n  onMouseEnter(event) {\n    if (!this.appDropdown || this.appDropdown === 'onHover') {\n      this.show = true;\n    }\n\n  }\n\n  @HostListener('mouseleave', ['$event'])\n  onMouseLeave(event) {\n    if (!this.appDropdown || this.appDropdown === 'onHover') {\n      this.show = false;\n    }\n  }\n  @HostListener('click', ['$event'])\n  onClick(event) {\n    if (this.appDropdown == 'onClick') {\n      this.show = !this.show;\n    }\n\n  }\n\n  // @HostListener('window:click', ['$event'])\n  // onClick(event) {\n  //   if(event.target.id != 'accounts') {\n  //     this.showAccountDropDown = false;\n  //   }\n  // }\n  //\n  // @HostListener('window:click', ['$event'])\n  // onClick(event) {\n  //   if(event.target.id != 'accounts') {\n  //     this.showAccountDropDown = false;\n  //   }\n  // }\n  constructor() {\n\n  }\n\n  ngOnInit() {\n\n  }\n\n}\n",
    "import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'ht-loading-bar',\n  template: `<div class=\"relative\">\n  <div class=\"load-bar\">\n    <div class=\"bar\"></div>\n    <div class=\"bar\"></div>\n    <div class=\"bar\"></div>\n  </div>\n</div>\n\n\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.load-bar{\n  position:absolute;\n  width:100%;\n  height:3px;\n  top:0;\n  background-color:#fdba2c;\n  z-index:10000;\n}\n.bar{\n  content:\"\";\n  display:inline;\n  position:absolute;\n  width:0;\n  height:100%;\n  left:50%;\n  text-align:center;\n}\n.bar:nth-child(1){\n  background-color:#da4733;\n  -webkit-animation:loading 3s linear infinite;\n          animation:loading 3s linear infinite;\n}\n.bar:nth-child(2){\n  background-color:#3b78e7;\n  -webkit-animation:loading 3s linear 1s infinite;\n          animation:loading 3s linear 1s infinite;\n}\n.bar:nth-child(3){\n  background-color:#fdba2c;\n  -webkit-animation:loading 3s linear 2s infinite;\n          animation:loading 3s linear 2s infinite;\n}\n@-webkit-keyframes loading{\n  from{\n    left:50%;\n    width:0;\n    z-index:100;\n  }\n  33.3333%{\n    left:0;\n    width:100%;\n    z-index:10;\n  }\n  to{\n    left:0;\n    width:100%;\n  }\n}\n@keyframes loading{\n  from{\n    left:50%;\n    width:0;\n    z-index:100;\n  }\n  33.3333%{\n    left:0;\n    width:100%;\n    z-index:10;\n  }\n  to{\n    left:0;\n    width:100%;\n  }\n}\n`]\n})\nexport class LoadingBarComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n",
    "import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'ht-button',\n  template: `<p>\n  button works!\n</p>\n`,\n  styles: [``]\n})\nexport class ButtonComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n",
    "import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'pluralize'\n})\nexport class PluralizePipe implements PipeTransform {\n\n  transform(value: string, args: number, suffix: string = 's', singularSuffix: string = ''): any {\n    if (args && typeof args === 'number') {\n      return args > 1 ? value + suffix : value + singularSuffix;\n    }\n    return value;\n  }\n\n}\n",
    "import { Pipe, PipeTransform } from '@angular/core';\n// import {DomSanitizer} from \"@angular/platform-browser\";\n\n@Pipe({name: 'safeUrl'})\nexport class SafeUrlPipe implements PipeTransform {\n\n  constructor() {}\n\n  transform(value: string, args?: any): any {\n    // return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n  }\n\n}\n",
    "import {Pipe, PipeTransform} from '@angular/core';\nimport {htAction} from \"ht-data\";\n\n@Pipe({\n  name: 'actionSortingString'\n})\nexport class ActionSortingStringPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return htAction().getSortingString(value);\n  }\n\n}\n",
    "import { Pipe, PipeTransform } from '@angular/core';\n// import {GetUserSortingString} from \"ht-data\";\n\n@Pipe({\n  name: 'userSortingString'\n})\nexport class UserSortingStringPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return value\n    // return GetUserSortingString(value);\n  }\n\n}\n",
    "import {Pipe, PipeTransform} from \"@angular/core\";\nimport {htAction} from \"ht-data\";\n\n\n@Pipe({\n  name: 'actionStatusString'\n})\nexport class ActionStatusStringPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return htAction().getFilterString(value);\n  }\n\n}\n",
    "import { Pipe, PipeTransform } from '@angular/core';\n// import {GetUserStatusString} from \"ht-js-data\";\n\n@Pipe({\n  name: 'usersStatusString'\n})\nexport class UsersStatusStringPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    if (status.split(',').length === 4) return 'Fit to map';\n    // return GetUserStatusString(value)\n  }\n\n}\n",
    "import { Pipe, PipeTransform } from '@angular/core';\nimport {HMString} from \"ht-utility\";\n\n@Pipe({\n  name: 'hmString'\n})\nexport class HmStringPipe implements PipeTransform {\n\n  transform(value: any, args?: any, args2?: true): any {\n    return HMString(value, args);\n  }\n\n}\n",
    "import { Pipe, PipeTransform } from '@angular/core';\nimport {DistanceLocale} from \"ht-utility\";\n\n@Pipe({\n  name: 'distanceLocale'\n})\nexport class DistanceLocalePipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return DistanceLocale(value, args);\n  }\n\n}\n",
    "import { Pipe, PipeTransform } from '@angular/core';\nimport {DateHumanize} from \"ht-utility\";\n\n@Pipe({\n  name: 'dateHumanize'\n})\nexport class DateHumanizePipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return DateHumanize(value);\n  }\n\n}\n",
    "import {Component, OnInit, Input, ChangeDetectionStrategy} from '@angular/core';\n\n@Component({\n  selector: 'ht-loading-data',\n  template: `<div [style.fontSize.px]=\"size || 'inherit'\" loading-dots><span>{{customMessage || message}}</span></div>\n`,\n  styles: [`:host{\n  color:#798E9B;\n  text-align:center;\n}\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class LoadingDataComponent implements OnInit {\n  @Input() size: number;\n  @Input() message: string = \"\";\n  @Input() customMessage: string;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n",
    "import {Component, OnInit, Input, ChangeDetectionStrategy} from '@angular/core';\n\n@Component({\n  selector: 'ht-loading-dots',\n  template: `<ng-content></ng-content>\n<span [style.fontSize.px]=\"size || 'inherit'\" class=\"loading-dots\"><span> &bull;</span><span> &bull;</span><span> &bull;</span></span>\n`,\n  styles: [`.loading-dots{\n  font-size:inherit;\n  margin:auto;\n}\n.loading-dots span{\n  -webkit-animation-name:blink;\n          animation-name:blink;\n  -webkit-animation-duration:1.4s;\n          animation-duration:1.4s;\n  -webkit-animation-iteration-count:infinite;\n          animation-iteration-count:infinite;\n  -webkit-animation-fill-mode:both;\n          animation-fill-mode:both;\n}\n.loading-dots span:nth-child(2){\n  -webkit-animation-delay:.2s;\n          animation-delay:.2s;\n}\n.loading-dots span:nth-child(3){\n  -webkit-animation-delay:.4s;\n          animation-delay:.4s;\n}\n@-webkit-keyframes blink{\n  0%{\n    opacity:.2;\n  }\n  20%{\n    opacity:1;\n  }\n  100%{\n    opacity:.2;\n  }\n}\n@keyframes blink{\n  0%{\n    opacity:.2;\n  }\n  20%{\n    opacity:1;\n  }\n  100%{\n    opacity:.2;\n  }\n}\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n\n})\nexport class LoadingDotsComponent implements OnInit {\n  @Input() show = true;\n  @Input() size: number;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n",
    "import { Pipe, PipeTransform } from '@angular/core';\nimport {DotString} from \"ht-utility\";\n\n@Pipe({\n  name: 'dot'\n})\nexport class DotPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return DotString(value, args);\n  }\n\n}\n",
    "import { Pipe, PipeTransform } from '@angular/core';\nimport {NameCase} from \"ht-utility\";\n\n@Pipe({\n  name: 'nameCase'\n})\nexport class NameCasePipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return NameCase(value);\n  }\n\n}\n",
    "import { Pipe, PipeTransform } from '@angular/core';\nimport {htAction} from \"ht-data\";\nimport {DateString} from \"ht-utility\";\n\n@Pipe({\n  name: 'dateString'\n})\nexport class DateStringPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return DateString(value, args);\n  }\n\n}\n",
    "import { Pipe, PipeTransform } from '@angular/core';\nimport {TimeString} from \"ht-utility\";\n\n@Pipe({\n  name: 'timeString'\n})\nexport class TimeStringPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return TimeString(value, args);\n  }\n\n}\n",
    "import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'ht-battery-icon',\n  template: `<div *ngIf=\"battery\" [ngClass]=\"layout == 'column' ? 'flex-column column-gap-4 justify-center' : 'flex-row row-gap-4 align-center'\" class=\"\">\n  <i class=\"fa\" *ngIf=\"reverse\" [ngClass]=\"batteryClass(battery)\"></i>\n  <div>\n    {{battery}}%\n  </div>\n  <i class=\"fa\" *ngIf=\"!reverse\" [ngClass]=\"batteryClass(battery)\"></i>\n</div>\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class BatteryIconComponent implements OnInit {\n  @Input() battery: number = 0;\n  @Input() layout: 'column' | 'row' = 'row';\n  @Input() reverse: boolean = false;\n  @Input() iconType: 'fa' | 'ionicon' = 'fa';\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  batteryClass(level: number) {\n    return this.iconType == 'ionicon' ? this.ioniconBatteryClass(level) : this.faBatteryClass(level)\n  }\n\n  private faBatteryClass(level: number) {\n    let className = '';\n    if (level > 90) {\n      className = 'fa fa-battery-4';\n    } else if (level > 70) {\n      className = 'fa fa-battery-3';\n    } else if (level > 25) {\n      className = 'fa fa-battery-2';\n    } else if (level > 5) {\n      className = 'fa fa-battery-1 text-red';\n    } else {\n      className = 'fa fa-battery-0 text-red';\n    };\n    return className;\n  };\n\n  private ioniconBatteryClass(level: number) {\n    let className = '';\n    if (level > 90) {\n      className = 'ion-battery-full';\n    } else if (level > 50) {\n      className = 'ion-battery-half';\n    } else if (level > 10) {\n      className = 'ion-battery-low';\n    } else {\n      className = 'ion-battery-empty text-red';\n    };\n    return className;\n  }\n\n}\n",
    "import {Component, OnInit, Input, ChangeDetectionStrategy} from '@angular/core';\nimport {DomSanitizer} from \"@angular/platform-browser\";\n// const missingUrl = require(\"../../../images/missing.png\");\n\n@Component({\n  selector: 'ht-profile',\n  template: `<div [style.height.px]=\"height\" [style.width.px]=\"height\" class=\"profile-img\" [ngStyle]=\"{ 'background-image': 'url(' + (url || defaultUrl) + ')'}\">\n\n</div>\n`,\n  styles: [`:host .profile-img{\n  background-repeat:no-repeat;\n  background-size:cover;\n  background-position:center;\n  border-radius:50%;\n}\n`],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ProfileComponent implements OnInit {\n  @Input() url: string;\n  @Input() height: number = 30;\n  defaultUrl: string = \"\";\n  constructor() {\n\n  }\n\n  ngOnInit() {\n    // this.url = this.url || \"images/missing.png\"\n\n  }\n\n}\n",
    "import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {IUserListSummary} from \"ht-models\";\n\n@Component({\n  selector: 'ht-users-summary',\n  template: `<div class=\"flex-column justify-center label-container has-text-grey\">\n  <div *ngIf=\"!hideTotal\" class=\"count text-center\">{{summary.totalUsers}} {{'user' | pluralize: summary.totalUsers}}</div>\n\n  <div class=\"flex-row\" *ngIf=\"summary.totalUsers\">\n    <ng-container *ngFor=\"let datum of summary.chart; trackBy:indexId; let i = index\">\n      <div\n        class=\"bar\"\n        [style.flex-basis.%]=\"datum.value/summary.totalUsers * 100\"\n        [style.background-color]=\"datum.color\"\n        [class.faded]=\"hoveredQuery && hoveredQuery !== datum.label\"\n        [class.bar-selected]=\"hoveredQuery && hoveredQuery === datum.label\"\n      *ngIf=\"datum.value\"></div>\n    </ng-container>\n\n  </div>\n  <div *ngIf=\"summary.totalUsers == 0\" class=\"bar\" style=\"width: 100%; background: #ccc\"></div>\n  <div class=\"flex-row row-gap-4\">\n    <!--<div class=\"box\" [style.background-color]=\"datum.color\"></div>-->\n    <div\n      class=\"graph-label flex-column\"\n      [class.graph-active]=\"datum.selected\"\n      [class.graph-label-selectable]=\"selectable\"\n      (click)=\"selectLabel(datum)\"\n      (mouseenter)=\"onHoverQuery(datum)\"\n      (mouseleave)=\"onHoveroutQuery()\"\n      *ngFor=\"let datum of summary.chart; trackBy:indexId; let i = index\">\n      <strong class=\"text-center is-size-4\" [style.color]=\"datum.color\">\n        {{datum.value}}\n      </strong>\n      <span class=\"text-center\">{{datum.label}}</span>\n\n    </div>\n    <!--<div class=\"box\" style=\"background-color: #ccc;\"></div>-->\n  </div>\n</div>\n<!--{{summary | json}}-->\n`,\n  styles: [`.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.ht-box{\n  height:20px;\n  min-width:20px;\n  border-radius:50%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  color:white;\n  text-shadow:0px 0.5px 1px #ffffff;\n  font-weight:bold;\n}\n.label-container{\n  min-width:170px;\n}\n.graph-label{\n  -webkit-transition:color 0.2s;\n  transition:color 0.2s;\n  padding:1px 5px;\n  color:#52616A;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  border-radius:4px;\n  font-size:14px;\n  margin-top:5px;\n}\n.graph-label:hover{\n  outline:1px solid #d6d6d6;\n}\n.graph-label-selectable{\n  cursor:pointer;\n}\n.bar{\n  height:10px;\n  -webkit-transition:width 1s ease-in-out;\n  transition:width 1s ease-in-out;\n  -webkit-transition:opacity 0.3s ease-in-out;\n  transition:opacity 0.3s ease-in-out;\n  float:right;\n}\n.bar:first-child{\n  border-bottom-left-radius:3px;\n  border-top-left-radius:3px;\n}\n.bar:last-child{\n  border-bottom-right-radius:3px;\n  border-top-right-radius:3px;\n}\n.graph-active{\n  background:#e2e2e2;\n}\n.count{\n  font-size:21px;\n  color:#52616A;\n  padding-bottom:18px;\n}\n:host{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.faded{\n  opacity:0.4;\n}\n.bar-selected{\n  outline:1px solid;\n}\n`]\n})\nexport class UsersSummaryComponent implements OnInit {\n  @Output() setQuery: EventEmitter<object> = new EventEmitter();\n  @Output() clearQueryKey: EventEmitter<string> = new EventEmitter();\n  @Input() summary;\n  @Input() hideTotal;\n  @Input() selectable: boolean = false;\n  hoveredQuery;\n\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n  onHoverQuery(query) {\n    this.hoveredQuery = query.label;\n  }\n\n  onHoveroutQuery() {\n    this.hoveredQuery = \"\"\n  }\n\n  indexId(index, item) {\n    return item.label\n  }\n\n  setFilter(datum) {\n    const query = {status: datum.values.toString()};\n    this.setQuery.next(query)\n  }\n\n  clearFilter(datum) {\n    this.clearQueryKey.next('status')\n  }\n\n  selectLabel(datum) {\n    if (!this.selectable) return false;\n    if (datum.selected) {\n      this.clearFilter(datum)\n    } else {\n      this.setFilter(datum)\n    }\n  }\n\n}\n",
    "import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {animate, style, transition, trigger} from \"@angular/animations\";\nimport {HtUsersService} from \"../ht/ht-users.service\";\nimport {QueryLabel} from \"ht-client\";\n\n@Component({\n  selector: 'ht-users-summary-container',\n  template: `<div [@summaryAnim] *ngIf=\"summary$ | async as summary\">\n  <ht-users-summary\n    [hideTotal]=\"hideTotal\"\n    (clearQueryKey)=\"onClearQueryKey($event)\"\n    (setQuery)=\"setQuery($event)\"\n    [selectable]=\"selectable\"\n    [summary]=\"summary\"></ht-users-summary>\n</div>\n\n`,\n  styles: [`ht-users-summary{\n  padding:10px 20px;\n}\n`],\n  animations: [\n    trigger('summaryAnim', [\n      transition(':enter', [\n        style({transform: 'translateX(-100px) scaleY(0)', height: 0, opacity: 0}),\n        animate('0.3s' + ' ease-out')\n      ]),\n      transition(':leave', [\n        animate('0.3s' + ' ease-in', style({transform: 'translateX(-100px)', height: 0, opacity: 0}))\n      ])])\n  ]\n})\nexport class UsersSummaryContainerComponent implements OnInit, OnDestroy {\n  summary$;\n  @Input() queryLabels: QueryLabel[];\n  @Input() hideTotal: boolean = false;\n  @Input() selectable: boolean = false;\n  @Input() clearDataOnDestroy: boolean = true;\n  @Input() toSetActive: boolean = true;\n  constructor(\n    private usersClientService: HtUsersService\n  ) { }\n\n  ngOnInit() {\n    if (this.toSetActive) this.usersClientService.summary.setActive();\n    this.summary$ = this.usersClientService.listStatusChart$(this.queryLabels);\n    // this.summary$ = this.usersClientService.summary.data$\n\n  }\n\n  onClearQueryKey(key) {\n    this.usersClientService.list.clearQueryKey(key)\n  }\n\n  setQuery(query: object) {\n    this.usersClientService.list.setQueryReset(query)\n  }\n\n  ngOnDestroy() {\n    if (this.clearDataOnDestroy) this.usersClientService.summary.clearData()\n  }\n\n}\n",
    "import {Inject, InjectionToken, ModuleWithProviders, NgModule} from '@angular/core';\nimport {HtMapService, MAP_TYPE} from \"./ht-map.service\";\nimport { usersClientFactory, groupsClientFactory, htClientService, actionsClientFactory} from \"ht-client\";\nimport {HttpClient, HttpClientModule} from \"@angular/common/http\";\nimport {HtRequestService} from \"./ht-request.service\";\nimport {HtUsersService} from \"./ht-users.service\";\nimport {HtGroupsService} from \"./ht-groups.service\";\nimport {HtClientService} from \"./ht-client.service\";\nimport {HtClient, HtUsersClient, HtGroupsClient, AccountsClient, HtActionsClient} from \"ht-client\";\nimport {HtAccountService} from \"./ht-account-users.service\";\nimport {HtActionsService} from \"./ht-actions.service\";\nimport {mapTypeService, HtMapClassOptions} from \"ht-maps\";\nimport {htRequestService} from \"ht-api\";\n\nexport var TOKEN = new InjectionToken('app.token');\nexport var MAP_KEY = new InjectionToken('app.mapKey');\nexport var BASE_URL = new InjectionToken('app.baseUrl');\n\nexport function requestServiceFactory(http, token, baseUrl) {\n  const request = new HtRequestService(http, token);\n  if (baseUrl) request.baseUrl = baseUrl;\n  return request\n}\n\nexport function clientServiceFactory(token, request) {\n  const client = htClientService.getInstance(token, request);\n  return client\n}\n\nexport function mapServiceFactory(mapType, mapKey) {\n  if (mapType === void 0) { mapType = 'google'; }\n  let options: HtMapClassOptions = {};\n  if (mapKey) options.mapKey = mapKey;\n  return new HtMapService(mapType, options);\n}\n\nexport function userClientServiceFactory() {\n  return usersClientFactory()\n}\n\nexport function actionClientServiceFactory() {\n  return actionsClientFactory()\n}\n\nexport function groupClientServiceFactory() {\n  return groupsClientFactory()\n}\n\nexport function accountUsersClientServiceFactory() {\n  return new AccountsClient();\n}\n\n@NgModule({\n  imports: [HttpClientModule]\n})\nexport class HtModule {\n  static forRoot(config: HtModuleConfig): ModuleWithProviders {\n    return {\n      ngModule: HtModule,\n      providers: [\n        HttpClient,\n        { provide: MAP_TYPE, useValue: config.mapType },\n        { provide: TOKEN, useValue: config.token },\n        { provide: MAP_KEY, useValue: config.mapKey },\n        { provide: BASE_URL, useValue: config.baseUrl },\n        { provide: HtMapService, useFactory: mapServiceFactory, deps: [MAP_TYPE, MAP_KEY] },\n        { provide: HtRequestService, useFactory: requestServiceFactory, deps: [HttpClient, TOKEN, BASE_URL]},\n        { provide: HtClientService,\n          useFactory: clientServiceFactory,\n          deps: [TOKEN, HtRequestService]\n        },\n        {\n          provide: HtUsersService,\n          useFactory: userClientServiceFactory\n        },\n        {\n          provide: HtActionsService,\n          useFactory: actionClientServiceFactory\n        },\n        {\n          provide: HtGroupsService,\n          useFactory: groupClientServiceFactory\n        },\n        {\n          provide: HtAccountService,\n          useFactory: accountUsersClientServiceFactory\n          // useClass: AccountsClient\n        },\n\n      ]\n    };\n\n  };\n\n  constructor(\n    @Inject(TOKEN) token,\n    clientService: HtClientService,\n    mapService: HtMapService\n  ) {\n\n  }\n};\n\nexport interface HtModuleConfig {\n  token?: string,\n  mapType?: 'leaflet' | 'google',\n  baseUrl?: string,\n  mapKey?: string\n}\n\n\n",
    "import {Observable} from \"rxjs/Observable\";\nimport {HtRequest} from \"ht-api\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {of} from \"rxjs/observable/of\";\n\nexport class HtRequestService extends HtRequest {\n  // http;\n  constructor(private http: HttpClient, token) {\n    super(token)\n  }\n\n  getObservable<T>(url, options: object = {}) {\n    return this.http.get<T>(url, options);\n  }\n\n\n  postObservable<T>(url, body, options: object = {}) {\n    return this.http.post<T>(url, body, options);\n  }\n}\n",
    "import {HtActionsClient} from \"ht-client\";\n\nexport class HtActionsService extends HtActionsClient{\n\n}\n",
    "import {AccountsClient} from \"ht-client\";\nimport {Injectable} from \"@angular/core\";\n\nexport class HtAccountService extends AccountsClient {\n\n}\n",
    "import {HtGroupsClient} from \"ht-client\";\n\nexport class HtGroupsService extends HtGroupsClient {\n\n}\n",
    "import {Inject, Injectable, InjectionToken} from '@angular/core';\nimport {HtMapClass} from \"ht-maps\";\n\nexport class HtMapService extends HtMapClass {\n  // constructor(@Inject(MAP_TYPE) mapType: HtMapType) {\n  //   super(mapType)\n  // }\n  // constructor() { }\n\n}\n\nexport var MAP_TYPE = new InjectionToken('app.mapType');\n\n",
    "import {HtUsersClient} from \"ht-client\";\n\nexport class HtUsersService extends HtUsersClient {\n\n  // constructor() { }\n\n}\n",
    "import {HtClient} from \"ht-client\";\n\nexport class HtClientService extends HtClient {\n\n}\n"
  ],
  "names": [
    "tslib_1.__values",
    "map",
    "state",
    "dateRangeService",
    "query",
    "_.last",
    "_.reduce",
    "_.map",
    "_.sortBy",
    "tslib_1.__extends"
  ],
  "mappings": "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"
}
